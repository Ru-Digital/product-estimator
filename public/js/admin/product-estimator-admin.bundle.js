/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/admin.js":
/*!*************************!*\
  !*** ./src/js/admin.js ***!
  \*************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _admin_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./admin/index */ \"./src/js/admin/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n\n\nvar logger = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.createLogger)('ProductEstimatorAdmin');\nlogger.log('Product Estimator Admin initialized');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4uanMiLCJtYXBwaW5ncyI6Ijs7O0FBQXVCO0FBQ2U7QUFFdEMsSUFBTUMsTUFBTSxHQUFHRCxvREFBWSxDQUFDLHVCQUF1QixDQUFDO0FBQ3BEQyxNQUFNLENBQUNDLEdBQUcsQ0FBQyxxQ0FBcUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2R1Y3QtZXN0aW1hdG9yLy4vc3JjL2pzL2FkbWluLmpzPzIzMWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2FkbWluL2luZGV4JztcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0B1dGlscyc7XG5cbmNvbnN0IGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcignUHJvZHVjdEVzdGltYXRvckFkbWluJyk7XG5sb2dnZXIubG9nKCdQcm9kdWN0IEVzdGltYXRvciBBZG1pbiBpbml0aWFsaXplZCcpO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUxvZ2dlciIsImxvZ2dlciIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin.js\n");

/***/ }),

/***/ "./src/js/admin/ProductEstimatorAdmin.js":
/*!***********************************************!*\
  !*** ./src/js/admin/ProductEstimatorAdmin.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n\n\n/**\n * Admin JavaScript functionality\n *\n * General admin functionality for the Product Estimator plugin in the ADMIN\n * Note: Tab management functionality has been moved to ProductEstimatorSettings.js\n */\n\nvar logger = (0,_utils__WEBPACK_IMPORTED_MODULE_2__.createLogger)('ProductEstimatorAdmin');\nvar ProductEstimatorAdmin = /*#__PURE__*/function () {\n  /**\n   * Initialize the admin functionality\n   */\n  function ProductEstimatorAdmin() {\n    var _this = this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, ProductEstimatorAdmin);\n    // Initialize when document is ready\n    jQuery(document).ready(function () {\n      _this.initializeVariables();\n      _this.bindEvents();\n\n      // Only initialize tabs if we're not on the settings page\n      if (!_this.isSettingsPage()) {\n        _this.initializeTabs();\n      }\n    });\n  }\n\n  /**\n   * Check if we're on the settings page to avoid conflicts\n   * @returns {boolean} Whether this is the settings page\n   */\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ProductEstimatorAdmin, [{\n    key: \"isSettingsPage\",\n    value: function isSettingsPage() {\n      // Check if URL contains settings page identifier\n      var urlParams = new URLSearchParams(window.location.search);\n      var page = urlParams.get('page');\n      return page && page.indexOf('-settings') > -1;\n    }\n\n    /**\n     * Initialize class variables\n     */\n  }, {\n    key: \"initializeVariables\",\n    value: function initializeVariables() {\n      this.formChanged = false;\n      this.currentTab = '';\n      this.reportData = null;\n      this.chart = null;\n    }\n\n    /**\n     * Bind event listeners\n     */\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var $ = jQuery;\n\n      // Only bind tab events if not on settings page\n      if (!this.isSettingsPage()) {\n        // Tab switching\n        $('.nav-tab-wrapper').on('click', '.nav-tab', this.handleTabClick.bind(this));\n      }\n\n      // Real-time validation\n      this.initializeValidation();\n\n      // Window beforeunload\n      $(window).on('beforeunload', this.handleBeforeUnload.bind(this));\n    }\n\n    /**\n     * Initialize tab functionality\n     */\n  }, {\n    key: \"initializeTabs\",\n    value: function initializeTabs() {\n      var $ = jQuery;\n\n      // Get first tab if none is active\n      var $firstTab = $('.nav-tab:first');\n      var firstTabId = $firstTab.data('tab') || 'tab-1';\n      $('.tab-content').hide();\n      $(\"#\".concat(firstTabId)).show();\n      $firstTab.addClass('nav-tab-active');\n      this.currentTab = firstTabId;\n\n      // Check for URL parameters\n      var urlParams = new URLSearchParams(window.location.search);\n      var tab = urlParams.get('tab');\n      if (tab) {\n        this.switchTab(tab);\n      }\n    }\n\n    /**\n     * Handle tab clicks\n     * @param {Event} e - Click event\n     */\n  }, {\n    key: \"handleTabClick\",\n    value: function handleTabClick(e) {\n      e.preventDefault();\n      var $ = jQuery;\n      var tab = $(e.currentTarget).data('tab');\n      if (this.formChanged) {\n        if (confirm(productEstimatorAdmin.i18n.unsavedChanges)) {\n          this.switchTab(tab);\n        }\n      } else {\n        this.switchTab(tab);\n      }\n    }\n\n    /**\n     * Switch to specified tab\n     * @param {string} tab - Tab identifier\n     */\n  }, {\n    key: \"switchTab\",\n    value: function switchTab(tab) {\n      var $ = jQuery;\n      $('.nav-tab').removeClass('nav-tab-active');\n      $(\".nav-tab[data-tab=\\\"\".concat(tab, \"\\\"]\")).addClass('nav-tab-active');\n      $('.tab-content').hide();\n      $(\"#\".concat(tab)).show();\n      this.currentTab = tab;\n\n      // Update URL without reload\n      var url = new URL(window.location);\n      url.searchParams.set('tab', tab);\n      window.history.pushState({}, '', url);\n\n      // Load tab-specific content\n      if (tab === 'reports' && !this.reportData) {\n        this.loadInitialReport();\n      }\n    }\n\n    /**\n     * Initialize form validation\n     */\n  }, {\n    key: \"initializeValidation\",\n    value: function initializeValidation() {\n      // Skip this if we're on the settings page\n      if (this.isSettingsPage()) {\n        return;\n      }\n      var $ = jQuery;\n      var $form = $('.product-estimator-form');\n\n      // Real-time email validation\n      $form.find('input[type=\"email\"]').on('change', function (e) {\n        var $input = $(e.currentTarget);\n        var email = $input.val();\n        if (email && !(0,_utils__WEBPACK_IMPORTED_MODULE_2__.validateEmail)(email)) {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_2__.showFieldError)($input, productEstimatorAdmin.i18n.invalidEmail);\n        } else {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clearFieldError)($input);\n        }\n      });\n\n      // Number range validation\n      $form.find('input[type=\"number\"]').on('change', function (e) {\n        var $input = $(e.currentTarget);\n        var value = parseInt($input.val());\n        var min = parseInt($input.attr('min'));\n        var max = parseInt($input.attr('max'));\n        if (value < min || value > max) {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_2__.showFieldError)($input, productEstimatorAdmin.i18n.numberRange.replace('%min%', min).replace('%max%', max));\n        } else {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_2__.clearFieldError)($input);\n        }\n      });\n    }\n\n    /**\n     * Handle window beforeunload event\n     * @param {Event} e - BeforeUnload event\n     * @returns {string|undefined} Confirmation message or undefined if no changes\n     */\n  }, {\n    key: \"handleBeforeUnload\",\n    value: function handleBeforeUnload(e) {\n      if (this.formChanged) {\n        e.preventDefault();\n        return productEstimatorAdmin.i18n.unsavedChanges;\n      }\n    }\n\n    /**\n     * Load initial report data (placeholder for report functionality)\n     */\n  }, {\n    key: \"loadInitialReport\",\n    value: function loadInitialReport() {\n      // This would load report data from the server via AJAX\n    }\n  }]);\n}(); // Create instance\nnew ProductEstimatorAdmin();\n// Log initialization\nlogger.log('ProductEstimatorAdmin initialized');\n\n// Export for module use\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductEstimatorAdmin);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUNuQixXQUFXLEVBQUU7UUFDcEJtQixDQUFDLENBQUNDLGNBQWMsQ0FBQyxDQUFDO1FBQ2xCLE9BQU9HLHFCQUFxQixDQUFDQyxJQUFJLENBQUNDLGNBQWM7TUFDbEQ7SUFDRjs7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBbkMsR0FBQTtJQUFBQyxLQUFBLEVBR0EsU0FBQTBDLGlCQUFpQkEsQ0FBQSxFQUFHO01BQ2xCO0lBQUE7RUFDRDtBQUFBLEtBR0g7QUFDQSxJQUFJdEQscUJBQXFCLENBQUMsQ0FBQztBQUMzQjtBQUNBRCxNQUFNLENBQUNvRSxHQUFHLENBQUMsbUNBQW1DLENBQUM7O0FBRS9DO0FBQ0EsK0RBQWVuRSxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kdWN0LWVzdGltYXRvci8uL3NyYy9qcy9hZG1pbi9Qcm9kdWN0RXN0aW1hdG9yQWRtaW4uanM/MDgwZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkbWluIEphdmFTY3JpcHQgZnVuY3Rpb25hbGl0eVxuICpcbiAqIEdlbmVyYWwgYWRtaW4gZnVuY3Rpb25hbGl0eSBmb3IgdGhlIFByb2R1Y3QgRXN0aW1hdG9yIHBsdWdpbiBpbiB0aGUgQURNSU5cbiAqIE5vdGU6IFRhYiBtYW5hZ2VtZW50IGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gbW92ZWQgdG8gUHJvZHVjdEVzdGltYXRvclNldHRpbmdzLmpzXG4gKi9cbmltcG9ydCB7IHNob3dGaWVsZEVycm9yLCBjbGVhckZpZWxkRXJyb3IsIHZhbGlkYXRlRW1haWwsIGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0B1dGlscyc7XG5jb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ1Byb2R1Y3RFc3RpbWF0b3JBZG1pbicpO1xuXG5jbGFzcyBQcm9kdWN0RXN0aW1hdG9yQWRtaW4ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgYWRtaW4gZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSB3aGVuIGRvY3VtZW50IGlzIHJlYWR5XG4gICAgalF1ZXJ5KGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gICAgICB0aGlzLmluaXRpYWxpemVWYXJpYWJsZXMoKTtcbiAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xuXG4gICAgICAvLyBPbmx5IGluaXRpYWxpemUgdGFicyBpZiB3ZSdyZSBub3Qgb24gdGhlIHNldHRpbmdzIHBhZ2VcbiAgICAgIGlmICghdGhpcy5pc1NldHRpbmdzUGFnZSgpKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVRhYnMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB3ZSdyZSBvbiB0aGUgc2V0dGluZ3MgcGFnZSB0byBhdm9pZCBjb25mbGljdHNcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgc2V0dGluZ3MgcGFnZVxuICAgKi9cbiAgaXNTZXR0aW5nc1BhZ2UoKSB7XG4gICAgLy8gQ2hlY2sgaWYgVVJMIGNvbnRhaW5zIHNldHRpbmdzIHBhZ2UgaWRlbnRpZmllclxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgcGFnZSA9IHVybFBhcmFtcy5nZXQoJ3BhZ2UnKTtcbiAgICByZXR1cm4gcGFnZSAmJiBwYWdlLmluZGV4T2YoJy1zZXR0aW5ncycpID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBjbGFzcyB2YXJpYWJsZXNcbiAgICovXG4gIGluaXRpYWxpemVWYXJpYWJsZXMoKSB7XG4gICAgdGhpcy5mb3JtQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudFRhYiA9ICcnO1xuICAgIHRoaXMucmVwb3J0RGF0YSA9IG51bGw7XG4gICAgdGhpcy5jaGFydCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudCBsaXN0ZW5lcnNcbiAgICovXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgY29uc3QgJCA9IGpRdWVyeTtcblxuICAgIC8vIE9ubHkgYmluZCB0YWIgZXZlbnRzIGlmIG5vdCBvbiBzZXR0aW5ncyBwYWdlXG4gICAgaWYgKCF0aGlzLmlzU2V0dGluZ3NQYWdlKCkpIHtcbiAgICAgIC8vIFRhYiBzd2l0Y2hpbmdcbiAgICAgICQoJy5uYXYtdGFiLXdyYXBwZXInKS5vbignY2xpY2snLCAnLm5hdi10YWInLCB0aGlzLmhhbmRsZVRhYkNsaWNrLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8vIFJlYWwtdGltZSB2YWxpZGF0aW9uXG4gICAgdGhpcy5pbml0aWFsaXplVmFsaWRhdGlvbigpO1xuXG4gICAgLy8gV2luZG93IGJlZm9yZXVubG9hZFxuICAgICQod2luZG93KS5vbignYmVmb3JldW5sb2FkJywgdGhpcy5oYW5kbGVCZWZvcmVVbmxvYWQuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0YWIgZnVuY3Rpb25hbGl0eVxuICAgKi9cbiAgaW5pdGlhbGl6ZVRhYnMoKSB7XG4gICAgY29uc3QgJCA9IGpRdWVyeTtcblxuICAgIC8vIEdldCBmaXJzdCB0YWIgaWYgbm9uZSBpcyBhY3RpdmVcbiAgICBjb25zdCAkZmlyc3RUYWIgPSAkKCcubmF2LXRhYjpmaXJzdCcpO1xuICAgIGNvbnN0IGZpcnN0VGFiSWQgPSAkZmlyc3RUYWIuZGF0YSgndGFiJykgfHwgJ3RhYi0xJztcblxuICAgICQoJy50YWItY29udGVudCcpLmhpZGUoKTtcbiAgICAkKGAjJHtmaXJzdFRhYklkfWApLnNob3coKTtcbiAgICAkZmlyc3RUYWIuYWRkQ2xhc3MoJ25hdi10YWItYWN0aXZlJyk7XG4gICAgdGhpcy5jdXJyZW50VGFiID0gZmlyc3RUYWJJZDtcblxuICAgIC8vIENoZWNrIGZvciBVUkwgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgdGFiID0gdXJsUGFyYW1zLmdldCgndGFiJyk7XG5cbiAgICBpZiAodGFiKSB7XG4gICAgICB0aGlzLnN3aXRjaFRhYih0YWIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGFiIGNsaWNrc1xuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnRcbiAgICovXG4gIGhhbmRsZVRhYkNsaWNrKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJCA9IGpRdWVyeTtcbiAgICBjb25zdCB0YWIgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgndGFiJyk7XG5cbiAgICBpZiAodGhpcy5mb3JtQ2hhbmdlZCkge1xuICAgICAgaWYgKGNvbmZpcm0ocHJvZHVjdEVzdGltYXRvckFkbWluLmkxOG4udW5zYXZlZENoYW5nZXMpKSB7XG4gICAgICAgIHRoaXMuc3dpdGNoVGFiKHRhYik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3dpdGNoVGFiKHRhYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN3aXRjaCB0byBzcGVjaWZpZWQgdGFiXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWIgLSBUYWIgaWRlbnRpZmllclxuICAgKi9cbiAgc3dpdGNoVGFiKHRhYikge1xuICAgIGNvbnN0ICQgPSBqUXVlcnk7XG5cbiAgICAkKCcubmF2LXRhYicpLnJlbW92ZUNsYXNzKCduYXYtdGFiLWFjdGl2ZScpO1xuICAgICQoYC5uYXYtdGFiW2RhdGEtdGFiPVwiJHt0YWJ9XCJdYCkuYWRkQ2xhc3MoJ25hdi10YWItYWN0aXZlJyk7XG5cbiAgICAkKCcudGFiLWNvbnRlbnQnKS5oaWRlKCk7XG4gICAgJChgIyR7dGFifWApLnNob3coKTtcblxuICAgIHRoaXMuY3VycmVudFRhYiA9IHRhYjtcblxuICAgIC8vIFVwZGF0ZSBVUkwgd2l0aG91dCByZWxvYWRcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3RhYicsIHRhYik7XG4gICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKTtcblxuICAgIC8vIExvYWQgdGFiLXNwZWNpZmljIGNvbnRlbnRcbiAgICBpZiAodGFiID09PSAncmVwb3J0cycgJiYgIXRoaXMucmVwb3J0RGF0YSkge1xuICAgICAgdGhpcy5sb2FkSW5pdGlhbFJlcG9ydCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGZvcm0gdmFsaWRhdGlvblxuICAgKi9cbiAgaW5pdGlhbGl6ZVZhbGlkYXRpb24oKSB7XG4gICAgLy8gU2tpcCB0aGlzIGlmIHdlJ3JlIG9uIHRoZSBzZXR0aW5ncyBwYWdlXG4gICAgaWYgKHRoaXMuaXNTZXR0aW5nc1BhZ2UoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0ICQgPSBqUXVlcnk7XG4gICAgY29uc3QgJGZvcm0gPSAkKCcucHJvZHVjdC1lc3RpbWF0b3ItZm9ybScpO1xuXG4gICAgLy8gUmVhbC10aW1lIGVtYWlsIHZhbGlkYXRpb25cbiAgICAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5vbignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgIGNvbnN0ICRpbnB1dCA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgIGNvbnN0IGVtYWlsID0gJGlucHV0LnZhbCgpO1xuXG4gICAgICBpZiAoZW1haWwgJiYgIXZhbGlkYXRlRW1haWwoZW1haWwpKSB7XG4gICAgICAgIHNob3dGaWVsZEVycm9yKCRpbnB1dCwgcHJvZHVjdEVzdGltYXRvckFkbWluLmkxOG4uaW52YWxpZEVtYWlsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFyRmllbGRFcnJvcigkaW5wdXQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTnVtYmVyIHJhbmdlIHZhbGlkYXRpb25cbiAgICAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwibnVtYmVyXCJdJykub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBjb25zdCAkaW5wdXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KCRpbnB1dC52YWwoKSk7XG4gICAgICBjb25zdCBtaW4gPSBwYXJzZUludCgkaW5wdXQuYXR0cignbWluJykpO1xuICAgICAgY29uc3QgbWF4ID0gcGFyc2VJbnQoJGlucHV0LmF0dHIoJ21heCcpKTtcblxuICAgICAgaWYgKHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICAgIHNob3dGaWVsZEVycm9yKCRpbnB1dCwgcHJvZHVjdEVzdGltYXRvckFkbWluLmkxOG4ubnVtYmVyUmFuZ2VcbiAgICAgICAgICAucmVwbGFjZSgnJW1pbiUnLCBtaW4pXG4gICAgICAgICAgLnJlcGxhY2UoJyVtYXglJywgbWF4KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGVhckZpZWxkRXJyb3IoJGlucHV0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgd2luZG93IGJlZm9yZXVubG9hZCBldmVudFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQmVmb3JlVW5sb2FkIGV2ZW50XG4gICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBDb25maXJtYXRpb24gbWVzc2FnZSBvciB1bmRlZmluZWQgaWYgbm8gY2hhbmdlc1xuICAgKi9cbiAgaGFuZGxlQmVmb3JlVW5sb2FkKGUpIHtcbiAgICBpZiAodGhpcy5mb3JtQ2hhbmdlZCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIHByb2R1Y3RFc3RpbWF0b3JBZG1pbi5pMThuLnVuc2F2ZWRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGluaXRpYWwgcmVwb3J0IGRhdGEgKHBsYWNlaG9sZGVyIGZvciByZXBvcnQgZnVuY3Rpb25hbGl0eSlcbiAgICovXG4gIGxvYWRJbml0aWFsUmVwb3J0KCkge1xuICAgIC8vIFRoaXMgd291bGQgbG9hZCByZXBvcnQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIgdmlhIEFKQVhcbiAgfVxufVxuXG4vLyBDcmVhdGUgaW5zdGFuY2Vcbm5ldyBQcm9kdWN0RXN0aW1hdG9yQWRtaW4oKTtcbi8vIExvZyBpbml0aWFsaXphdGlvblxubG9nZ2VyLmxvZygnUHJvZHVjdEVzdGltYXRvckFkbWluIGluaXRpYWxpemVkJyk7XG5cbi8vIEV4cG9ydCBmb3IgbW9kdWxlIHVzZVxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdEVzdGltYXRvckFkbWluO1xuIl0sIm5hbWVzIjpbInNob3dGaWVsZEVycm9yIiwiY2xlYXJGaWVsZEVycm9yIiwidmFsaWRhdGVFbWFpbCIsImNyZWF0ZUxvZ2dlciIsImxvZ2dlciIsIlByb2R1Y3RFc3RpbWF0b3JBZG1pbiIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwialF1ZXJ5IiwiZG9jdW1lbnQiLCJyZWFkeSIsImluaXRpYWxpemVWYXJpYWJsZXMiLCJiaW5kRXZlbnRzIiwiaXNTZXR0aW5nc1BhZ2UiLCJpbml0aWFsaXplVGFicyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJwYWdlIiwiZ2V0IiwiaW5kZXhPZiIsImZvcm1DaGFuZ2VkIiwiY3VycmVudFRhYiIsInJlcG9ydERhdGEiLCJjaGFydCIsIiQiLCJvbiIsImhhbmRsZVRhYkNsaWNrIiwiYmluZCIsImluaXRpYWxpemVWYWxpZGF0aW9uIiwiaGFuZGxlQmVmb3JlVW5sb2FkIiwiJGZpcnN0VGFiIiwiZmlyc3RUYWJJZCIsImRhdGEiLCJoaWRlIiwiY29uY2F0Iiwic2hvdyIsImFkZENsYXNzIiwidGFiIiwic3dpdGNoVGFiIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsImNvbmZpcm0iLCJwcm9kdWN0RXN0aW1hdG9yQWRtaW4iLCJpMThuIiwidW5zYXZlZENoYW5nZXMiLCJyZW1vdmVDbGFzcyIsInVybCIsIlVSTCIsInNlYXJjaFBhcmFtcyIsInNldCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJsb2FkSW5pdGlhbFJlcG9ydCIsIiRmb3JtIiwiZmluZCIsIiRpbnB1dCIsImVtYWlsIiwidmFsIiwiaW52YWxpZEVtYWlsIiwicGFyc2VJbnQiLCJtaW4iLCJhdHRyIiwibWF4IiwibnVtYmVyUmFuZ2UiLCJyZXBsYWNlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/ProductEstimatorAdmin.js\n");

/***/ }),

/***/ "./src/js/admin/common/AdminTableManager.js":
/*!**************************************************!*\
  !*** ./src/js/admin/common/AdminTableManager.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _VerticalTabbedModule_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./VerticalTabbedModule.js */ \"./src/js/admin/common/VerticalTabbedModule.js\");\n\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n// File: admin/js/common/AdminTableManager.js\n\n/**\n * AdminTableManager.js\n *\n * Base class for managing admin list tables with add/edit/delete functionality\n * driven by AJAX. It relies on a specific HTML structure and localized data\n * provided by the corresponding PHP settings module.\n * Now extends VerticalTabbedModule.\n */\n // Import utilities needed for this class\n\n\nvar AdminTableManager = /*#__PURE__*/function (_VerticalTabbedModule) {\n  /**\n   * Constructor for AdminTableManager.\n   * @param {object} config - Configuration object for the module.\n   * @param {string} config.mainTabId - The ID of the main horizontal tab this table manager belongs to.\n   * @param {string} config.localizedDataName - The name of the global JS object holding localized data.\n   */\n  function AdminTableManager(config) {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, AdminTableManager);\n    // Configuration for the VerticalTabbedModule parent class\n    var vtmConfig = _objectSpread(_objectSpread({}, config), {}, {\n      // Includes mainTabId, localizedDataName, and possibly defaultSubTabId\n      // Only set defaultSubTabId if not already provided in config\n      defaultSubTabId: config.defaultSubTabId || config.mainTabId + '_table',\n      // Use more predictable format\n      ajaxActionPrefix: \"atm_form_save_\".concat(config.mainTabId)\n    });\n    _this = _callSuper(this, AdminTableManager, [vtmConfig]); // Calls VerticalTabbedModule constructor\n    _this.config = config; // <<<< ADD THIS LINE\n\n    // --- CORRECTED LOGGER INITIALIZATION ---\n    // Use `config.mainTabId` (from this constructor's direct argument `config`)\n    // This `config` is guaranteed to have `mainTabId` as passed by ProductAdditionsSettingsModule.\n\n    var loggerName = \"AdminTableManager:\".concat(config.mainTabId || 'Generic');\n    _this.logger = (0,_utils__WEBPACK_IMPORTED_MODULE_9__.createLogger)(loggerName); // Pass the pre-constructed string\n\n    // `this.settings` is initialized by the `super(vtmConfig)` call chain (ProductEstimatorSettings).\n    // `this.settings.tab_id` will hold the mainTabId.\n    // A check for its presence after super() is good practice.\n    if (!_this.settings || !_this.settings.tab_id) {\n      // This was previously an empty block, but it should log a warning\n      _this.logger.warn('AdminTableManager: No tab_id found in settings.');\n    }\n    _this.formModified = false;\n    _this.isEditMode = false;\n    _this.currentItemId = null;\n    // Note: this.settings (formerly this.localizedData) is initialized by ProductEstimatorSettings\n    return _this;\n  }\n\n  /**\n   * Validates that essential settings (now from this.settings) are provided.\n   * @private\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(AdminTableManager, _VerticalTabbedModule);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(AdminTableManager, [{\n    key: \"_validateSettings\",\n    value: function _validateSettings() {\n      if (!this.settings || this.settings.tab_id === undefined) {\n        throw new Error(\"AdminTableManager: Essential property 'this.settings.tab_id' was not initialized by the parent class. Cannot validate settings.\");\n      }\n      if (Object.keys(this.settings).length === 0) {\n        var errorMsg = \"AdminTableManager: Settings (this.settings) is an empty object\";\n        if (this.settingsObjectName) {\n          errorMsg += \" (expected from window.\".concat(this.settingsObjectName, \"). This might happen if the global object is empty or not correctly populated.\");\n        }\n        throw new Error(errorMsg + \" Cannot proceed with empty settings for tab \\\"\".concat(this.settings.tab_id, \"\\\".\"));\n      }\n      var required = {\n        actions: ['add_item', 'update_item', 'delete_item'],\n        selectors: ['formContainer', 'form', 'addButton', 'listTableBody', 'editButton', 'deleteButton', 'idInput', 'saveButton', 'cancelButton', 'noItemsMessage', 'formTitle', 'listItemRow', 'listTableContainer', 'listTable'],\n        i18n_keys: ['confirmDelete', 'itemSavedSuccess', 'itemDeletedSuccess', 'errorSavingItem', 'errorDeletingItem', 'addItemButtonLabel', 'editItemFormTitle', 'saving', 'deleting', 'editButtonLabel', 'deleteButtonLabel']\n      };\n      var allValid = true;\n      if (this.settings.ajaxUrl === undefined) {\n        allValid = false;\n      }\n      if (this.settings.nonce === undefined) {\n        allValid = false;\n      }\n      if (this.settings.option_name === undefined) {\n        allValid = false;\n      }\n      if (this.settings.actions) {\n        var _iterator = _createForOfIteratorHelper(required.actions),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var key = _step.value;\n            if (this.settings.actions[key] === undefined) {\n              allValid = false;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        allValid = false;\n      }\n      if (this.settings.selectors) {\n        var _iterator2 = _createForOfIteratorHelper(required.selectors),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _key = _step2.value;\n            if (this.settings.selectors[_key] === undefined) {\n              allValid = false;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      } else {\n        allValid = false;\n      }\n      if (this.settings.i18n) {\n        var _iterator3 = _createForOfIteratorHelper(required.i18n_keys),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _key2 = _step3.value;\n            if (this.settings.i18n[_key2] === undefined) {\n              this.logger.warn(\"AdminTableManager: Missing i18n key '\".concat(_key2, \"' in settings.i18n\"));\n              allValid = false;\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      } else {\n        allValid = false;\n      }\n      if (!allValid) {\n        throw new Error(\"AdminTableManager: Settings validation failed due to missing critical settings in this.settings for tab \\\"\".concat(this.settings.tab_id, \"\\\". Check console for details.\"));\n      }\n    }\n\n    /**\n     * Initializes the table manager. This method overrides VerticalTabbedModule.moduleInit().\n     * It's called after DOM is ready and this.$container is set by the parent class.\n     */\n  }, {\n    key: \"moduleInit\",\n    value: function moduleInit() {\n      _superPropGet(AdminTableManager, \"moduleInit\", this, 3)([]); // Calls VerticalTabbedModule.moduleInit() which sets up $container etc.\n\n      if (!this.$container || !this.$container.length) {\n        if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n          window.ProductEstimatorSettingsInstance.showNotice(\"Critical error: Table manager UI container #\".concat(this.settings.tab_id, \" missing.\"), 'error');\n        }\n        return;\n      }\n      try {\n        this._validateSettings();\n      } catch (error) {\n        if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n          window.ProductEstimatorSettingsInstance.showNotice(\"Error initializing table manager for \".concat(this.settings.tab_id, \": Configuration validation failed. Check console. Details: \").concat(error.message), 'error');\n        }\n        return;\n      }\n      this.cacheDOM();\n      if (this._checkEssentialDOM()) {\n        this.bindEvents();\n        this.updateNoItemsMessageVisibility();\n        this.$(document).trigger(\"admin_table_manager_ready_\".concat(this.settings.tab_id), [this]);\n      } else {\n        if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n          var tabDisplayName = this.settings.tab_id;\n          window.ProductEstimatorSettingsInstance.showNotice(\"Error initializing UI components for \".concat(tabDisplayName, \". Some parts may not work. Check console for missing DOM elements.\"), 'error');\n        }\n      }\n    }\n  }, {\n    key: \"_checkEssentialDOM\",\n    value: function _checkEssentialDOM() {\n      var essentialFound = true;\n      if (!this.settings || !this.settings.selectors) {\n        return false;\n      }\n      var essentialSelectors = ['formContainer', 'form', 'addButton', 'listTableBody', 'listTableContainer', 'listTable', 'noItemsMessage', 'formTitle', 'idInput', 'saveButton', 'cancelButton'];\n      for (var _i = 0, _essentialSelectors = essentialSelectors; _i < _essentialSelectors.length; _i++) {\n        var key = _essentialSelectors[_i];\n        if (!this.dom[key] || !this.dom[key].length) {\n          essentialFound = false;\n        }\n      }\n      return essentialFound;\n    }\n  }, {\n    key: \"cacheDOM\",\n    value: function cacheDOM() {\n      this.dom = {};\n      if (!this.settings || !this.settings.selectors) {\n        return;\n      }\n      if (this.$container && this.$container.length) {\n        for (var key in this.settings.selectors) {\n          if (Object.prototype.hasOwnProperty.call(this.settings.selectors, key)) {\n            this.dom[key] = this.$container.find(this.settings.selectors[key]);\n          }\n        }\n      } else {\n        this.logger.warn(\"AdminTableManager: Container for '\".concat(this.settings.tab_id, \"' not found or has no length.\"));\n      }\n    }\n\n    /**\n     * Binds event handlers to DOM elements.\n     * This method sets up all the common event handling for the table manager.\n     */\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this$dom$addButton,\n        _this$settings$select,\n        _this$settings$select2,\n        _this$dom$form,\n        _this$dom$cancelButto,\n        _this$dom$form2,\n        _this2 = this;\n      if (!this.dom || Object.keys(this.dom).length === 0) {\n        return;\n      }\n      (_this$dom$addButton = this.dom.addButton) === null || _this$dom$addButton === void 0 || _this$dom$addButton.on('click.adminTableManager', this.handleAddNew.bind(this));\n      var editButtonSelector = (_this$settings$select = this.settings.selectors) === null || _this$settings$select === void 0 ? void 0 : _this$settings$select.editButton;\n      var deleteButtonSelector = (_this$settings$select2 = this.settings.selectors) === null || _this$settings$select2 === void 0 ? void 0 : _this$settings$select2.deleteButton;\n      if (this.dom.listTableBody && this.dom.listTableBody.length) {\n        // Bind standard action buttons\n        if (editButtonSelector) {\n          this.dom.listTableBody.on('click.adminTableManager', editButtonSelector, this.handleEdit.bind(this));\n        } else {\n          this.logger.warn(\"AdminTableManager: No edit button selector defined for '\".concat(this.settings.tab_id, \"'.\"));\n        }\n        if (deleteButtonSelector) {\n          this.dom.listTableBody.on('click.adminTableManager', deleteButtonSelector, this.handleDelete.bind(this));\n        } else {\n          this.logger.warn(\"AdminTableManager: No delete button selector defined for '\".concat(this.settings.tab_id, \"'.\"));\n        }\n\n        // Bind custom action buttons if they exist\n        this.bindCustomActionButtons();\n      } else {\n        this.logger.warn(\"AdminTableManager: List table body not found for '\".concat(this.settings.tab_id, \"'.\"));\n      }\n      (_this$dom$form = this.dom.form) === null || _this$dom$form === void 0 || _this$dom$form.on('submit.adminTableManager', this.handleSubmit.bind(this));\n      (_this$dom$cancelButto = this.dom.cancelButton) === null || _this$dom$cancelButto === void 0 || _this$dom$cancelButto.on('click.adminTableManager', this.handleCancel.bind(this));\n      (_this$dom$form2 = this.dom.form) === null || _this$dom$form2 === void 0 || _this$dom$form2.on('change.adminTableManager input.adminTableManager', ':input', function () {\n        _this2.formModified = true;\n      });\n    }\n\n    /**\n     * Binds event handlers for custom action buttons.\n     * Child classes should override this method to bind their custom action buttons.\n     */\n  }, {\n    key: \"bindCustomActionButtons\",\n    value: function bindCustomActionButtons() {\n      // Base implementation does nothing\n      // Child classes should override to handle their custom action buttons\n      // Example implementation:\n      //\n      // if (this.dom.listTableBody) {\n      //   this.dom.listTableBody.on('click.adminTableManager', '.pe-view-product-button', this.handleViewProduct.bind(this));\n      // }\n    }\n  }, {\n    key: \"handleAddNew\",\n    value: function handleAddNew(e) {\n      var _this$dom$formTitle, _this$dom$saveButton, _this$dom$formContain, _this$dom$addButton2;\n      e.preventDefault();\n      this.isEditMode = false;\n      this.currentItemId = null;\n      this.resetForm();\n      (_this$dom$formTitle = this.dom.formTitle) === null || _this$dom$formTitle === void 0 || _this$dom$formTitle.text(this.settings.i18n.addItemFormTitle || 'Add New Item');\n      (_this$dom$saveButton = this.dom.saveButton) === null || _this$dom$saveButton === void 0 || _this$dom$saveButton.text(this.settings.i18n.addItemButtonLabel || this.settings.i18n.saveChangesButton || 'Save Item');\n      (_this$dom$formContain = this.dom.formContainer) === null || _this$dom$formContain === void 0 || _this$dom$formContain.slideDown();\n      (_this$dom$addButton2 = this.dom.addButton) === null || _this$dom$addButton2 === void 0 || _this$dom$addButton2.hide();\n    }\n  }, {\n    key: \"handleEdit\",\n    value: function handleEdit(e) {\n      var _this$dom$formTitle2,\n        _this$dom$saveButton2,\n        _this3 = this;\n      e.preventDefault();\n      var $button = this.$(e.currentTarget);\n      var $row = $button.closest(this.settings.selectors.listItemRow);\n      var itemId = $row.data('id');\n      if (!itemId) {\n        this.showNotice('Error: Could not determine the item to edit.', 'error');\n        return;\n      }\n      this.isEditMode = true;\n      this.currentItemId = itemId;\n      this.resetForm();\n      if (this.dom.idInput && this.dom.idInput.length) {\n        this.dom.idInput.val(this.currentItemId);\n      } else {\n        this.logger.warn(\"AdminTableManager: ID input field not found for '\".concat(this.settings.tab_id, \"'.\"));\n      }\n      (_this$dom$formTitle2 = this.dom.formTitle) === null || _this$dom$formTitle2 === void 0 || _this$dom$formTitle2.text(this.settings.i18n.editItemFormTitle || \"Edit Item #\".concat(itemId));\n      (_this$dom$saveButton2 = this.dom.saveButton) === null || _this$dom$saveButton2 === void 0 || _this$dom$saveButton2.text(this.settings.i18n.updateChangesButton || 'Update Item');\n      if (this.settings.actions && this.settings.actions.get_item) {\n        this.showFormLoadingSpinner(true, this.dom.saveButton);\n        _utils__WEBPACK_IMPORTED_MODULE_9__.ajax.ajaxRequest({\n          url: this.settings.ajaxUrl,\n          data: {\n            action: this.settings.actions.get_item,\n            nonce: this.settings.nonce,\n            // This should be the item-specific nonce\n            item_id: itemId,\n            option_name: this.settings.option_name,\n            tab_id: this.settings.tab_id\n          }\n        }).then(function (response) {\n          if (response && response.item && (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(response.item) === 'object') {\n            var _this3$dom$formContai, _this3$dom$addButton;\n            _this3.populateFormWithData(response.item);\n            (_this3$dom$formContai = _this3.dom.formContainer) === null || _this3$dom$formContai === void 0 || _this3$dom$formContai.slideDown();\n            (_this3$dom$addButton = _this3.dom.addButton) === null || _this3$dom$addButton === void 0 || _this3$dom$addButton.hide();\n          } else {\n            var errorMsg = response && response.message ? response.message : _this3.settings.i18n.errorLoadingItem || 'Error loading item details.';\n            _this3.showNotice(errorMsg, 'error');\n          }\n        }).catch(function (error) {\n          _this3.showNotice(error.message || _this3.settings.i18n.errorLoadingItem || 'AJAX error loading item.', 'error');\n        }).finally(function () {\n          _this3.showFormLoadingSpinner(false, _this3.dom.saveButton);\n        });\n      } else {\n        var _this$dom$formContain2, _this$dom$addButton3;\n        var itemDataFromButton = $button.data();\n        if (Object.keys(itemDataFromButton).length > 1) {\n          itemDataFromButton.id = itemId;\n          this.populateFormWithData(itemDataFromButton);\n        } else {\n          this.showNotice('Note: Full item details might not be loaded. Displaying basic form for editing.', 'info');\n        }\n        (_this$dom$formContain2 = this.dom.formContainer) === null || _this$dom$formContain2 === void 0 || _this$dom$formContain2.slideDown();\n        (_this$dom$addButton3 = this.dom.addButton) === null || _this$dom$addButton3 === void 0 || _this$dom$addButton3.hide();\n      }\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(e) {\n      var _this4 = this;\n      e.preventDefault();\n      var $button = this.$(e.currentTarget);\n      var $row = $button.closest(this.settings.selectors.listItemRow);\n      var itemId = $row.data('id');\n      if (!itemId) {\n        this.showNotice('Error: Could not determine item to delete.', 'error');\n        return;\n      }\n      if (!confirm(this.settings.i18n.confirmDelete || 'Are you sure you want to delete this item?')) {\n        return;\n      }\n      var originalButtonText = $button.text();\n      $button.prop('disabled', true).text(this.settings.i18n.deleting || 'Deleting...');\n      _utils__WEBPACK_IMPORTED_MODULE_9__.ajax.ajaxRequest({\n        url: this.settings.ajaxUrl,\n        data: {\n          action: this.settings.actions.delete_item,\n          nonce: this.settings.nonce,\n          // Item-specific nonce\n          item_id: itemId,\n          option_name: this.settings.option_name,\n          tab_id: this.settings.tab_id\n        }\n      }).then(function (response) {\n        var isSuccess = response && (response.success === true || response.itemId && response.message);\n        if (isSuccess) {\n          _this4.showNotice(response.data && response.data.message || response.message || _this4.settings.i18n.itemDeletedSuccess || 'Item deleted.', 'success');\n          $row.fadeOut(300, function () {\n            $row.remove();\n            _this4.updateNoItemsMessageVisibility();\n          });\n        } else {\n          _this4.showNotice(response && response.message || response && response.data && response.data.message || _this4.settings.i18n.errorDeletingItem || 'Error deleting item.', 'error');\n          $button.prop('disabled', false).text(originalButtonText);\n        }\n      }).catch(function (error) {\n        _this4.showNotice(error.message || _this4.settings.i18n.errorDeletingItem || 'AJAX error deleting item.', 'error');\n        $button.prop('disabled', false).text(originalButtonText);\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this5 = this;\n      e.preventDefault();\n      if (!this.validateForm()) {\n        this.showNotice(this.settings.i18n.validationFailed || 'Please correct the errors in the form.', 'error');\n        return;\n      }\n      this.showFormLoadingSpinner(true, this.dom.saveButton);\n      var determinedAction = this.isEditMode ? this.settings.actions.update_item : this.settings.actions.add_item;\n      if (!determinedAction) {\n        this.showNotice(this.settings.i18n.errorSavingItem || 'Configuration error: Save action not defined.', 'error');\n        this.showFormLoadingSpinner(false, this.dom.saveButton);\n        return;\n      }\n      var dataPayload = {\n        action: determinedAction,\n        nonce: this.settings.nonce,\n        // Item-specific nonce\n        option_name: this.settings.option_name,\n        tab_id: this.settings.tab_id,\n        item_data: {}\n      };\n      var formFields = this.dom.form.serializeArray();\n      formFields.forEach(function (field) {\n        var fieldName = field.name;\n        var fieldValue = field.value;\n        if (fieldName.endsWith('[]')) {\n          var actualName = fieldName.slice(0, -2);\n          if (!dataPayload.item_data[actualName]) {\n            dataPayload.item_data[actualName] = [];\n          }\n          dataPayload.item_data[actualName].push(fieldValue);\n        } else {\n          dataPayload.item_data[fieldName] = fieldValue;\n        }\n      });\n      if (this.isEditMode && this.currentItemId) {\n        dataPayload.item_id = this.currentItemId;\n      }\n      _utils__WEBPACK_IMPORTED_MODULE_9__.ajax.ajaxRequest({\n        url: this.settings.ajaxUrl,\n        data: dataPayload\n      }).then(function (response) {\n        // Enhanced response validation with detailed logging\n        if (!response) {\n          _this5.showNotice(_this5.settings.i18n.errorSavingItem || 'Error: Empty response from server', 'error');\n          return;\n        }\n        if (response && response.item) {\n          var _this5$dom$formContai, _this5$dom$addButton;\n          _this5.showNotice(response.message || _this5.settings.i18n.itemSavedSuccess || 'Item saved.', 'success');\n\n          // CRITICAL: Handling the first item scenario directly\n          var isFirstItem = !_this5.dom.listTableBody.find('tr').length;\n          if (_this5.isEditMode) {\n            _this5.updateTableRow(response.item);\n          } else {\n            _this5.addTableRow(response.item);\n\n            // Special handling for first item\n            if (isFirstItem) {\n              _this5.dom.listTable.show();\n              _this5.dom.noItemsMessage.hide();\n\n              // Force DOM recalculation/repaint for the table\n              void _this5.dom.listTable[0].offsetHeight;\n            }\n          }\n          (_this5$dom$formContai = _this5.dom.formContainer) === null || _this5$dom$formContai === void 0 || _this5$dom$formContai.slideUp();\n          (_this5$dom$addButton = _this5.dom.addButton) === null || _this5$dom$addButton === void 0 || _this5$dom$addButton.show();\n          _this5.resetForm();\n          _this5.isEditMode = false;\n          _this5.currentItemId = null;\n          _this5.formModified = false;\n        } else {\n          var errorMsg = response && response.message ? response.message : _this5.settings.i18n.errorSavingItem || 'Error saving item or response format incorrect.';\n          var errorsDetail = response && response.errors ? \"<br><pre>\".concat(JSON.stringify(response.errors, null, 2), \"</pre>\") : '';\n          _this5.showNotice(errorMsg + errorsDetail, 'error');\n        }\n      }).catch(function (error) {\n        var errorMsg = error.message || _this5.settings.i18n.errorSavingItem || 'AJAX error during save.';\n        _this5.showNotice(errorMsg, 'error');\n      }).finally(function () {\n        _this5.showFormLoadingSpinner(false, _this5.dom.saveButton);\n      });\n    }\n  }, {\n    key: \"handleCancel\",\n    value: function handleCancel(e) {\n      var _this$dom$formContain3, _this$dom$addButton4;\n      e.preventDefault();\n      if (this.formModified) {\n        if (!confirm(this.settings.i18n.confirmCancelEditing || \"You have unsaved changes. Are you sure you want to cancel?\")) {\n          return;\n        }\n      }\n      (_this$dom$formContain3 = this.dom.formContainer) === null || _this$dom$formContain3 === void 0 || _this$dom$formContain3.slideUp();\n      (_this$dom$addButton4 = this.dom.addButton) === null || _this$dom$addButton4 === void 0 || _this$dom$addButton4.show();\n      this.resetForm();\n      this.isEditMode = false;\n      this.currentItemId = null;\n      this.formModified = false;\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      var _this$dom$form$, _this$dom$form3, _this$dom$form4;\n      (_this$dom$form$ = this.dom.form[0]) === null || _this$dom$form$ === void 0 || _this$dom$form$.reset();\n      if (this.dom.idInput && this.dom.idInput.length) {\n        this.dom.idInput.val('');\n      }\n      this.formModified = false;\n      (_this$dom$form3 = this.dom.form) === null || _this$dom$form3 === void 0 || _this$dom$form3.find('.error').removeClass('error');\n      (_this$dom$form4 = this.dom.form) === null || _this$dom$form4 === void 0 || _this$dom$form4.find('.field-error').remove();\n    }\n  }, {\n    key: \"populateFormWithData\",\n    value: function populateFormWithData(itemData) {\n      if (itemData && itemData.id) {\n        if (this.dom.idInput && this.dom.idInput.length) {\n          this.dom.idInput.val(itemData.id);\n        } else {\n          this.logger.warn(\"AdminTableManager: ID input field not found when populating form data for '\".concat(this.settings.tab_id, \"'.\"));\n        }\n      } else {\n        this.logger.warn(\"AdminTableManager: Invalid item data (missing ID) when populating form for '\".concat(this.settings.tab_id, \"'.\"));\n      }\n      this.formModified = false;\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this$dom$form5,\n        _this$dom$form6,\n        _this$dom$form7,\n        _this6 = this;\n      var isValid = true;\n      (_this$dom$form5 = this.dom.form) === null || _this$dom$form5 === void 0 || _this$dom$form5.find('.error').removeClass('error');\n      (_this$dom$form6 = this.dom.form) === null || _this$dom$form6 === void 0 || _this$dom$form6.find('.field-error').remove();\n      (_this$dom$form7 = this.dom.form) === null || _this$dom$form7 === void 0 || _this$dom$form7.find('[data-is-required=\"true\"], .is-required').each(function (index, el) {\n        var $field = _this6.$(el);\n        var value = $field.val();\n        if ($field.is(':checkbox')) {\n          if (!$field.is(':checked')) {\n            _this6.showFieldError($field.closest('label').length ? $field.closest('label') : $field, _this6.settings.i18n.fieldRequired || 'This field must be checked.');\n            isValid = false;\n          }\n        } else {\n          if (typeof value === 'string') value = value.trim();\n          if (value === null || value === undefined || value === '' || $field.is('select') && !value) {\n            _this6.showFieldError($field, _this6.settings.i18n.fieldRequired || 'This field is required.');\n            isValid = false;\n          }\n        }\n      });\n      return isValid;\n    }\n  }, {\n    key: \"addTableRow\",\n    value: function addTableRow(itemData) {\n      // Debug table state before adding row\n\n      // Create the row\n      var $row = this.createTableRow(itemData);\n\n      // Add the row to the table\n      if ($row && this.dom.listTableBody && this.dom.listTableBody.length) {\n        this.dom.listTableBody.append($row);\n\n        // Always make table visible after adding a row, and hide the \"no items\" message\n        if (this.dom.listTable) {\n          this.dom.listTable.show();\n        }\n        if (this.dom.noItemsMessage) {\n          this.dom.noItemsMessage.hide();\n        }\n\n        // Skip updateNoItemsMessageVisibility() since we're explicitly handling visibility\n\n        // Debug table state after adding row\n      } else {\n        this.logger.warn(\"AdminTableManager: Could not add table row - either row creation failed or table body not found for '\".concat(this.settings.tab_id, \"'.\"));\n      }\n    }\n  }, {\n    key: \"updateTableRow\",\n    value: function updateTableRow(itemData) {\n      var _this$dom$listTableBo;\n      if (!itemData.id) {\n        return;\n      }\n      if (!this.settings.selectors || !this.settings.selectors.listItemRow) {\n        return;\n      }\n      var $existingRow = (_this$dom$listTableBo = this.dom.listTableBody) === null || _this$dom$listTableBo === void 0 ? void 0 : _this$dom$listTableBo.find(\"\".concat(this.settings.selectors.listItemRow, \"[data-id=\\\"\").concat(itemData.id, \"\\\"]\"));\n      if ($existingRow && $existingRow.length) {\n        var $newRow = this.createTableRow(itemData);\n        if ($newRow) {\n          $existingRow.replaceWith($newRow);\n        } else {\n          this.logger.warn(\"AdminTableManager: Failed to create replacement row for item #\".concat(itemData.id, \" in '\").concat(this.settings.tab_id, \"'.\"));\n        }\n      } else {\n        this.addTableRow(itemData);\n      }\n    }\n\n    /**\n     * Creates a table row from item data.\n     * This method provides a common implementation for creating table rows based on\n     * the table_columns setting provided from PHP.\n     * @param {object} itemData - The item data for the row.\n     * @returns {jQuery} - The jQuery object representing the row.\n     */\n  }, {\n    key: \"createTableRow\",\n    value: function createTableRow(itemData) {\n      var _this7 = this;\n      if (!itemData || !itemData.id) {\n        var _this$dom$listTable;\n        // Return a valid jQuery object for a row, even for an error.\n        var colspan = ((_this$dom$listTable = this.dom.listTable) === null || _this$dom$listTable === void 0 ? void 0 : _this$dom$listTable.find('thead th').length) || 4;\n        return this.$(\"<tr><td colspan=\\\"\".concat(colspan, \"\\\">Error: Invalid item data provided to createTableRow.</td></tr>\"));\n      }\n\n      // Get column information from the settings passed from PHP\n      var tableColumns = this.settings.table_columns || {};\n      if (Object.keys(tableColumns).length === 0) {\n        var _this$dom$listTable2;\n        var _colspan = ((_this$dom$listTable2 = this.dom.listTable) === null || _this$dom$listTable2 === void 0 ? void 0 : _this$dom$listTable2.find('thead th').length) || 4;\n        return this.$(\"<tr><td colspan=\\\"\".concat(_colspan, \"\\\">Error: table_columns data missing in settings for \").concat(this.settings.tab_id, \".</td></tr>\"));\n      }\n\n      // Get selector values\n      var selectors = this.settings.selectors || {};\n      var listItemRowSelector = selectors.listItemRow || 'tr'; // Base class might use this if defined\n      var editButtonClass = (selectors.editButton || '.pe-edit-item-button').replace(/^\\./, '');\n      var deleteButtonClass = (selectors.deleteButton || '.pe-delete-item-button').replace(/^\\./, '');\n\n      // Get i18n strings\n      var i18n = this.settings.i18n || {};\n\n      // Extract just the tag name without any attribute selectors\n      var tagName = listItemRowSelector.split('.')[0].replace(/\\[(.*?)\\]/g, '');\n\n      // Create the row with the correct tag and data-id attribute\n      var $row = this.$(\"<\".concat(tagName, \" data-id=\\\"\").concat(itemData.id, \"\\\"></\").concat(tagName, \">\"));\n\n      // Debug the row element that's being created\n\n      // If listItemRowSelector includes classes, add them: e.g., 'tr.my-custom-row-class'\n      if (listItemRowSelector.includes('.')) {\n        $row.addClass(listItemRowSelector.substring(listItemRowSelector.indexOf('.') + 1).replace(/\\./g, ' '));\n      }\n\n      // Create each cell using the column IDs from PHP\n      Object.entries(tableColumns).forEach(function (_ref) {\n        var _ref2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_ref, 2),\n          columnId = _ref2[0],\n          columnTitle = _ref2[1];\n        var $cell = _this7.$('<td></td>').addClass(\"column-\".concat(columnId)) // Match the PHP class naming convention\n        .attr('data-colname', columnTitle); // Set the column title for responsive display\n\n        // Log column creation for debugging\n\n        // Hook points for column customization:\n        // 1. Child class can implement a specific method for a column\n        // 2. Generic actions column handler\n        // 3. Default text display\n\n        // Check if the child class has a method to populate specific column content\n        var methodName = \"populateColumn_\".concat(columnId.replace(/[^a-zA-Z0-9_]/g, '_'));\n        if (typeof _this7[methodName] === 'function') {\n          // Let the child class handle this specific column\n          _this7[methodName]($cell, itemData, columnId);\n        } else if (columnId === 'item_actions' || columnId.endsWith('_actions')) {\n          // Default handling for actions column\n          $cell.addClass('actions');\n\n          // Create edit button\n          var $editButton = _this7.$('<button></button>').attr('type', 'button').addClass(\"button button-small \".concat(editButtonClass)).text(i18n.editButtonLabel || 'Edit').data('id', itemData.id);\n\n          // Create delete button\n          var $deleteButton = _this7.$('<button></button>').attr('type', 'button').addClass(\"button button-small \".concat(deleteButtonClass)).text(i18n.deleteButtonLabel || 'Delete').data('id', itemData.id);\n          $cell.append($editButton, ' ', $deleteButton);\n        } else {\n          // Default handling for other columns - just use the display field if available\n          var displayField = \"\".concat(columnId, \"_display\");\n          var displayValue = itemData[displayField] || itemData[columnId] || '';\n          $cell.text(displayValue);\n        }\n\n        // Add the cell to the row\n        $row.append($cell);\n      });\n\n      // Debug the final row structure\n\n      // Allow child classes to perform post-processing on the row\n      if (typeof this.afterRowCreated === 'function') {\n        this.afterRowCreated($row, itemData);\n      }\n      return $row;\n    }\n  }, {\n    key: \"updateNoItemsMessageVisibility\",\n    value: function updateNoItemsMessageVisibility() {\n      if (!this.settings.selectors || !this.settings.selectors.listItemRow) {\n        return;\n      }\n\n      // Debug info\n\n      if (this.dom.noItemsMessage && this.dom.noItemsMessage.length && this.dom.listTableBody && this.dom.listTable) {\n        var rowSelector = this.settings.selectors.listItemRow;\n        var $foundRows = this.dom.listTableBody.find(rowSelector);\n        var hasItems = $foundRows.length > 0;\n        if (hasItems) {\n          this.dom.noItemsMessage.hide();\n          this.dom.listTable.show();\n        } else {\n          this.dom.noItemsMessage.show();\n          this.dom.listTable.hide();\n        }\n      } else {\n        this.logger.warn(\"AdminTableManager: Required DOM elements for no-items message handling not found for '\".concat(this.settings.tab_id, \"'.\"));\n      }\n    }\n  }, {\n    key: \"showFormLoadingSpinner\",\n    value: function showFormLoadingSpinner(isLoading, $button) {\n      var $btn = $button || this.dom.saveButton;\n      if (!$btn || !$btn.length) return;\n      var originalTextKey = 'original-text';\n      var savingText = this.settings.i18n && this.settings.i18n.saving || 'Saving...';\n      if (isLoading) {\n        $btn.prop('disabled', true).addClass('pe-loading');\n        if (!$btn.data(originalTextKey)) {\n          var currentText = $btn.is('input, textarea, select') ? $btn.val() : $btn.text();\n          $btn.data(originalTextKey, currentText);\n        }\n        if ($btn.is('input, textarea, select')) $btn.val(savingText);else $btn.text(savingText);\n      } else {\n        $btn.prop('disabled', false).removeClass('pe-loading');\n        if ($btn.data(originalTextKey)) {\n          var originalText = $btn.data(originalTextKey);\n          if ($btn.is('input, textarea, select')) $btn.val(originalText);else $btn.text(originalText);\n          $btn.removeData(originalTextKey);\n        }\n      }\n    }\n  }]);\n}(_VerticalTabbedModule_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (AdminTableManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vY29tbW9uL0FkbWluVGFibGVNYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM0QyxDQUFDOztBQUVnQjtBQUFBLElBRXZERyxpQkFBaUIsMEJBQUFDLHFCQUFBO0VBQ3JCO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFLFNBQUFELGtCQUFZRSxNQUFNLEVBQUU7SUFBQSxJQUFBQyxLQUFBO0lBQUFDLGlGQUFBLE9BQUFKLGlCQUFBO0lBRWxCO0lBQ0EsSUFBTUssU0FBUyxHQUFBQyxhQUFBLENBQUFBLGFBQUEsS0FDVkosTUFBTTtNQUFFO01BQ1g7TUFDQUssZUFBZSxFQUFFTCxNQUFNLENBQUNLLGVBQWUsSUFBSUwsTUFBTSxDQUFDTSxTQUFTLEdBQUcsUUFBUTtNQUFFO01BQ3hFQyxnQkFBZ0IsbUJBQUFDLE1BQUEsQ0FBbUJSLE1BQU0sQ0FBQ00sU0FBUztJQUFFLEVBQ3REO0lBR0RMLEtBQUEsR0FBQVEsVUFBQSxPQUFBWCxpQkFBQSxHQUFNSyxTQUFTLEdBQUUsQ0FBQztJQUNsQkYsS0FBQSxDQUFLRCxNQUFNLEdBQUdBLE1BQU0sQ0FBQyxDQUFDOztJQUd0QjtJQUNBO0lBQ0E7O0lBRUEsSUFBTVUsVUFBVSx3QkFBQUYsTUFBQSxDQUF3QlIsTUFBTSxDQUFDTSxTQUFTLElBQUksU0FBUyxDQUFFO0lBRXZFTCxLQUFBLENBQUtVLE1BQU0sR0FBR2Ysb0RBQVksQ0FBQ2MsVUFBVSxDQUFDLENBQUMsQ0FBQzs7SUFFeEM7SUFDQTtJQUNBO0lBQ0EsSUFBSSxDQUFDVCxLQUFBLENBQUtXLFFBQVEsSUFBSSxDQUFDWCxLQUFBLENBQUtXLFFBQVEsQ0FBQ0MsTUFBTSxFQUFFO01BQzNDO01BQ0FaLEtBQUEsQ0FBS1UsTUFBTSxDQUFDRyxJQUFJLENBQUMsaURBQWlELENBQUM7SUFDckU7SUFFQWIs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Li9zcmMvanMvYWRtaW4vY29tbW9uL0FkbWluVGFibGVNYW5hZ2VyLmpzP2M2NjYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRmlsZTogYWRtaW4vanMvY29tbW9uL0FkbWluVGFibGVNYW5hZ2VyLmpzXG5cbi8qKlxuICogQWRtaW5UYWJsZU1hbmFnZXIuanNcbiAqXG4gKiBCYXNlIGNsYXNzIGZvciBtYW5hZ2luZyBhZG1pbiBsaXN0IHRhYmxlcyB3aXRoIGFkZC9lZGl0L2RlbGV0ZSBmdW5jdGlvbmFsaXR5XG4gKiBkcml2ZW4gYnkgQUpBWC4gSXQgcmVsaWVzIG9uIGEgc3BlY2lmaWMgSFRNTCBzdHJ1Y3R1cmUgYW5kIGxvY2FsaXplZCBkYXRhXG4gKiBwcm92aWRlZCBieSB0aGUgY29ycmVzcG9uZGluZyBQSFAgc2V0dGluZ3MgbW9kdWxlLlxuICogTm93IGV4dGVuZHMgVmVydGljYWxUYWJiZWRNb2R1bGUuXG4gKi9cbmltcG9ydCB7IGFqYXgsIGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0B1dGlscyc7IC8vIEltcG9ydCB1dGlsaXRpZXMgbmVlZGVkIGZvciB0aGlzIGNsYXNzXG5cbmltcG9ydCBWZXJ0aWNhbFRhYmJlZE1vZHVsZSBmcm9tICcuL1ZlcnRpY2FsVGFiYmVkTW9kdWxlLmpzJztcblxuY2xhc3MgQWRtaW5UYWJsZU1hbmFnZXIgZXh0ZW5kcyBWZXJ0aWNhbFRhYmJlZE1vZHVsZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgQWRtaW5UYWJsZU1hbmFnZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIG1vZHVsZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5tYWluVGFiSWQgLSBUaGUgSUQgb2YgdGhlIG1haW4gaG9yaXpvbnRhbCB0YWIgdGhpcyB0YWJsZSBtYW5hZ2VyIGJlbG9uZ3MgdG8uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWcubG9jYWxpemVkRGF0YU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZ2xvYmFsIEpTIG9iamVjdCBob2xkaW5nIGxvY2FsaXplZCBkYXRhLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG5cbiAgICAvLyBDb25maWd1cmF0aW9uIGZvciB0aGUgVmVydGljYWxUYWJiZWRNb2R1bGUgcGFyZW50IGNsYXNzXG4gICAgY29uc3QgdnRtQ29uZmlnID0ge1xuICAgICAgLi4uY29uZmlnLCAvLyBJbmNsdWRlcyBtYWluVGFiSWQsIGxvY2FsaXplZERhdGFOYW1lLCBhbmQgcG9zc2libHkgZGVmYXVsdFN1YlRhYklkXG4gICAgICAvLyBPbmx5IHNldCBkZWZhdWx0U3ViVGFiSWQgaWYgbm90IGFscmVhZHkgcHJvdmlkZWQgaW4gY29uZmlnXG4gICAgICBkZWZhdWx0U3ViVGFiSWQ6IGNvbmZpZy5kZWZhdWx0U3ViVGFiSWQgfHwgY29uZmlnLm1haW5UYWJJZCArICdfdGFibGUnLCAvLyBVc2UgbW9yZSBwcmVkaWN0YWJsZSBmb3JtYXRcbiAgICAgIGFqYXhBY3Rpb25QcmVmaXg6IGBhdG1fZm9ybV9zYXZlXyR7Y29uZmlnLm1haW5UYWJJZH1gXG4gICAgfTtcblxuXG4gICAgc3VwZXIodnRtQ29uZmlnKTsgLy8gQ2FsbHMgVmVydGljYWxUYWJiZWRNb2R1bGUgY29uc3RydWN0b3JcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZzsgLy8gPDw8PCBBREQgVEhJUyBMSU5FXG5cblxuICAgIC8vIC0tLSBDT1JSRUNURUQgTE9HR0VSIElOSVRJQUxJWkFUSU9OIC0tLVxuICAgIC8vIFVzZSBgY29uZmlnLm1haW5UYWJJZGAgKGZyb20gdGhpcyBjb25zdHJ1Y3RvcidzIGRpcmVjdCBhcmd1bWVudCBgY29uZmlnYClcbiAgICAvLyBUaGlzIGBjb25maWdgIGlzIGd1YXJhbnRlZWQgdG8gaGF2ZSBgbWFpblRhYklkYCBhcyBwYXNzZWQgYnkgUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlLlxuXG4gICAgY29uc3QgbG9nZ2VyTmFtZSA9IGBBZG1pblRhYmxlTWFuYWdlcjoke2NvbmZpZy5tYWluVGFiSWQgfHwgJ0dlbmVyaWMnfWA7XG5cbiAgICB0aGlzLmxvZ2dlciA9IGNyZWF0ZUxvZ2dlcihsb2dnZXJOYW1lKTsgLy8gUGFzcyB0aGUgcHJlLWNvbnN0cnVjdGVkIHN0cmluZ1xuXG4gICAgLy8gYHRoaXMuc2V0dGluZ3NgIGlzIGluaXRpYWxpemVkIGJ5IHRoZSBgc3VwZXIodnRtQ29uZmlnKWAgY2FsbCBjaGFpbiAoUHJvZHVjdEVzdGltYXRvclNldHRpbmdzKS5cbiAgICAvLyBgdGhpcy5zZXR0aW5ncy50YWJfaWRgIHdpbGwgaG9sZCB0aGUgbWFpblRhYklkLlxuICAgIC8vIEEgY2hlY2sgZm9yIGl0cyBwcmVzZW5jZSBhZnRlciBzdXBlcigpIGlzIGdvb2QgcHJhY3RpY2UuXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzIHx8ICF0aGlzLnNldHRpbmdzLnRhYl9pZCkge1xuICAgICAgLy8gVGhpcyB3YXMgcHJldmlvdXNseSBhbiBlbXB0eSBibG9jaywgYnV0IGl0IHNob3VsZCBsb2cgYSB3YXJuaW5nXG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdBZG1pblRhYmxlTWFuYWdlcjogTm8gdGFiX2lkIGZvdW5kIGluIHNldHRpbmdzLicpO1xuICAgIH1cblxuICAgIHRoaXMuZm9ybU1vZGlmaWVkID0gZmFsc2U7XG4gICAgdGhpcy5pc0VkaXRNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50SXRlbUlkID0gbnVsbDtcbiAgICAvLyBOb3RlOiB0aGlzLnNldHRpbmdzIChmb3JtZXJseSB0aGlzLmxvY2FsaXplZERhdGEpIGlzIGluaXRpYWxpemVkIGJ5IFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IGVzc2VudGlhbCBzZXR0aW5ncyAobm93IGZyb20gdGhpcy5zZXR0aW5ncykgYXJlIHByb3ZpZGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3ZhbGlkYXRlU2V0dGluZ3MoKSB7XG4gICAgaWYgKCF0aGlzLnNldHRpbmdzIHx8IHRoaXMuc2V0dGluZ3MudGFiX2lkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWRtaW5UYWJsZU1hbmFnZXI6IEVzc2VudGlhbCBwcm9wZXJ0eSAndGhpcy5zZXR0aW5ncy50YWJfaWQnIHdhcyBub3QgaW5pdGlhbGl6ZWQgYnkgdGhlIHBhcmVudCBjbGFzcy4gQ2Fubm90IHZhbGlkYXRlIHNldHRpbmdzLmApO1xuICAgIH1cblxuICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNldHRpbmdzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGxldCBlcnJvck1zZyA9IGBBZG1pblRhYmxlTWFuYWdlcjogU2V0dGluZ3MgKHRoaXMuc2V0dGluZ3MpIGlzIGFuIGVtcHR5IG9iamVjdGA7XG4gICAgICBpZiAodGhpcy5zZXR0aW5nc09iamVjdE5hbWUpIHtcbiAgICAgICAgZXJyb3JNc2cgKz0gYCAoZXhwZWN0ZWQgZnJvbSB3aW5kb3cuJHt0aGlzLnNldHRpbmdzT2JqZWN0TmFtZX0pLiBUaGlzIG1pZ2h0IGhhcHBlbiBpZiB0aGUgZ2xvYmFsIG9iamVjdCBpcyBlbXB0eSBvciBub3QgY29ycmVjdGx5IHBvcHVsYXRlZC5gO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnICsgYCBDYW5ub3QgcHJvY2VlZCB3aXRoIGVtcHR5IHNldHRpbmdzIGZvciB0YWIgXCIke3RoaXMuc2V0dGluZ3MudGFiX2lkfVwiLmApO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVpcmVkID0ge1xuICAgICAgYWN0aW9uczogWydhZGRfaXRlbScsICd1cGRhdGVfaXRlbScsICdkZWxldGVfaXRlbSddLFxuICAgICAgc2VsZWN0b3JzOiBbJ2Zvcm1Db250YWluZXInLCAnZm9ybScsICdhZGRCdXR0b24nLCAnbGlzdFRhYmxlQm9keScsICdlZGl0QnV0dG9uJywgJ2RlbGV0ZUJ1dHRvbicsICdpZElucHV0JywgJ3NhdmVCdXR0b24nLCAnY2FuY2VsQnV0dG9uJywgJ25vSXRlbXNNZXNzYWdlJywgJ2Zvcm1UaXRsZScsICdsaXN0SXRlbVJvdycsICdsaXN0VGFibGVDb250YWluZXInLCAnbGlzdFRhYmxlJ10sXG4gICAgICBpMThuX2tleXM6IFsnY29uZmlybURlbGV0ZScsICdpdGVtU2F2ZWRTdWNjZXNzJywgJ2l0ZW1EZWxldGVkU3VjY2VzcycsICdlcnJvclNhdmluZ0l0ZW0nLCAnZXJyb3JEZWxldGluZ0l0ZW0nLCAnYWRkSXRlbUJ1dHRvbkxhYmVsJywgJ2VkaXRJdGVtRm9ybVRpdGxlJywgJ3NhdmluZycsICdkZWxldGluZycsICdlZGl0QnV0dG9uTGFiZWwnLCAnZGVsZXRlQnV0dG9uTGFiZWwnXSxcbiAgICB9O1xuXG4gICAgbGV0IGFsbFZhbGlkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5hamF4VXJsID09PSB1bmRlZmluZWQpIHsgYWxsVmFsaWQgPSBmYWxzZTsgfVxuICAgIGlmICh0aGlzLnNldHRpbmdzLm5vbmNlID09PSB1bmRlZmluZWQpIHsgYWxsVmFsaWQgPSBmYWxzZTsgfVxuICAgIGlmICh0aGlzLnNldHRpbmdzLm9wdGlvbl9uYW1lID09PSB1bmRlZmluZWQpIHsgYWxsVmFsaWQgPSBmYWxzZTsgfVxuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuYWN0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgcmVxdWlyZWQuYWN0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5hY3Rpb25zW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIHJlcXVpcmVkLnNlbGVjdG9ycykge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zZWxlY3RvcnNba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYWxsVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhbGxWYWxpZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmkxOG4pIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIHJlcXVpcmVkLmkxOG5fa2V5cykge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pMThuW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYEFkbWluVGFibGVNYW5hZ2VyOiBNaXNzaW5nIGkxOG4ga2V5ICcke2tleX0nIGluIHNldHRpbmdzLmkxOG5gKTtcbiAgICAgICAgICBhbGxWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsbFZhbGlkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFhbGxWYWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZG1pblRhYmxlTWFuYWdlcjogU2V0dGluZ3MgdmFsaWRhdGlvbiBmYWlsZWQgZHVlIHRvIG1pc3NpbmcgY3JpdGljYWwgc2V0dGluZ3MgaW4gdGhpcy5zZXR0aW5ncyBmb3IgdGFiIFwiJHt0aGlzLnNldHRpbmdzLnRhYl9pZH1cIi4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy5gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHRhYmxlIG1hbmFnZXIuIFRoaXMgbWV0aG9kIG92ZXJyaWRlcyBWZXJ0aWNhbFRhYmJlZE1vZHVsZS5tb2R1bGVJbml0KCkuXG4gICAqIEl0J3MgY2FsbGVkIGFmdGVyIERPTSBpcyByZWFkeSBhbmQgdGhpcy4kY29udGFpbmVyIGlzIHNldCBieSB0aGUgcGFyZW50IGNsYXNzLlxuICAgKi9cbiAgbW9kdWxlSW5pdCgpIHtcbiAgICBzdXBlci5tb2R1bGVJbml0KCk7IC8vIENhbGxzIFZlcnRpY2FsVGFiYmVkTW9kdWxlLm1vZHVsZUluaXQoKSB3aGljaCBzZXRzIHVwICRjb250YWluZXIgZXRjLlxuXG5cbiAgICBpZiAoIXRoaXMuJGNvbnRhaW5lciB8fCAhdGhpcy4kY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoYENyaXRpY2FsIGVycm9yOiBUYWJsZSBtYW5hZ2VyIFVJIGNvbnRhaW5lciAjJHt0aGlzLnNldHRpbmdzLnRhYl9pZH0gbWlzc2luZy5gLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fdmFsaWRhdGVTZXR0aW5ncygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAod2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlICYmIHR5cGVvZiB3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2Uuc2hvd05vdGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2Uuc2hvd05vdGljZShcbiAgICAgICAgICBgRXJyb3IgaW5pdGlhbGl6aW5nIHRhYmxlIG1hbmFnZXIgZm9yICR7dGhpcy5zZXR0aW5ncy50YWJfaWR9OiBDb25maWd1cmF0aW9uIHZhbGlkYXRpb24gZmFpbGVkLiBDaGVjayBjb25zb2xlLiBEZXRhaWxzOiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGVET00oKTtcbiAgICBpZiAodGhpcy5fY2hlY2tFc3NlbnRpYWxET00oKSkge1xuICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICB0aGlzLnVwZGF0ZU5vSXRlbXNNZXNzYWdlVmlzaWJpbGl0eSgpO1xuICAgICAgdGhpcy4kKGRvY3VtZW50KS50cmlnZ2VyKGBhZG1pbl90YWJsZV9tYW5hZ2VyX3JlYWR5XyR7dGhpcy5zZXR0aW5ncy50YWJfaWR9YCwgW3RoaXNdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29uc3QgdGFiRGlzcGxheU5hbWUgPSB0aGlzLnNldHRpbmdzLnRhYl9pZDtcbiAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoXG4gICAgICAgICAgYEVycm9yIGluaXRpYWxpemluZyBVSSBjb21wb25lbnRzIGZvciAke3RhYkRpc3BsYXlOYW1lfS4gU29tZSBwYXJ0cyBtYXkgbm90IHdvcmsuIENoZWNrIGNvbnNvbGUgZm9yIG1pc3NpbmcgRE9NIGVsZW1lbnRzLmAsICdlcnJvcidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2hlY2tFc3NlbnRpYWxET00oKSB7XG4gICAgbGV0IGVzc2VudGlhbEZvdW5kID0gdHJ1ZTtcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MgfHwgIXRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGVzc2VudGlhbFNlbGVjdG9ycyA9IFsnZm9ybUNvbnRhaW5lcicsICdmb3JtJywgJ2FkZEJ1dHRvbicsICdsaXN0VGFibGVCb2R5JywgJ2xpc3RUYWJsZUNvbnRhaW5lcicsICdsaXN0VGFibGUnLCAnbm9JdGVtc01lc3NhZ2UnLCAnZm9ybVRpdGxlJywgJ2lkSW5wdXQnLCAnc2F2ZUJ1dHRvbicsICdjYW5jZWxCdXR0b24nXTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBlc3NlbnRpYWxTZWxlY3RvcnMpIHtcbiAgICAgIGlmICghdGhpcy5kb21ba2V5XSB8fCAhdGhpcy5kb21ba2V5XS5sZW5ndGgpIHtcbiAgICAgICAgZXNzZW50aWFsRm91bmQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVzc2VudGlhbEZvdW5kO1xuICB9XG5cbiAgY2FjaGVET00oKSB7XG4gICAgdGhpcy5kb20gPSB7fTtcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MgfHwgIXRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLiRjb250YWluZXIgJiYgdGhpcy4kY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnNldHRpbmdzLnNlbGVjdG9ycywga2V5KSkge1xuICAgICAgICAgIHRoaXMuZG9tW2tleV0gPSB0aGlzLiRjb250YWluZXIuZmluZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGBBZG1pblRhYmxlTWFuYWdlcjogQ29udGFpbmVyIGZvciAnJHt0aGlzLnNldHRpbmdzLnRhYl9pZH0nIG5vdCBmb3VuZCBvciBoYXMgbm8gbGVuZ3RoLmApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kcyBldmVudCBoYW5kbGVycyB0byBET00gZWxlbWVudHMuXG4gICAqIFRoaXMgbWV0aG9kIHNldHMgdXAgYWxsIHRoZSBjb21tb24gZXZlbnQgaGFuZGxpbmcgZm9yIHRoZSB0YWJsZSBtYW5hZ2VyLlxuICAgKi9cbiAgYmluZEV2ZW50cygpIHtcbiAgICBpZiAoIXRoaXMuZG9tIHx8IE9iamVjdC5rZXlzKHRoaXMuZG9tKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kb20uYWRkQnV0dG9uPy5vbignY2xpY2suYWRtaW5UYWJsZU1hbmFnZXInLCB0aGlzLmhhbmRsZUFkZE5ldy5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IGVkaXRCdXR0b25TZWxlY3RvciA9IHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzPy5lZGl0QnV0dG9uO1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvblNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnM/LmRlbGV0ZUJ1dHRvbjtcblxuICAgIGlmICh0aGlzLmRvbS5saXN0VGFibGVCb2R5ICYmIHRoaXMuZG9tLmxpc3RUYWJsZUJvZHkubGVuZ3RoKSB7XG4gICAgICAvLyBCaW5kIHN0YW5kYXJkIGFjdGlvbiBidXR0b25zXG4gICAgICBpZiAoZWRpdEJ1dHRvblNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuZG9tLmxpc3RUYWJsZUJvZHkub24oJ2NsaWNrLmFkbWluVGFibGVNYW5hZ2VyJywgZWRpdEJ1dHRvblNlbGVjdG9yLCB0aGlzLmhhbmRsZUVkaXQuYmluZCh0aGlzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBBZG1pblRhYmxlTWFuYWdlcjogTm8gZWRpdCBidXR0b24gc2VsZWN0b3IgZGVmaW5lZCBmb3IgJyR7dGhpcy5zZXR0aW5ncy50YWJfaWR9Jy5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWxldGVCdXR0b25TZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmRvbS5saXN0VGFibGVCb2R5Lm9uKCdjbGljay5hZG1pblRhYmxlTWFuYWdlcicsIGRlbGV0ZUJ1dHRvblNlbGVjdG9yLCB0aGlzLmhhbmRsZURlbGV0ZS5iaW5kKHRoaXMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oYEFkbWluVGFibGVNYW5hZ2VyOiBObyBkZWxldGUgYnV0dG9uIHNlbGVjdG9yIGRlZmluZWQgZm9yICcke3RoaXMuc2V0dGluZ3MudGFiX2lkfScuYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEJpbmQgY3VzdG9tIGFjdGlvbiBidXR0b25zIGlmIHRoZXkgZXhpc3RcbiAgICAgIHRoaXMuYmluZEN1c3RvbUFjdGlvbkJ1dHRvbnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2dnZXIud2FybihgQWRtaW5UYWJsZU1hbmFnZXI6IExpc3QgdGFibGUgYm9keSBub3QgZm91bmQgZm9yICcke3RoaXMuc2V0dGluZ3MudGFiX2lkfScuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5kb20uZm9ybT8ub24oJ3N1Ym1pdC5hZG1pblRhYmxlTWFuYWdlcicsIHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcykpO1xuICAgIHRoaXMuZG9tLmNhbmNlbEJ1dHRvbj8ub24oJ2NsaWNrLmFkbWluVGFibGVNYW5hZ2VyJywgdGhpcy5oYW5kbGVDYW5jZWwuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLmRvbS5mb3JtPy5vbignY2hhbmdlLmFkbWluVGFibGVNYW5hZ2VyIGlucHV0LmFkbWluVGFibGVNYW5hZ2VyJywgJzppbnB1dCcsICgpID0+IHtcbiAgICAgIHRoaXMuZm9ybU1vZGlmaWVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmRzIGV2ZW50IGhhbmRsZXJzIGZvciBjdXN0b20gYWN0aW9uIGJ1dHRvbnMuXG4gICAqIENoaWxkIGNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGJpbmQgdGhlaXIgY3VzdG9tIGFjdGlvbiBidXR0b25zLlxuICAgKi9cbiAgYmluZEN1c3RvbUFjdGlvbkJ1dHRvbnMoKSB7XG4gICAgLy8gQmFzZSBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdGhpbmdcbiAgICAvLyBDaGlsZCBjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0byBoYW5kbGUgdGhlaXIgY3VzdG9tIGFjdGlvbiBidXR0b25zXG4gICAgLy8gRXhhbXBsZSBpbXBsZW1lbnRhdGlvbjpcbiAgICAvL1xuICAgIC8vIGlmICh0aGlzLmRvbS5saXN0VGFibGVCb2R5KSB7XG4gICAgLy8gICB0aGlzLmRvbS5saXN0VGFibGVCb2R5Lm9uKCdjbGljay5hZG1pblRhYmxlTWFuYWdlcicsICcucGUtdmlldy1wcm9kdWN0LWJ1dHRvbicsIHRoaXMuaGFuZGxlVmlld1Byb2R1Y3QuYmluZCh0aGlzKSk7XG4gICAgLy8gfVxuICB9XG5cbiAgaGFuZGxlQWRkTmV3KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5pc0VkaXRNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50SXRlbUlkID0gbnVsbDtcbiAgICB0aGlzLnJlc2V0Rm9ybSgpO1xuICAgIHRoaXMuZG9tLmZvcm1UaXRsZT8udGV4dCh0aGlzLnNldHRpbmdzLmkxOG4uYWRkSXRlbUZvcm1UaXRsZSB8fCAnQWRkIE5ldyBJdGVtJyk7XG4gICAgdGhpcy5kb20uc2F2ZUJ1dHRvbj8udGV4dCh0aGlzLnNldHRpbmdzLmkxOG4uYWRkSXRlbUJ1dHRvbkxhYmVsIHx8IHRoaXMuc2V0dGluZ3MuaTE4bi5zYXZlQ2hhbmdlc0J1dHRvbiB8fCAnU2F2ZSBJdGVtJyk7XG4gICAgdGhpcy5kb20uZm9ybUNvbnRhaW5lcj8uc2xpZGVEb3duKCk7XG4gICAgdGhpcy5kb20uYWRkQnV0dG9uPy5oaWRlKCk7XG4gIH1cblxuICBoYW5kbGVFZGl0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJGJ1dHRvbiA9IHRoaXMuJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0ICRyb3cgPSAkYnV0dG9uLmNsb3Nlc3QodGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMubGlzdEl0ZW1Sb3cpO1xuICAgIGNvbnN0IGl0ZW1JZCA9ICRyb3cuZGF0YSgnaWQnKTtcblxuXG4gICAgaWYgKCFpdGVtSWQpIHtcbiAgICAgIHRoaXMuc2hvd05vdGljZSgnRXJyb3I6IENvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIGl0ZW0gdG8gZWRpdC4nLCAnZXJyb3InKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzRWRpdE1vZGUgPSB0cnVlO1xuICAgIHRoaXMuY3VycmVudEl0ZW1JZCA9IGl0ZW1JZDtcbiAgICB0aGlzLnJlc2V0Rm9ybSgpO1xuXG4gICAgaWYgKHRoaXMuZG9tLmlkSW5wdXQgJiYgdGhpcy5kb20uaWRJbnB1dC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZG9tLmlkSW5wdXQudmFsKHRoaXMuY3VycmVudEl0ZW1JZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYEFkbWluVGFibGVNYW5hZ2VyOiBJRCBpbnB1dCBmaWVsZCBub3QgZm91bmQgZm9yICcke3RoaXMuc2V0dGluZ3MudGFiX2lkfScuYCk7XG4gICAgfVxuXG4gICAgdGhpcy5kb20uZm9ybVRpdGxlPy50ZXh0KHRoaXMuc2V0dGluZ3MuaTE4bi5lZGl0SXRlbUZvcm1UaXRsZSB8fCBgRWRpdCBJdGVtICMke2l0ZW1JZH1gKTtcbiAgICB0aGlzLmRvbS5zYXZlQnV0dG9uPy50ZXh0KHRoaXMuc2V0dGluZ3MuaTE4bi51cGRhdGVDaGFuZ2VzQnV0dG9uIHx8ICdVcGRhdGUgSXRlbScpO1xuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuYWN0aW9ucyAmJiB0aGlzLnNldHRpbmdzLmFjdGlvbnMuZ2V0X2l0ZW0pIHtcbiAgICAgIHRoaXMuc2hvd0Zvcm1Mb2FkaW5nU3Bpbm5lcih0cnVlLCB0aGlzLmRvbS5zYXZlQnV0dG9uKTtcbiAgICAgIGFqYXguYWpheFJlcXVlc3Qoe1xuICAgICAgICB1cmw6IHRoaXMuc2V0dGluZ3MuYWpheFVybCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGFjdGlvbjogdGhpcy5zZXR0aW5ncy5hY3Rpb25zLmdldF9pdGVtLFxuICAgICAgICAgIG5vbmNlOiB0aGlzLnNldHRpbmdzLm5vbmNlLCAvLyBUaGlzIHNob3VsZCBiZSB0aGUgaXRlbS1zcGVjaWZpYyBub25jZVxuICAgICAgICAgIGl0ZW1faWQ6IGl0ZW1JZCxcbiAgICAgICAgICBvcHRpb25fbmFtZTogdGhpcy5zZXR0aW5ncy5vcHRpb25fbmFtZSxcbiAgICAgICAgICB0YWJfaWQ6IHRoaXMuc2V0dGluZ3MudGFiX2lkLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLml0ZW0gJiYgdHlwZW9mIHJlc3BvbnNlLml0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVsYXRlRm9ybVdpdGhEYXRhKHJlc3BvbnNlLml0ZW0pO1xuICAgICAgICAgICAgdGhpcy5kb20uZm9ybUNvbnRhaW5lcj8uc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB0aGlzLmRvbS5hZGRCdXR0b24/LmhpZGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSAocmVzcG9uc2UgJiYgcmVzcG9uc2UubWVzc2FnZSkgPyByZXNwb25zZS5tZXNzYWdlIDogKHRoaXMuc2V0dGluZ3MuaTE4bi5lcnJvckxvYWRpbmdJdGVtIHx8ICdFcnJvciBsb2FkaW5nIGl0ZW0gZGV0YWlscy4nKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd05vdGljZShlcnJvck1zZywgJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIHRoaXMuc2hvd05vdGljZShlcnJvci5tZXNzYWdlIHx8IHRoaXMuc2V0dGluZ3MuaTE4bi5lcnJvckxvYWRpbmdJdGVtIHx8ICdBSkFYIGVycm9yIGxvYWRpbmcgaXRlbS4nLCAnZXJyb3InKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2hvd0Zvcm1Mb2FkaW5nU3Bpbm5lcihmYWxzZSwgdGhpcy5kb20uc2F2ZUJ1dHRvbik7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpdGVtRGF0YUZyb21CdXR0b24gPSAkYnV0dG9uLmRhdGEoKTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhpdGVtRGF0YUZyb21CdXR0b24pLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgaXRlbURhdGFGcm9tQnV0dG9uLmlkID0gaXRlbUlkO1xuICAgICAgICB0aGlzLnBvcHVsYXRlRm9ybVdpdGhEYXRhKGl0ZW1EYXRhRnJvbUJ1dHRvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNob3dOb3RpY2UoJ05vdGU6IEZ1bGwgaXRlbSBkZXRhaWxzIG1pZ2h0IG5vdCBiZSBsb2FkZWQuIERpc3BsYXlpbmcgYmFzaWMgZm9ybSBmb3IgZWRpdGluZy4nLCAnaW5mbycpO1xuICAgICAgfVxuICAgICAgdGhpcy5kb20uZm9ybUNvbnRhaW5lcj8uc2xpZGVEb3duKCk7XG4gICAgICB0aGlzLmRvbS5hZGRCdXR0b24/LmhpZGUoKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVEZWxldGUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkYnV0dG9uID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgJHJvdyA9ICRidXR0b24uY2xvc2VzdCh0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5saXN0SXRlbVJvdyk7XG4gICAgY29uc3QgaXRlbUlkID0gJHJvdy5kYXRhKCdpZCcpO1xuXG4gICAgaWYgKCFpdGVtSWQpIHtcbiAgICAgIHRoaXMuc2hvd05vdGljZSgnRXJyb3I6IENvdWxkIG5vdCBkZXRlcm1pbmUgaXRlbSB0byBkZWxldGUuJywgJ2Vycm9yJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFjb25maXJtKHRoaXMuc2V0dGluZ3MuaTE4bi5jb25maXJtRGVsZXRlIHx8ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgaXRlbT8nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9yaWdpbmFsQnV0dG9uVGV4dCA9ICRidXR0b24udGV4dCgpO1xuICAgICRidXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS50ZXh0KHRoaXMuc2V0dGluZ3MuaTE4bi5kZWxldGluZyB8fCAnRGVsZXRpbmcuLi4nKTtcblxuICAgIGFqYXguYWpheFJlcXVlc3Qoe1xuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLmFqYXhVcmwsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFjdGlvbjogdGhpcy5zZXR0aW5ncy5hY3Rpb25zLmRlbGV0ZV9pdGVtLFxuICAgICAgICBub25jZTogdGhpcy5zZXR0aW5ncy5ub25jZSwgLy8gSXRlbS1zcGVjaWZpYyBub25jZVxuICAgICAgICBpdGVtX2lkOiBpdGVtSWQsXG4gICAgICAgIG9wdGlvbl9uYW1lOiB0aGlzLnNldHRpbmdzLm9wdGlvbl9uYW1lLFxuICAgICAgICB0YWJfaWQ6IHRoaXMuc2V0dGluZ3MudGFiX2lkLFxuICAgICAgfVxuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGNvbnN0IGlzU3VjY2VzcyA9IHJlc3BvbnNlICYmIChyZXNwb25zZS5zdWNjZXNzID09PSB0cnVlIHx8IChyZXNwb25zZS5pdGVtSWQgJiYgcmVzcG9uc2UubWVzc2FnZSkpO1xuICAgICAgICBpZiAoaXNTdWNjZXNzKSB7XG4gICAgICAgICAgdGhpcy5zaG93Tm90aWNlKChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubWVzc2FnZSkgfHwgcmVzcG9uc2UubWVzc2FnZSB8fCB0aGlzLnNldHRpbmdzLmkxOG4uaXRlbURlbGV0ZWRTdWNjZXNzIHx8ICdJdGVtIGRlbGV0ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICAkcm93LmZhZGVPdXQoMzAwLCAoKSA9PiB7XG4gICAgICAgICAgICAkcm93LnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVOb0l0ZW1zTWVzc2FnZVZpc2liaWxpdHkoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNob3dOb3RpY2UoKHJlc3BvbnNlICYmIHJlc3BvbnNlLm1lc3NhZ2UpIHx8IChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubWVzc2FnZSkgfHwgdGhpcy5zZXR0aW5ncy5pMThuLmVycm9yRGVsZXRpbmdJdGVtIHx8ICdFcnJvciBkZWxldGluZyBpdGVtLicsICdlcnJvcicpO1xuICAgICAgICAgICRidXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudGV4dChvcmlnaW5hbEJ1dHRvblRleHQpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgdGhpcy5zaG93Tm90aWNlKGVycm9yLm1lc3NhZ2UgfHwgdGhpcy5zZXR0aW5ncy5pMThuLmVycm9yRGVsZXRpbmdJdGVtIHx8ICdBSkFYIGVycm9yIGRlbGV0aW5nIGl0ZW0uJywgJ2Vycm9yJyk7XG4gICAgICAgICRidXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSkudGV4dChvcmlnaW5hbEJ1dHRvblRleHQpO1xuICAgICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmICghdGhpcy52YWxpZGF0ZUZvcm0oKSkge1xuICAgICAgdGhpcy5zaG93Tm90aWNlKHRoaXMuc2V0dGluZ3MuaTE4bi52YWxpZGF0aW9uRmFpbGVkIHx8ICdQbGVhc2UgY29ycmVjdCB0aGUgZXJyb3JzIGluIHRoZSBmb3JtLicsICdlcnJvcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNob3dGb3JtTG9hZGluZ1NwaW5uZXIodHJ1ZSwgdGhpcy5kb20uc2F2ZUJ1dHRvbik7XG5cbiAgICBjb25zdCBkZXRlcm1pbmVkQWN0aW9uID0gdGhpcy5pc0VkaXRNb2RlID8gdGhpcy5zZXR0aW5ncy5hY3Rpb25zLnVwZGF0ZV9pdGVtIDogdGhpcy5zZXR0aW5ncy5hY3Rpb25zLmFkZF9pdGVtO1xuXG4gICAgaWYgKCFkZXRlcm1pbmVkQWN0aW9uKSB7XG4gICAgICB0aGlzLnNob3dOb3RpY2UodGhpcy5zZXR0aW5ncy5pMThuLmVycm9yU2F2aW5nSXRlbSB8fCAnQ29uZmlndXJhdGlvbiBlcnJvcjogU2F2ZSBhY3Rpb24gbm90IGRlZmluZWQuJywgJ2Vycm9yJyk7XG4gICAgICB0aGlzLnNob3dGb3JtTG9hZGluZ1NwaW5uZXIoZmFsc2UsIHRoaXMuZG9tLnNhdmVCdXR0b24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGFQYXlsb2FkID0ge1xuICAgICAgYWN0aW9uOiBkZXRlcm1pbmVkQWN0aW9uLFxuICAgICAgbm9uY2U6IHRoaXMuc2V0dGluZ3Mubm9uY2UsIC8vIEl0ZW0tc3BlY2lmaWMgbm9uY2VcbiAgICAgIG9wdGlvbl9uYW1lOiB0aGlzLnNldHRpbmdzLm9wdGlvbl9uYW1lLFxuICAgICAgdGFiX2lkOiB0aGlzLnNldHRpbmdzLnRhYl9pZCxcbiAgICAgIGl0ZW1fZGF0YToge31cbiAgICB9O1xuXG4gICAgY29uc3QgZm9ybUZpZWxkcyA9IHRoaXMuZG9tLmZvcm0uc2VyaWFsaXplQXJyYXkoKTtcbiAgICBmb3JtRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgY29uc3QgZmllbGROYW1lID0gZmllbGQubmFtZTtcbiAgICAgIGNvbnN0IGZpZWxkVmFsdWUgPSBmaWVsZC52YWx1ZTtcbiAgICAgIGlmIChmaWVsZE5hbWUuZW5kc1dpdGgoJ1tdJykpIHtcbiAgICAgICAgY29uc3QgYWN0dWFsTmFtZSA9IGZpZWxkTmFtZS5zbGljZSgwLCAtMik7XG4gICAgICAgIGlmICghZGF0YVBheWxvYWQuaXRlbV9kYXRhW2FjdHVhbE5hbWVdKSB7XG4gICAgICAgICAgZGF0YVBheWxvYWQuaXRlbV9kYXRhW2FjdHVhbE5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgZGF0YVBheWxvYWQuaXRlbV9kYXRhW2FjdHVhbE5hbWVdLnB1c2goZmllbGRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhUGF5bG9hZC5pdGVtX2RhdGFbZmllbGROYW1lXSA9IGZpZWxkVmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5pc0VkaXRNb2RlICYmIHRoaXMuY3VycmVudEl0ZW1JZCkge1xuICAgICAgZGF0YVBheWxvYWQuaXRlbV9pZCA9IHRoaXMuY3VycmVudEl0ZW1JZDtcbiAgICB9XG5cblxuICAgIGFqYXguYWpheFJlcXVlc3Qoe1xuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLmFqYXhVcmwsXG4gICAgICBkYXRhOiBkYXRhUGF5bG9hZFxuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG5cbiAgICAgICAgLy8gRW5oYW5jZWQgcmVzcG9uc2UgdmFsaWRhdGlvbiB3aXRoIGRldGFpbGVkIGxvZ2dpbmdcbiAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgIHRoaXMuc2hvd05vdGljZSh0aGlzLnNldHRpbmdzLmkxOG4uZXJyb3JTYXZpbmdJdGVtIHx8ICdFcnJvcjogRW1wdHkgcmVzcG9uc2UgZnJvbSBzZXJ2ZXInLCAnZXJyb3InKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5pdGVtKSB7XG4gICAgICAgICAgdGhpcy5zaG93Tm90aWNlKHJlc3BvbnNlLm1lc3NhZ2UgfHwgdGhpcy5zZXR0aW5ncy5pMThuLml0ZW1TYXZlZFN1Y2Nlc3MgfHwgJ0l0ZW0gc2F2ZWQuJywgJ3N1Y2Nlc3MnKTtcblxuICAgICAgICAgIC8vIENSSVRJQ0FMOiBIYW5kbGluZyB0aGUgZmlyc3QgaXRlbSBzY2VuYXJpbyBkaXJlY3RseVxuICAgICAgICAgIGNvbnN0IGlzRmlyc3RJdGVtID0gIXRoaXMuZG9tLmxpc3RUYWJsZUJvZHkuZmluZCgndHInKS5sZW5ndGg7XG5cbiAgICAgICAgICBpZiAodGhpcy5pc0VkaXRNb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYmxlUm93KHJlc3BvbnNlLml0ZW0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRhYmxlUm93KHJlc3BvbnNlLml0ZW0pO1xuXG4gICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBmaXJzdCBpdGVtXG4gICAgICAgICAgICBpZiAoaXNGaXJzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgdGhpcy5kb20ubGlzdFRhYmxlLnNob3coKTtcbiAgICAgICAgICAgICAgdGhpcy5kb20ubm9JdGVtc01lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICAgICAgICAgIC8vIEZvcmNlIERPTSByZWNhbGN1bGF0aW9uL3JlcGFpbnQgZm9yIHRoZSB0YWJsZVxuICAgICAgICAgICAgICB2b2lkIHRoaXMuZG9tLmxpc3RUYWJsZVswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5kb20uZm9ybUNvbnRhaW5lcj8uc2xpZGVVcCgpO1xuICAgICAgICAgIHRoaXMuZG9tLmFkZEJ1dHRvbj8uc2hvdygpO1xuICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7XG4gICAgICAgICAgdGhpcy5pc0VkaXRNb2RlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5jdXJyZW50SXRlbUlkID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmZvcm1Nb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVycm9yTXNnID0gKHJlc3BvbnNlICYmIHJlc3BvbnNlLm1lc3NhZ2UpID8gcmVzcG9uc2UubWVzc2FnZSA6IHRoaXMuc2V0dGluZ3MuaTE4bi5lcnJvclNhdmluZ0l0ZW0gfHwgJ0Vycm9yIHNhdmluZyBpdGVtIG9yIHJlc3BvbnNlIGZvcm1hdCBpbmNvcnJlY3QuJztcbiAgICAgICAgICBjb25zdCBlcnJvcnNEZXRhaWwgPSAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZXJyb3JzKSA/IGA8YnI+PHByZT4ke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmVycm9ycywgbnVsbCwgMil9PC9wcmU+YCA6ICcnO1xuICAgICAgICAgIHRoaXMuc2hvd05vdGljZShlcnJvck1zZyArIGVycm9yc0RldGFpbCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IGVycm9yLm1lc3NhZ2UgfHwgdGhpcy5zZXR0aW5ncy5pMThuLmVycm9yU2F2aW5nSXRlbSB8fCAnQUpBWCBlcnJvciBkdXJpbmcgc2F2ZS4nO1xuICAgICAgICB0aGlzLnNob3dOb3RpY2UoZXJyb3JNc2csICdlcnJvcicpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgdGhpcy5zaG93Rm9ybUxvYWRpbmdTcGlubmVyKGZhbHNlLCB0aGlzLmRvbS5zYXZlQnV0dG9uKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlQ2FuY2VsKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHRoaXMuZm9ybU1vZGlmaWVkKSB7XG4gICAgICBpZiAoIWNvbmZpcm0odGhpcy5zZXR0aW5ncy5pMThuLmNvbmZpcm1DYW5jZWxFZGl0aW5nIHx8IFwiWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzLiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2FuY2VsP1wiKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZG9tLmZvcm1Db250YWluZXI/LnNsaWRlVXAoKTtcbiAgICB0aGlzLmRvbS5hZGRCdXR0b24/LnNob3coKTtcbiAgICB0aGlzLnJlc2V0Rm9ybSgpO1xuICAgIHRoaXMuaXNFZGl0TW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuY3VycmVudEl0ZW1JZCA9IG51bGw7XG4gICAgdGhpcy5mb3JtTW9kaWZpZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2V0Rm9ybSgpIHtcbiAgICB0aGlzLmRvbS5mb3JtWzBdPy5yZXNldCgpO1xuICAgIGlmICh0aGlzLmRvbS5pZElucHV0ICYmIHRoaXMuZG9tLmlkSW5wdXQubGVuZ3RoKSB7XG4gICAgICB0aGlzLmRvbS5pZElucHV0LnZhbCgnJyk7XG4gICAgfVxuICAgIHRoaXMuZm9ybU1vZGlmaWVkID0gZmFsc2U7XG4gICAgdGhpcy5kb20uZm9ybT8uZmluZCgnLmVycm9yJykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XG4gICAgdGhpcy5kb20uZm9ybT8uZmluZCgnLmZpZWxkLWVycm9yJykucmVtb3ZlKCk7XG4gIH1cblxuICBwb3B1bGF0ZUZvcm1XaXRoRGF0YShpdGVtRGF0YSkge1xuICAgIGlmIChpdGVtRGF0YSAmJiBpdGVtRGF0YS5pZCkge1xuICAgICAgaWYgKHRoaXMuZG9tLmlkSW5wdXQgJiYgdGhpcy5kb20uaWRJbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5kb20uaWRJbnB1dC52YWwoaXRlbURhdGEuaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgQWRtaW5UYWJsZU1hbmFnZXI6IElEIGlucHV0IGZpZWxkIG5vdCBmb3VuZCB3aGVuIHBvcHVsYXRpbmcgZm9ybSBkYXRhIGZvciAnJHt0aGlzLnNldHRpbmdzLnRhYl9pZH0nLmApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGBBZG1pblRhYmxlTWFuYWdlcjogSW52YWxpZCBpdGVtIGRhdGEgKG1pc3NpbmcgSUQpIHdoZW4gcG9wdWxhdGluZyBmb3JtIGZvciAnJHt0aGlzLnNldHRpbmdzLnRhYl9pZH0nLmApO1xuICAgIH1cbiAgICB0aGlzLmZvcm1Nb2RpZmllZCA9IGZhbHNlO1xuICB9XG5cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgICB0aGlzLmRvbS5mb3JtPy5maW5kKCcuZXJyb3InKS5yZW1vdmVDbGFzcygnZXJyb3InKTtcbiAgICB0aGlzLmRvbS5mb3JtPy5maW5kKCcuZmllbGQtZXJyb3InKS5yZW1vdmUoKTtcblxuICAgIHRoaXMuZG9tLmZvcm0/LmZpbmQoJ1tkYXRhLWlzLXJlcXVpcmVkPVwidHJ1ZVwiXSwgLmlzLXJlcXVpcmVkJykuZWFjaCgoaW5kZXgsIGVsKSA9PiB7XG4gICAgICBjb25zdCAkZmllbGQgPSB0aGlzLiQoZWwpO1xuICAgICAgbGV0IHZhbHVlID0gJGZpZWxkLnZhbCgpO1xuXG4gICAgICBpZiAoJGZpZWxkLmlzKCc6Y2hlY2tib3gnKSkge1xuICAgICAgICBpZiAoISRmaWVsZC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IoJGZpZWxkLmNsb3Nlc3QoJ2xhYmVsJykubGVuZ3RoID8gJGZpZWxkLmNsb3Nlc3QoJ2xhYmVsJykgOiAkZmllbGQsIHRoaXMuc2V0dGluZ3MuaTE4bi5maWVsZFJlcXVpcmVkIHx8ICdUaGlzIGZpZWxkIG11c3QgYmUgY2hlY2tlZC4nKTtcbiAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09ICcnIHx8ICgkZmllbGQuaXMoJ3NlbGVjdCcpICYmICF2YWx1ZSkgKSB7XG4gICAgICAgICAgdGhpcy5zaG93RmllbGRFcnJvcigkZmllbGQsIHRoaXMuc2V0dGluZ3MuaTE4bi5maWVsZFJlcXVpcmVkIHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpc1ZhbGlkO1xuICB9XG5cbiAgYWRkVGFibGVSb3coaXRlbURhdGEpIHtcblxuICAgIC8vIERlYnVnIHRhYmxlIHN0YXRlIGJlZm9yZSBhZGRpbmcgcm93XG5cbiAgICAvLyBDcmVhdGUgdGhlIHJvd1xuICAgIGNvbnN0ICRyb3cgPSB0aGlzLmNyZWF0ZVRhYmxlUm93KGl0ZW1EYXRhKTtcblxuICAgIC8vIEFkZCB0aGUgcm93IHRvIHRoZSB0YWJsZVxuICAgIGlmICgkcm93ICYmIHRoaXMuZG9tLmxpc3RUYWJsZUJvZHkgJiYgdGhpcy5kb20ubGlzdFRhYmxlQm9keS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZG9tLmxpc3RUYWJsZUJvZHkuYXBwZW5kKCRyb3cpO1xuXG4gICAgICAvLyBBbHdheXMgbWFrZSB0YWJsZSB2aXNpYmxlIGFmdGVyIGFkZGluZyBhIHJvdywgYW5kIGhpZGUgdGhlIFwibm8gaXRlbXNcIiBtZXNzYWdlXG4gICAgICBpZiAodGhpcy5kb20ubGlzdFRhYmxlKSB7XG4gICAgICAgIHRoaXMuZG9tLmxpc3RUYWJsZS5zaG93KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRvbS5ub0l0ZW1zTWVzc2FnZSkge1xuICAgICAgICB0aGlzLmRvbS5ub0l0ZW1zTWVzc2FnZS5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNraXAgdXBkYXRlTm9JdGVtc01lc3NhZ2VWaXNpYmlsaXR5KCkgc2luY2Ugd2UncmUgZXhwbGljaXRseSBoYW5kbGluZyB2aXNpYmlsaXR5XG5cbiAgICAgIC8vIERlYnVnIHRhYmxlIHN0YXRlIGFmdGVyIGFkZGluZyByb3dcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2dnZXIud2FybihgQWRtaW5UYWJsZU1hbmFnZXI6IENvdWxkIG5vdCBhZGQgdGFibGUgcm93IC0gZWl0aGVyIHJvdyBjcmVhdGlvbiBmYWlsZWQgb3IgdGFibGUgYm9keSBub3QgZm91bmQgZm9yICcke3RoaXMuc2V0dGluZ3MudGFiX2lkfScuYCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlVGFibGVSb3coaXRlbURhdGEpIHtcbiAgICBpZiAoIWl0ZW1EYXRhLmlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMgfHwgIXRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzLmxpc3RJdGVtUm93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0ICRleGlzdGluZ1JvdyA9IHRoaXMuZG9tLmxpc3RUYWJsZUJvZHk/LmZpbmQoYCR7dGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMubGlzdEl0ZW1Sb3d9W2RhdGEtaWQ9XCIke2l0ZW1EYXRhLmlkfVwiXWApO1xuICAgIGlmICgkZXhpc3RpbmdSb3cgJiYgJGV4aXN0aW5nUm93Lmxlbmd0aCkge1xuICAgICAgY29uc3QgJG5ld1JvdyA9IHRoaXMuY3JlYXRlVGFibGVSb3coaXRlbURhdGEpO1xuICAgICAgaWYgKCRuZXdSb3cpIHtcbiAgICAgICAgJGV4aXN0aW5nUm93LnJlcGxhY2VXaXRoKCRuZXdSb3cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgQWRtaW5UYWJsZU1hbmFnZXI6IEZhaWxlZCB0byBjcmVhdGUgcmVwbGFjZW1lbnQgcm93IGZvciBpdGVtICMke2l0ZW1EYXRhLmlkfSBpbiAnJHt0aGlzLnNldHRpbmdzLnRhYl9pZH0nLmApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZFRhYmxlUm93KGl0ZW1EYXRhKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHRhYmxlIHJvdyBmcm9tIGl0ZW0gZGF0YS5cbiAgICogVGhpcyBtZXRob2QgcHJvdmlkZXMgYSBjb21tb24gaW1wbGVtZW50YXRpb24gZm9yIGNyZWF0aW5nIHRhYmxlIHJvd3MgYmFzZWQgb25cbiAgICogdGhlIHRhYmxlX2NvbHVtbnMgc2V0dGluZyBwcm92aWRlZCBmcm9tIFBIUC5cbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1EYXRhIC0gVGhlIGl0ZW0gZGF0YSBmb3IgdGhlIHJvdy5cbiAgICogQHJldHVybnMge2pRdWVyeX0gLSBUaGUgalF1ZXJ5IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJvdy5cbiAgICovXG4gIGNyZWF0ZVRhYmxlUm93KGl0ZW1EYXRhKSB7XG4gICAgaWYgKCFpdGVtRGF0YSB8fCAhaXRlbURhdGEuaWQpIHtcbiAgICAgIC8vIFJldHVybiBhIHZhbGlkIGpRdWVyeSBvYmplY3QgZm9yIGEgcm93LCBldmVuIGZvciBhbiBlcnJvci5cbiAgICAgIGNvbnN0IGNvbHNwYW4gPSB0aGlzLmRvbS5saXN0VGFibGU/LmZpbmQoJ3RoZWFkIHRoJykubGVuZ3RoIHx8IDQ7XG4gICAgICByZXR1cm4gdGhpcy4kKGA8dHI+PHRkIGNvbHNwYW49XCIke2NvbHNwYW59XCI+RXJyb3I6IEludmFsaWQgaXRlbSBkYXRhIHByb3ZpZGVkIHRvIGNyZWF0ZVRhYmxlUm93LjwvdGQ+PC90cj5gKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgY29sdW1uIGluZm9ybWF0aW9uIGZyb20gdGhlIHNldHRpbmdzIHBhc3NlZCBmcm9tIFBIUFxuICAgIGNvbnN0IHRhYmxlQ29sdW1ucyA9IHRoaXMuc2V0dGluZ3MudGFibGVfY29sdW1ucyB8fCB7fTtcbiAgICBpZiAoT2JqZWN0LmtleXModGFibGVDb2x1bW5zKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGNvbHNwYW4gPSB0aGlzLmRvbS5saXN0VGFibGU/LmZpbmQoJ3RoZWFkIHRoJykubGVuZ3RoIHx8IDQ7XG4gICAgICByZXR1cm4gdGhpcy4kKGA8dHI+PHRkIGNvbHNwYW49XCIke2NvbHNwYW59XCI+RXJyb3I6IHRhYmxlX2NvbHVtbnMgZGF0YSBtaXNzaW5nIGluIHNldHRpbmdzIGZvciAke3RoaXMuc2V0dGluZ3MudGFiX2lkfS48L3RkPjwvdHI+YCk7XG4gICAgfVxuXG4gICAgLy8gR2V0IHNlbGVjdG9yIHZhbHVlc1xuICAgIGNvbnN0IHNlbGVjdG9ycyA9IHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzIHx8IHt9O1xuICAgIGNvbnN0IGxpc3RJdGVtUm93U2VsZWN0b3IgPSBzZWxlY3RvcnMubGlzdEl0ZW1Sb3cgfHwgJ3RyJzsgLy8gQmFzZSBjbGFzcyBtaWdodCB1c2UgdGhpcyBpZiBkZWZpbmVkXG4gICAgY29uc3QgZWRpdEJ1dHRvbkNsYXNzID0gKHNlbGVjdG9ycy5lZGl0QnV0dG9uIHx8ICcucGUtZWRpdC1pdGVtLWJ1dHRvbicpLnJlcGxhY2UoL15cXC4vLCAnJyk7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uQ2xhc3MgPSAoc2VsZWN0b3JzLmRlbGV0ZUJ1dHRvbiB8fCAnLnBlLWRlbGV0ZS1pdGVtLWJ1dHRvbicpLnJlcGxhY2UoL15cXC4vLCAnJyk7XG5cbiAgICAvLyBHZXQgaTE4biBzdHJpbmdzXG4gICAgY29uc3QgaTE4biA9IHRoaXMuc2V0dGluZ3MuaTE4biB8fCB7fTtcblxuICAgIC8vIEV4dHJhY3QganVzdCB0aGUgdGFnIG5hbWUgd2l0aG91dCBhbnkgYXR0cmlidXRlIHNlbGVjdG9yc1xuICAgIGNvbnN0IHRhZ05hbWUgPSBsaXN0SXRlbVJvd1NlbGVjdG9yLnNwbGl0KCcuJylbMF0ucmVwbGFjZSgvXFxbKC4qPylcXF0vZywgJycpO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSByb3cgd2l0aCB0aGUgY29ycmVjdCB0YWcgYW5kIGRhdGEtaWQgYXR0cmlidXRlXG4gICAgY29uc3QgJHJvdyA9IHRoaXMuJChgPCR7dGFnTmFtZX0gZGF0YS1pZD1cIiR7aXRlbURhdGEuaWR9XCI+PC8ke3RhZ05hbWV9PmApO1xuXG4gICAgLy8gRGVidWcgdGhlIHJvdyBlbGVtZW50IHRoYXQncyBiZWluZyBjcmVhdGVkXG5cbiAgICAvLyBJZiBsaXN0SXRlbVJvd1NlbGVjdG9yIGluY2x1ZGVzIGNsYXNzZXMsIGFkZCB0aGVtOiBlLmcuLCAndHIubXktY3VzdG9tLXJvdy1jbGFzcydcbiAgICBpZiAobGlzdEl0ZW1Sb3dTZWxlY3Rvci5pbmNsdWRlcygnLicpKSB7XG4gICAgICAkcm93LmFkZENsYXNzKGxpc3RJdGVtUm93U2VsZWN0b3Iuc3Vic3RyaW5nKGxpc3RJdGVtUm93U2VsZWN0b3IuaW5kZXhPZignLicpICsgMSkucmVwbGFjZSgvXFwuL2csICcgJykpO1xuICAgIH1cblxuXG4gICAgLy8gQ3JlYXRlIGVhY2ggY2VsbCB1c2luZyB0aGUgY29sdW1uIElEcyBmcm9tIFBIUFxuICAgIE9iamVjdC5lbnRyaWVzKHRhYmxlQ29sdW1ucykuZm9yRWFjaCgoW2NvbHVtbklkLCBjb2x1bW5UaXRsZV0pID0+IHtcbiAgICAgIGNvbnN0ICRjZWxsID0gdGhpcy4kKCc8dGQ+PC90ZD4nKVxuICAgICAgICAuYWRkQ2xhc3MoYGNvbHVtbi0ke2NvbHVtbklkfWApIC8vIE1hdGNoIHRoZSBQSFAgY2xhc3MgbmFtaW5nIGNvbnZlbnRpb25cbiAgICAgICAgLmF0dHIoJ2RhdGEtY29sbmFtZScsIGNvbHVtblRpdGxlKTsgLy8gU2V0IHRoZSBjb2x1bW4gdGl0bGUgZm9yIHJlc3BvbnNpdmUgZGlzcGxheVxuXG4gICAgICAvLyBMb2cgY29sdW1uIGNyZWF0aW9uIGZvciBkZWJ1Z2dpbmdcblxuICAgICAgLy8gSG9vayBwb2ludHMgZm9yIGNvbHVtbiBjdXN0b21pemF0aW9uOlxuICAgICAgLy8gMS4gQ2hpbGQgY2xhc3MgY2FuIGltcGxlbWVudCBhIHNwZWNpZmljIG1ldGhvZCBmb3IgYSBjb2x1bW5cbiAgICAgIC8vIDIuIEdlbmVyaWMgYWN0aW9ucyBjb2x1bW4gaGFuZGxlclxuICAgICAgLy8gMy4gRGVmYXVsdCB0ZXh0IGRpc3BsYXlcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNoaWxkIGNsYXNzIGhhcyBhIG1ldGhvZCB0byBwb3B1bGF0ZSBzcGVjaWZpYyBjb2x1bW4gY29udGVudFxuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IGBwb3B1bGF0ZUNvbHVtbl8ke2NvbHVtbklkLnJlcGxhY2UoL1teYS16QS1aMC05X10vZywgJ18nKX1gO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzW21ldGhvZE5hbWVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIExldCB0aGUgY2hpbGQgY2xhc3MgaGFuZGxlIHRoaXMgc3BlY2lmaWMgY29sdW1uXG4gICAgICAgIHRoaXNbbWV0aG9kTmFtZV0oJGNlbGwsIGl0ZW1EYXRhLCBjb2x1bW5JZCk7XG4gICAgICB9IGVsc2UgaWYgKGNvbHVtbklkID09PSAnaXRlbV9hY3Rpb25zJyB8fCBjb2x1bW5JZC5lbmRzV2l0aCgnX2FjdGlvbnMnKSkge1xuICAgICAgICAvLyBEZWZhdWx0IGhhbmRsaW5nIGZvciBhY3Rpb25zIGNvbHVtblxuICAgICAgICAkY2VsbC5hZGRDbGFzcygnYWN0aW9ucycpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBlZGl0IGJ1dHRvblxuICAgICAgICBjb25zdCAkZWRpdEJ1dHRvbiA9IHRoaXMuJCgnPGJ1dHRvbj48L2J1dHRvbj4nKVxuICAgICAgICAgIC5hdHRyKCd0eXBlJywgJ2J1dHRvbicpXG4gICAgICAgICAgLmFkZENsYXNzKGBidXR0b24gYnV0dG9uLXNtYWxsICR7ZWRpdEJ1dHRvbkNsYXNzfWApXG4gICAgICAgICAgLnRleHQoaTE4bi5lZGl0QnV0dG9uTGFiZWwgfHwgJ0VkaXQnKVxuICAgICAgICAgIC5kYXRhKCdpZCcsIGl0ZW1EYXRhLmlkKTtcblxuICAgICAgICAvLyBDcmVhdGUgZGVsZXRlIGJ1dHRvblxuICAgICAgICBjb25zdCAkZGVsZXRlQnV0dG9uID0gdGhpcy4kKCc8YnV0dG9uPjwvYnV0dG9uPicpXG4gICAgICAgICAgLmF0dHIoJ3R5cGUnLCAnYnV0dG9uJylcbiAgICAgICAgICAuYWRkQ2xhc3MoYGJ1dHRvbiBidXR0b24tc21hbGwgJHtkZWxldGVCdXR0b25DbGFzc31gKVxuICAgICAgICAgIC50ZXh0KGkxOG4uZGVsZXRlQnV0dG9uTGFiZWwgfHwgJ0RlbGV0ZScpXG4gICAgICAgICAgLmRhdGEoJ2lkJywgaXRlbURhdGEuaWQpO1xuXG4gICAgICAgICRjZWxsLmFwcGVuZCgkZWRpdEJ1dHRvbiwgJyAnLCAkZGVsZXRlQnV0dG9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQgaGFuZGxpbmcgZm9yIG90aGVyIGNvbHVtbnMgLSBqdXN0IHVzZSB0aGUgZGlzcGxheSBmaWVsZCBpZiBhdmFpbGFibGVcbiAgICAgICAgY29uc3QgZGlzcGxheUZpZWxkID0gYCR7Y29sdW1uSWR9X2Rpc3BsYXlgO1xuICAgICAgICBjb25zdCBkaXNwbGF5VmFsdWUgPSBpdGVtRGF0YVtkaXNwbGF5RmllbGRdIHx8IGl0ZW1EYXRhW2NvbHVtbklkXSB8fCAnJztcbiAgICAgICAgJGNlbGwudGV4dChkaXNwbGF5VmFsdWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgdGhlIGNlbGwgdG8gdGhlIHJvd1xuICAgICAgJHJvdy5hcHBlbmQoJGNlbGwpO1xuICAgIH0pO1xuXG4gICAgLy8gRGVidWcgdGhlIGZpbmFsIHJvdyBzdHJ1Y3R1cmVcblxuICAgIC8vIEFsbG93IGNoaWxkIGNsYXNzZXMgdG8gcGVyZm9ybSBwb3N0LXByb2Nlc3Npbmcgb24gdGhlIHJvd1xuICAgIGlmICh0eXBlb2YgdGhpcy5hZnRlclJvd0NyZWF0ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuYWZ0ZXJSb3dDcmVhdGVkKCRyb3csIGl0ZW1EYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHJvdztcbiAgfVxuXG4gIHVwZGF0ZU5vSXRlbXNNZXNzYWdlVmlzaWJpbGl0eSgpIHtcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzIHx8ICF0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy5saXN0SXRlbVJvdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlYnVnIGluZm9cblxuICAgIGlmICh0aGlzLmRvbS5ub0l0ZW1zTWVzc2FnZSAmJiB0aGlzLmRvbS5ub0l0ZW1zTWVzc2FnZS5sZW5ndGggJiYgdGhpcy5kb20ubGlzdFRhYmxlQm9keSAmJiB0aGlzLmRvbS5saXN0VGFibGUpIHtcbiAgICAgIGNvbnN0IHJvd1NlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMubGlzdEl0ZW1Sb3c7XG4gICAgICBjb25zdCAkZm91bmRSb3dzID0gdGhpcy5kb20ubGlzdFRhYmxlQm9keS5maW5kKHJvd1NlbGVjdG9yKTtcbiAgICAgIGNvbnN0IGhhc0l0ZW1zID0gJGZvdW5kUm93cy5sZW5ndGggPiAwO1xuXG5cbiAgICAgIGlmIChoYXNJdGVtcykge1xuICAgICAgICB0aGlzLmRvbS5ub0l0ZW1zTWVzc2FnZS5oaWRlKCk7XG4gICAgICAgIHRoaXMuZG9tLmxpc3RUYWJsZS5zaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRvbS5ub0l0ZW1zTWVzc2FnZS5zaG93KCk7XG4gICAgICAgIHRoaXMuZG9tLmxpc3RUYWJsZS5oaWRlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oYEFkbWluVGFibGVNYW5hZ2VyOiBSZXF1aXJlZCBET00gZWxlbWVudHMgZm9yIG5vLWl0ZW1zIG1lc3NhZ2UgaGFuZGxpbmcgbm90IGZvdW5kIGZvciAnJHt0aGlzLnNldHRpbmdzLnRhYl9pZH0nLmApO1xuICAgIH1cbiAgfVxuXG4gIHNob3dGb3JtTG9hZGluZ1NwaW5uZXIoaXNMb2FkaW5nLCAkYnV0dG9uKSB7XG4gICAgY29uc3QgJGJ0biA9ICRidXR0b24gfHwgdGhpcy5kb20uc2F2ZUJ1dHRvbjtcbiAgICBpZiAoISRidG4gfHwgISRidG4ubGVuZ3RoKSByZXR1cm47XG5cbiAgICBjb25zdCBvcmlnaW5hbFRleHRLZXkgPSAnb3JpZ2luYWwtdGV4dCc7XG4gICAgY29uc3Qgc2F2aW5nVGV4dCA9ICh0aGlzLnNldHRpbmdzLmkxOG4gJiYgdGhpcy5zZXR0aW5ncy5pMThuLnNhdmluZykgfHwgJ1NhdmluZy4uLic7XG5cbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAkYnRuLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSkuYWRkQ2xhc3MoJ3BlLWxvYWRpbmcnKTtcbiAgICAgIGlmICghJGJ0bi5kYXRhKG9yaWdpbmFsVGV4dEtleSkpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFRleHQgPSAkYnRuLmlzKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpID8gJGJ0bi52YWwoKSA6ICRidG4udGV4dCgpO1xuICAgICAgICAkYnRuLmRhdGEob3JpZ2luYWxUZXh0S2V5LCBjdXJyZW50VGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAoJGJ0bi5pcygnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnKSkgJGJ0bi52YWwoc2F2aW5nVGV4dCk7IGVsc2UgJGJ0bi50ZXh0KHNhdmluZ1RleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkYnRuLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnJlbW92ZUNsYXNzKCdwZS1sb2FkaW5nJyk7XG4gICAgICBpZiAoJGJ0bi5kYXRhKG9yaWdpbmFsVGV4dEtleSkpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gJGJ0bi5kYXRhKG9yaWdpbmFsVGV4dEtleSk7XG4gICAgICAgIGlmICgkYnRuLmlzKCdpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCcpKSAkYnRuLnZhbChvcmlnaW5hbFRleHQpOyBlbHNlICRidG4udGV4dChvcmlnaW5hbFRleHQpO1xuICAgICAgICAkYnRuLnJlbW92ZURhdGEob3JpZ2luYWxUZXh0S2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQWRtaW5UYWJsZU1hbmFnZXI7XG4iXSwibmFtZXMiOlsiYWpheCIsImNyZWF0ZUxvZ2dlciIsIlZlcnRpY2FsVGFiYmVkTW9kdWxlIiwiQWRtaW5UYWJsZU1hbmFnZXIiLCJfVmVydGljYWxUYWJiZWRNb2R1bGUiLCJjb25maWciLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsInZ0bUNvbmZpZyIsIl9vYmplY3RTcHJlYWQiLCJkZWZhdWx0U3ViVGFiSWQiLCJtYWluVGFiSWQiLCJhamF4QWN0aW9uUHJlZml4IiwiY29uY2F0IiwiX2NhbGxTdXBlciIsImxvZ2dlck5hbWUiLCJsb2dnZXIiLCJzZXR0aW5ncyIsInRhYl9pZCIsIndhcm4iLCJmb3JtTW9kaWZpZWQiLCJpc0VkaXRNb2RlIiwiY3VycmVudEl0ZW1JZCIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiX3ZhbGlkYXRlU2V0dGluZ3MiLCJ1bmRlZmluZWQiLCJFcnJvciIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJlcnJvck1zZyIsInNldHRpbmdzT2JqZWN0TmFtZSIsInJlcXVpcmVkIiwiYWN0aW9ucyIsInNlbGVjdG9ycyIsImkxOG5fa2V5cyIsImFsbFZhbGlkIiwiYWpheFVybCIsIm5vbmNlIiwib3B0aW9uX25hbWUiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsIl9zdGVwIiwicyIsIm4iLCJkb25lIiwiZXJyIiwiZSIsImYiLCJfaXRlcmF0b3IyIiwiX3N0ZXAyIiwiaTE4biIsIl9pdGVyYXRvcjMiLCJfc3RlcDMiLCJtb2R1bGVJbml0IiwiX3N1cGVyUHJvcEdldCIsIiRjb250YWluZXIiLCJ3aW5kb3ciLCJQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSIsInNob3dOb3RpY2UiLCJlcnJvciIsIm1lc3NhZ2UiLCJjYWNoZURPTSIsIl9jaGVja0Vzc2VudGlhbERPTSIsImJpbmRFdmVudHMiLCJ1cGRhdGVOb0l0ZW1zTWVzc2FnZVZpc2liaWxpdHkiLCIkIiwiZG9jdW1lbnQiLCJ0cmlnZ2VyIiwidGFiRGlzcGxheU5hbWUiLCJlc3NlbnRpYWxGb3VuZCIsImVzc2VudGlhbFNlbGVjdG9ycyIsIl9pIiwiX2Vzc2VudGlhbFNlbGVjdG9ycyIsImRvbSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImZpbmQiLCJfdGhpcyRkb20kYWRkQnV0dG9uIiwiX3RoaXMkc2V0dGluZ3Mkc2VsZWN0IiwiX3RoaXMkc2V0dGluZ3Mkc2VsZWN0MiIsIl90aGlzJGRvbSRmb3JtIiwiX3RoaXMkZG9tJGNhbmNlbEJ1dHRvIiwiX3RoaXMkZG9tJGZvcm0yIiwiX3RoaXMyIiwiYWRkQnV0dG9uIiwib24iLCJoYW5kbGVBZGROZXciLCJiaW5kIiwiZWRpdEJ1dHRvblNlbGVjdG9yIiwiZWRpdEJ1dHRvbiIsImRlbGV0ZUJ1dHRvblNlbGVjdG9yIiwiZGVsZXRlQnV0dG9uIiwibGlzdFRhYmxlQm9keSIsImhhbmRsZUVkaXQiLCJoYW5kbGVEZWxldGUiLCJiaW5kQ3VzdG9tQWN0aW9uQnV0dG9ucyIsImZvcm0iLCJoYW5kbGVTdWJtaXQiLCJjYW5jZWxCdXR0b24iLCJoYW5kbGVDYW5jZWwiLCJfdGhpcyRkb20kZm9ybVRpdGxlIiwiX3RoaXMkZG9tJHNhdmVCdXR0b24iLCJfdGhpcyRkb20kZm9ybUNvbnRhaW4iLCJfdGhpcyRkb20kYWRkQnV0dG9uMiIsInByZXZlbnREZWZhdWx0IiwicmVzZXRGb3JtIiwiZm9ybVRpdGxlIiwidGV4dCIsImFkZEl0ZW1Gb3JtVGl0bGUiLCJzYXZlQnV0dG9uIiwiYWRkSXRlbUJ1dHRvbkxhYmVsIiwic2F2ZUNoYW5nZXNCdXR0b24iLCJmb3JtQ29udGFpbmVyIiwic2xpZGVEb3duIiwiaGlkZSIsIl90aGlzJGRvbSRmb3JtVGl0bGUyIiwiX3RoaXMkZG9tJHNhdmVCdXR0b24yIiwiX3RoaXMzIiwiJGJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCIkcm93IiwiY2xvc2VzdCIsImxpc3RJdGVtUm93IiwiaXRlbUlkIiwiZGF0YSIsImlkSW5wdXQiLCJ2YWwiLCJlZGl0SXRlbUZvcm1UaXRsZSIsInVwZGF0ZUNoYW5nZXNCdXR0b24iLCJnZXRfaXRlbSIsInNob3dGb3JtTG9hZGluZ1NwaW5uZXIiLCJhamF4UmVxdWVzdCIsInVybCIsImFjdGlvbiIsIml0ZW1faWQiLCJ0aGVuIiwicmVzcG9uc2UiLCJpdGVtIiwiX3R5cGVvZiIsIl90aGlzMyRkb20kZm9ybUNvbnRhaSIsIl90aGlzMyRkb20kYWRkQnV0dG9uIiwicG9wdWxhdGVGb3JtV2l0aERhdGEiLCJlcnJvckxvYWRpbmdJdGVtIiwiY2F0Y2giLCJmaW5hbGx5IiwiX3RoaXMkZG9tJGZvcm1Db250YWluMiIsIl90aGlzJGRvbSRhZGRCdXR0b24zIiwiaXRlbURhdGFGcm9tQnV0dG9uIiwiaWQiLCJfdGhpczQiLCJjb25maXJtIiwiY29uZmlybURlbGV0ZSIsIm9yaWdpbmFsQnV0dG9uVGV4dCIsInByb3AiLCJkZWxldGluZyIsImRlbGV0ZV9pdGVtIiwiaXNTdWNjZXNzIiwic3VjY2VzcyIsIml0ZW1EZWxldGVkU3VjY2VzcyIsImZhZGVPdXQiLCJyZW1vdmUiLCJlcnJvckRlbGV0aW5nSXRlbSIsIl90aGlzNSIsInZhbGlkYXRlRm9ybSIsInZhbGlkYXRpb25GYWlsZWQiLCJkZXRlcm1pbmVkQWN0aW9uIiwidXBkYXRlX2l0ZW0iLCJhZGRfaXRlbSIsImVycm9yU2F2aW5nSXRlbSIsImRhdGFQYXlsb2FkIiwiaXRlbV9kYXRhIiwiZm9ybUZpZWxkcyIsInNlcmlhbGl6ZUFycmF5IiwiZm9yRWFjaCIsImZpZWxkIiwiZmllbGROYW1lIiwibmFtZSIsImZpZWxkVmFsdWUiLCJlbmRzV2l0aCIsImFjdHVhbE5hbWUiLCJzbGljZSIsInB1c2giLCJfdGhpczUkZG9tJGZvcm1Db250YWkiLCJfdGhpczUkZG9tJGFkZEJ1dHRvbiIsIml0ZW1TYXZlZFN1Y2Nlc3MiLCJpc0ZpcnN0SXRlbSIsInVwZGF0ZVRhYmxlUm93IiwiYWRkVGFibGVSb3ciLCJsaXN0VGFibGUiLCJzaG93Iiwibm9JdGVtc01lc3NhZ2UiLCJvZmZzZXRIZWlnaHQiLCJzbGlkZVVwIiwiZXJyb3JzRGV0YWlsIiwiZXJyb3JzIiwiSlNPTiIsInN0cmluZ2lmeSIsIl90aGlzJGRvbSRmb3JtQ29udGFpbjMiLCJfdGhpcyRkb20kYWRkQnV0dG9uNCIsImNvbmZpcm1DYW5jZWxFZGl0aW5nIiwiX3RoaXMkZG9tJGZvcm0kIiwiX3RoaXMkZG9tJGZvcm0zIiwiX3RoaXMkZG9tJGZvcm00IiwicmVzZXQiLCJyZW1vdmVDbGFzcyIsIml0ZW1EYXRhIiwiX3RoaXMkZG9tJGZvcm01IiwiX3RoaXMkZG9tJGZvcm02IiwiX3RoaXMkZG9tJGZvcm03IiwiX3RoaXM2IiwiaXNWYWxpZCIsImVhY2giLCJpbmRleCIsImVsIiwiJGZpZWxkIiwiaXMiLCJzaG93RmllbGRFcnJvciIsImZpZWxkUmVxdWlyZWQiLCJ0cmltIiwiY3JlYXRlVGFibGVSb3ciLCJhcHBlbmQiLCJfdGhpcyRkb20kbGlzdFRhYmxlQm8iLCIkZXhpc3RpbmdSb3ciLCIkbmV3Um93IiwicmVwbGFjZVdpdGgiLCJfdGhpczciLCJfdGhpcyRkb20kbGlzdFRhYmxlIiwiY29sc3BhbiIsInRhYmxlQ29sdW1ucyIsInRhYmxlX2NvbHVtbnMiLCJfdGhpcyRkb20kbGlzdFRhYmxlMiIsImxpc3RJdGVtUm93U2VsZWN0b3IiLCJlZGl0QnV0dG9uQ2xhc3MiLCJyZXBsYWNlIiwiZGVsZXRlQnV0dG9uQ2xhc3MiLCJ0YWdOYW1lIiwic3BsaXQiLCJpbmNsdWRlcyIsImFkZENsYXNzIiwic3Vic3RyaW5nIiwiaW5kZXhPZiIsImVudHJpZXMiLCJfcmVmIiwiX3JlZjIiLCJfc2xpY2VkVG9BcnJheSIsImNvbHVtbklkIiwiY29sdW1uVGl0bGUiLCIkY2VsbCIsImF0dHIiLCJtZXRob2ROYW1lIiwiJGVkaXRCdXR0b24iLCJlZGl0QnV0dG9uTGFiZWwiLCIkZGVsZXRlQnV0dG9uIiwiZGVsZXRlQnV0dG9uTGFiZWwiLCJkaXNwbGF5RmllbGQiLCJkaXNwbGF5VmFsdWUiLCJhZnRlclJvd0NyZWF0ZWQiLCJyb3dTZWxlY3RvciIsIiRmb3VuZFJvd3MiLCJoYXNJdGVtcyIsImlzTG9hZGluZyIsIiRidG4iLCJvcmlnaW5hbFRleHRLZXkiLCJzYXZpbmdUZXh0Iiwic2F2aW5nIiwiY3VycmVudFRleHQiLCJvcmlnaW5hbFRleHQiLCJyZW1vdmVEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/common/AdminTableManager.js\n");

/***/ }),

/***/ "./src/js/admin/common/ProductEstimatorSettings.js":
/*!*********************************************************!*\
  !*** ./src/js/admin/common/ProductEstimatorSettings.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n\n\n\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0,_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n/**\n * Main Settings JavaScript\n *\n * Handles common functionality for the settings page and serves as a base class for specific settings modules.\n * Modified to work with separate forms for each tab and support module extension.\n */\n\nvar ProductEstimatorSettings = /*#__PURE__*/function () {\n  /**\n   * Initialize the Settings Manager or a Settings Module\n   * @param {object|null} moduleOptions - Options if being used as a base for a module.\n   * { boolean } isModule - True if being initialized as a module.\n   * { string } settingsObjectName - Name of the global object holding localized settings (e.g., 'generalSettings').\n   * { string } defaultTabId - Default tab ID for the module.\n   * { string } loggerName - Name for the logger for this module instance.\n   */\n  function ProductEstimatorSettings() {\n    var _this = this;\n    var moduleOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, ProductEstimatorSettings);\n    this.$ = jQuery;\n    // Use createLogger for consistency if preferred, or the existing `log` for the orchestrator.\n    // For simplicity, the orchestrator part will continue using the imported `log` as per original.\n    // Modules will typically define their own `createLogger` instance.\n    // This logger is for the base class methods when they log.\n    this.baseClassLogger = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.createLogger)(this.constructor.name);\n    if (moduleOptions && moduleOptions.isModule) {\n      // Path for when used as a base for a specific settings module\n      this.settingsObjectName = moduleOptions.settingsObjectName;\n      this.defaultTabId = moduleOptions.defaultTabId;\n      this._initializeModuleSpecificSettings(this.settingsObjectName, this.defaultTabId);\n      this.$(document).ready(function () {\n        _this._finalizeModuleSettings(_this.settingsObjectName);\n        if (typeof _this.moduleInit === 'function') {\n          _this.moduleInit();\n        } else {\n          // No moduleInit method defined in subclass - skipping initialization\n        }\n      });\n    } else {\n      // Original constructor path for the main settings page orchestrator\n      this.formChanged = false;\n      this.currentTab = '';\n      this.formChangeTrackers = {}; // Track form changes per tab\n\n      this.ensureGlobalVariables();\n\n      // Call mainInit for the orchestrator AFTER document is ready, similar to modules\n      this.$(document).ready(function () {\n        _this.mainInit();\n      });\n    }\n  }\n\n  /**\n   * Initialize settings for a derived module.\n   * @param {string} settingsObjectName - The name of the window object holding settings (e.g., 'generalSettings').\n   * @param {string} defaultTabId - The default tab ID for the module.\n   * @protected\n   */\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(ProductEstimatorSettings, [{\n    key: \"_initializeModuleSpecificSettings\",\n    value: function _initializeModuleSpecificSettings(settingsObjectName, defaultTabId) {\n      var localizedSettings = window[settingsObjectName] || {};\n      this.settings = _objectSpread({}, localizedSettings);\n      this.settings.ajaxUrl = localizedSettings.ajaxUrl || (typeof ajaxurl !== 'undefined' ? ajaxurl : '/wp-admin/admin-ajax.php');\n      this.settings.nonce = localizedSettings.nonce || window.productEstimatorSettings && window.productEstimatorSettings.nonce || '';\n\n      // Ensure 'actions' is an object, merge with any global/default actions\n      var defaultActions = window.productEstimatorSettings && window.productEstimatorSettings.actions || {};\n      this.settings.actions = _objectSpread(_objectSpread({}, defaultActions), localizedSettings.actions || {});\n      // For simple modules, ensure a basic save_settings action if nothing else is provided\n      if (!this.settings.actions.save_settings && defaultTabId) {\n        this.settings.actions.save_settings = \"save_\".concat(defaultTabId, \"_settings\");\n      }\n\n      // Ensure 'selectors' is an object, merge with any global/default selectors\n      var defaultSelectors = window.productEstimatorSettings && window.productEstimatorSettings.selectors || {};\n      this.settings.selectors = _objectSpread(_objectSpread({}, defaultSelectors), localizedSettings.selectors || {});\n      this.settings.i18n = _objectSpread(_objectSpread({}, window.productEstimatorSettings && window.productEstimatorSettings.i18n), localizedSettings.i18n || {});\n      this.settings.tab_id = localizedSettings.tab_id || defaultTabId;\n      this.settings.settingsObjectName = settingsObjectName;\n\n      // The 'option_name' should ideally always come from localizedSettings.\n      // If it might be missing, you'd need a strategy (e.g., a global default or error).\n      if (typeof this.settings.option_name === 'undefined') {\n        // Consider a fallback if appropriate:\n        // this.settings.option_name = 'product_estimator_settings'; // Example global default\n      }\n\n      // Diagnostic logs (keep these or similar)\n      if (typeof localizedSettings.actions === 'undefined') {\n        // Check original localizedSettings\n        this.logger.warn('ProductEstimatorSettings: actions is undefined in localizedSettings');\n      }\n      if (typeof localizedSettings.selectors === 'undefined') {\n        // Check original localizedSettings\n        this.logger.warn('ProductEstimatorSettings: selectors is undefined in localizedSettings');\n      }\n    }\n    /**\n     * Finalize module settings on document.ready (e.g., update nonce).\n     * @param {string} settingsObjectName - The name of the window object holding settings.\n     * @protected\n     */\n  }, {\n    key: \"_finalizeModuleSettings\",\n    value: function _finalizeModuleSettings(settingsObjectName) {\n      var updatedLocalizedSettingsOnReady = window[settingsObjectName] || {};\n      if (updatedLocalizedSettingsOnReady.nonce) {\n        this.settings.nonce = updatedLocalizedSettingsOnReady.nonce;\n      }\n    }\n\n    /**\n     * Ensure all required global variables exist to prevent reference errors (for orchestrator).\n     */\n  }, {\n    key: \"ensureGlobalVariables\",\n    value: function ensureGlobalVariables() {\n      window.featureSwitchesSettings = window.featureSwitchesSettings || {\n        tab_id: 'feature_switches',\n        i18n: {}\n      };\n      window.generalSettings = window.generalSettings || {\n        tab_id: 'general',\n        i18n: {}\n      };\n      window.netsuiteSettings = window.netsuiteSettings || {\n        tab_id: 'netsuite',\n        i18n: {}\n      };\n      window.notificationSettings = window.notificationSettings || {\n        tab_id: 'notifications',\n        i18n: {}\n      };\n      window.pricingRulesSettings = window.pricingRulesSettings || {\n        tab_id: 'pricing_rules',\n        i18n: {}\n      };\n      window.productAdditionsSettings = window.productAdditionsSettings || {\n        tab_id: 'product_additions',\n        i18n: {}\n      };\n      window.productUpgradesSettings = window.productUpgradesSettings || {\n        tab_id: 'product_upgrades',\n        i18n: {}\n      };\n      window.similarProductsSettings = window.similarProductsSettings || {\n        tab_id: 'similar_products',\n        i18n: {}\n      };\n      window.labelSettings = window.labelSettings || {\n        tab_id: 'labels',\n        i18n: {}\n      };\n      window.productEstimatorSettings = window.productEstimatorSettings || {\n        ajax_url: typeof ajaxurl !== 'undefined' ? ajaxurl : '/wp-admin/admin-ajax.php',\n        nonce: '',\n        i18n: {\n          unsavedChanges: 'You have unsaved changes. Are you sure you want to leave this tab?',\n          saveSuccess: 'Settings saved successfully.',\n          saveError: 'Error saving settings.',\n          saving: 'Saving...'\n        }\n      };\n    }\n\n    /**\n     * Initialize the main Settings Manager (orchestrator).\n     */\n  }, {\n    key: \"mainInit\",\n    value: function mainInit() {\n      var urlTab = this.getTabFromUrl();\n      this.currentTab = urlTab !== null ? urlTab : 'general';\n      this.$('.tab-content').hide();\n      this.$(\"#\".concat(this.currentTab)).show();\n      this.$('.nav-tab').removeClass('nav-tab-active');\n      this.$(\".nav-tab[data-tab=\\\"\".concat(this.currentTab, \"\\\"]\")).addClass('nav-tab-active');\n      this.bindMainEvents();\n      this.initFormChangeTracking();\n      this.initializeValidation(); // Global validation for forms handled by orchestrator\n    }\n\n    /**\n     * Bind event handlers for the main Settings Manager (orchestrator).\n     */\n  }, {\n    key: \"bindMainEvents\",\n    value: function bindMainEvents() {\n      var _this2 = this;\n      this.$('.nav-tab-wrapper').on('click', '.nav-tab', this.handleTabClick.bind(this));\n      this.$(document).on('submit', 'form.product-estimator-form', function (e) {\n        var $form = _this2.$(e.currentTarget);\n        if ($form.hasClass('pe-vtabs-tab-form') && $form.attr('data-sub-tab-id')) {\n          return;\n        }\n        e.preventDefault();\n        _this2.handleAjaxFormSubmit(e, $form);\n      });\n      this.$(window).on('beforeunload', this.handleBeforeUnload.bind(this));\n    }\n\n    /**\n     * Handle AJAX form submission for orchestrator-managed forms.\n     * @param {Event} e - Submit event\n     * @param {jQuery} [$form] - Optional: The form element.\n     */\n  }, {\n    key: \"handleAjaxFormSubmit\",\n    value: function handleAjaxFormSubmit(e, $form) {\n      var _this3 = this;\n      $form = $form || this.$(e.target);\n      var tabId = $form.closest('.tab-content').attr('id') || $form.data('tab');\n      var formData = $form.serialize();\n      $form.find('input[type=\"checkbox\"]').each(function (i, el) {\n        var $cb = _this3.$(el);\n        if (!$cb.is(':checked')) {\n          var name = $cb.attr('name');\n          if (name) {\n            var paramRegex = new RegExp(\"(^|&)\".concat(encodeURIComponent(name).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), \"(?:=[^&]*)?\"));\n            if (formData.match(paramRegex) === null) {\n              formData += \"&\".concat(encodeURIComponent(name), \"=0\");\n            }\n          }\n        }\n      });\n      formData = formData.replace(/^&+/, '').replace(/&&+/g, '&');\n      this.showFormLoading($form);\n      var ajaxAction = \"save_\".concat(tabId, \"_settings\");\n      var localizedData = window.productEstimatorSettings || {\n        nonce: '',\n        ajax_url: ajaxurl,\n        i18n: {}\n      };\n      var ajaxDataPayload = {\n        action: ajaxAction,\n        nonce: localizedData.nonce,\n        form_data: formData\n      };\n      _utils__WEBPACK_IMPORTED_MODULE_3__.ajax.ajaxRequest({\n        url: localizedData.ajax_url,\n        type: 'POST',\n        data: ajaxDataPayload\n      }).then(function (response) {\n        _this3.showNotice(response.message || localizedData.i18n.saveSuccess, 'success');\n        if (_this3.formChangeTrackers) {\n          // Ensure orchestrator properties exist\n          _this3.formChangeTrackers[tabId] = false;\n        }\n        if (tabId === _this3.currentTab) {\n          _this3.formChanged = false;\n        }\n      }).catch(function (error) {\n        var errorMessage = error && error.message ? error.message : localizedData.i18n.saveError;\n        _this3.showNotice(errorMessage, 'error');\n      }).finally(function () {\n        _this3.hideFormLoading($form);\n      });\n    }\n\n    /**\n     * Show loading state for a form.\n     * @param {jQuery} $form - The form element.\n     */\n  }, {\n    key: \"showFormLoading\",\n    value: function showFormLoading($form) {\n      var $submitButton = $form.find(':submit');\n      $submitButton.prop('disabled', true).addClass('loading');\n      $submitButton.data('original-text', $submitButton.val());\n      var savingText = window.productEstimatorSettings && window.productEstimatorSettings.i18n && window.productEstimatorSettings.i18n.saving ? window.productEstimatorSettings.i18n.saving : 'Saving...';\n      $submitButton.val(savingText);\n    }\n\n    /**\n     * Hide loading state for a form.\n     * @param {jQuery} $form - The form element.\n     */\n  }, {\n    key: \"hideFormLoading\",\n    value: function hideFormLoading($form) {\n      var $submitButton = $form.find(':submit');\n      $submitButton.prop('disabled', false).removeClass('loading');\n      if ($submitButton.data('original-text')) {\n        $submitButton.val($submitButton.data('original-text'));\n      }\n    }\n\n    /**\n     * Initialize form change tracking for each tab's form (orchestrator).\n     */\n  }, {\n    key: \"initFormChangeTracking\",\n    value: function initFormChangeTracking() {\n      var self = this;\n      this.$('.tab-content').each(function () {\n        var tabId = self.$(this).attr('id');\n        if (self.formChangeTrackers) {\n          self.formChangeTrackers[tabId] = false;\n        }\n        self.$(\"#\".concat(tabId, \" :input\")).on('change input', function () {\n          if (self.formChangeTrackers) {\n            self.formChangeTrackers[tabId] = true;\n          }\n          if (tabId === self.currentTab) {\n            self.formChanged = true;\n          }\n        });\n      });\n    }\n\n    /**\n     * Initialize form validation for orchestrator-managed forms.\n     */\n  }, {\n    key: \"initializeValidation\",\n    value: function initializeValidation() {\n      var _this4 = this;\n      this.$('.product-estimator-form').each(function (i, form) {\n        var $form = _this4.$(form);\n        // Apply only if not a module-specific form that handles its own validation\n        if (!$form.data('module-managed-validation')) {\n          $form.find('input[type=\"email\"]').on('change', function (e) {\n            var $input = _this4.$(e.currentTarget);\n            if ($input.val() && !_utils__WEBPACK_IMPORTED_MODULE_3__.validation.validateEmail($input.val())) {\n              _this4.showFieldError($input, window.productEstimatorSettings.i18n.invalidEmail || 'Invalid email address');\n            } else {\n              _this4.clearFieldError($input);\n            }\n          });\n          $form.find('input[type=\"number\"]').on('change', function (e) {\n            var $input = _this4.$(e.currentTarget);\n            var value = parseInt($input.val(), 10);\n            var min = parseInt($input.attr('min') || 0, 10);\n            var max = parseInt($input.attr('max') || 9999, 10);\n            var i18nSettings = window.productEstimatorSettings && window.productEstimatorSettings.i18n;\n            if (isNaN(value) || value < min || value > max) {\n              var message = i18nSettings && i18nSettings.numberRange ? i18nSettings.numberRange.replace('%min%', min).replace('%max%', max) : \"Value must be between \".concat(min, \" and \").concat(max);\n              _this4.showFieldError($input, message);\n            } else {\n              _this4.clearFieldError($input);\n            }\n          });\n        }\n      });\n    }\n\n    /**\n     * Get the active tab from URL.\n     * @returns {string|null} The active tab or null.\n     */\n  }, {\n    key: \"getTabFromUrl\",\n    value: function getTabFromUrl() {\n      var urlParams = new URLSearchParams(window.location.search);\n      return urlParams.get('tab');\n    }\n\n    /**\n     * Handle tab click for orchestrator.\n     * @param {Event} e - Click event.\n     */\n  }, {\n    key: \"handleTabClick\",\n    value: function handleTabClick(e) {\n      e.preventDefault();\n      var newTab = this.$(e.currentTarget).data('tab');\n      var i18nSettings = window.productEstimatorSettings && window.productEstimatorSettings.i18n;\n      if (this.formChanged) {\n        if (!confirm(i18nSettings.unsavedChanges || 'You have unsaved changes. Are you sure?')) {\n          return;\n        }\n      }\n      this.switchTab(newTab);\n    }\n\n    /**\n     * Switch to a different tab (orchestrator).\n     * @param {string} tabId - The tab to switch to.\n     */\n  }, {\n    key: \"switchTab\",\n    value: function switchTab(tabId) {\n      var url = new URL(window.location.href);\n      url.searchParams.set('tab', tabId);\n      window.history.pushState({}, '', url.toString());\n      this.$('.nav-tab').removeClass('nav-tab-active');\n      this.$(\".nav-tab[data-tab=\\\"\".concat(tabId, \"\\\"]\")).addClass('nav-tab-active');\n      this.$('.tab-content').hide();\n      this.$(\"#\".concat(tabId)).show();\n      var previousTab = this.currentTab;\n      this.currentTab = tabId;\n      this.formChanged = this.formChangeTrackers && this.formChangeTrackers[tabId] || false;\n      this.$(document).trigger('product_estimator_tab_changed', [tabId, previousTab]);\n    }\n\n    /**\n     * Handle beforeunload event to warn about unsaved changes (orchestrator).\n     * @param {Event} e - BeforeUnload event.\n     * @returns {string|undefined} Warning message if there are unsaved changes, undefined otherwise\n     */\n  }, {\n    key: \"handleBeforeUnload\",\n    value: function handleBeforeUnload(e) {\n      var hasChanges = false;\n      if (this.formChangeTrackers) {\n        for (var tabId in this.formChangeTrackers) {\n          if (this.formChangeTrackers[tabId]) {\n            hasChanges = true;\n            break;\n          }\n        }\n      }\n      if (hasChanges) {\n        var i18nSettings = window.productEstimatorSettings && window.productEstimatorSettings.i18n;\n        var message = i18nSettings.unsavedChanges || 'You have unsaved changes. Are you sure?';\n        e.returnValue = message;\n        return message;\n      }\n    }\n\n    /**\n     * Utility method to clear 'sub_tab' from the URL.\n     * Can be called by derived modules.\n     */\n  }, {\n    key: \"clearSubTabFromUrl\",\n    value: function clearSubTabFromUrl() {\n      var url = new URL(window.location.href);\n      if (url.searchParams.has('sub_tab')) {\n        url.searchParams.delete('sub_tab');\n        window.history.replaceState({}, '', url.toString());\n      }\n    }\n\n    /**\n     * Public method to show field error. Uses the 'validation' utility.\n     * @param {jQuery|HTMLElement} field - The field with an error.\n     * @param {string} message - The error message.\n     */\n  }, {\n    key: \"showFieldError\",\n    value: function showFieldError(field, message) {\n      _utils__WEBPACK_IMPORTED_MODULE_3__.validation.showFieldError(this.$(field), message);\n    }\n\n    /**\n     * Public method to clear field error. Uses the 'validation' utility.\n     * @param {jQuery|HTMLElement} field - The field to clear error for.\n     */\n  }, {\n    key: \"clearFieldError\",\n    value: function clearFieldError(field) {\n      _utils__WEBPACK_IMPORTED_MODULE_3__.validation.clearFieldError(this.$(field));\n    }\n\n    /**\n     * Public method to show notice. Uses the 'validation' utility.\n     * @param {string} message - The message to show.\n     * @param {string} [type] - Notice type ('success' or 'error').\n     */\n  }, {\n    key: \"showNotice\",\n    value: function showNotice(message) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';\n      _utils__WEBPACK_IMPORTED_MODULE_3__.validation.showNotice(message, type);\n    }\n\n    /**\n     * Initialize a Select2 dropdown with standardized configuration\n     * @param {jQuery} $element - jQuery element to initialize Select2 on\n     * @param {string} placeholderText - Placeholder text to display\n     * @param {object} config - Additional configuration options for Select2\n     * @returns {jQuery|null} The initialized element or null if initialization failed\n     */\n  }, {\n    key: \"initSelect2\",\n    value: function initSelect2($element, placeholderText) {\n      var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      if (!$element || !$element.length) {\n        return null;\n      }\n      if (!this.$ || !this.$.fn.select2) {\n        return null;\n      }\n\n      // Default configuration options\n      var defaultConfig = {\n        placeholder: placeholderText || 'Select an option',\n        width: 'resolve',\n        // 'style' or '100%' might be better depending on CSS\n        allowClear: true,\n        dropdownCssClass: 'product-estimator-dropdown' // Custom class for styling\n      };\n\n      // Merge with custom config, with custom taking precedence\n      var mergedConfig = _objectSpread(_objectSpread({}, defaultConfig), config);\n      try {\n        $element.select2(mergedConfig);\n\n        // Option to clear initial selection\n        if (config.clearInitial) {\n          $element.val(null).trigger('change');\n        }\n        return $element;\n      } catch (error) {\n        return null;\n      }\n    }\n\n    /**\n     * Initializes multiple Select2 dropdowns in batch\n     * @param {object} options - Configuration options\n     * @param {Array} options.elements - Array of elements to initialize\n     * @param {object} options.i18n - Internationalization strings (defaults to this.settings.i18n)\n     * @param {string} options.moduleName - Module name for logging (defaults to this.settings.tab_id)\n     * @param {number} options.delay - Delay in ms before initialization (defaults to 100)\n     * @returns {void}\n     */\n  }, {\n    key: \"initializeSelect2Dropdowns\",\n    value: function initializeSelect2Dropdowns(options) {\n      var _this5 = this;\n      var _options$elements = options.elements,\n        elements = _options$elements === void 0 ? [] : _options$elements,\n        _options$i18n = options.i18n,\n        i18n = _options$i18n === void 0 ? this.settings.i18n || {} : _options$i18n,\n        _options$moduleName = options.moduleName,\n        moduleName = _options$moduleName === void 0 ? this.settings.tab_id || 'Module' : _options$moduleName,\n        _options$delay = options.delay,\n        delay = _options$delay === void 0 ? 100 : _options$delay;\n      if (!this.$ || !this.$.fn.select2) {\n        var logger = (0,_utils__WEBPACK_IMPORTED_MODULE_3__.createLogger)(moduleName);\n        logger.warn(\"Select2 not available for \".concat(moduleName));\n        return;\n      }\n\n      // Use setTimeout to ensure elements are fully rendered\n      setTimeout(function () {\n        elements.forEach(function (el) {\n          if (!el || !el.element) {\n            return;\n          }\n          var placeholder = i18n[el.placeholderKey] || el.fallbackText || \"Select \".concat(el.name);\n          _this5.initSelect2(el.element, placeholder, el.config || {});\n        });\n      }, delay);\n    }\n\n    /**\n     * Destroy and re-initialize Select2 components (useful when elements were hidden)\n     * @param {jQuery} $element - Select2 element to refresh\n     * @param {object} config - Configuration to apply when re-initializing\n     * @returns {jQuery|null} The refreshed element or null if refresh failed\n     */\n  }, {\n    key: \"refreshSelect2\",\n    value: function refreshSelect2($element) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!$element || !$element.length) {\n        return null;\n      }\n      try {\n        // Get current placeholder if not provided\n        var placeholder = config.placeholder || $element.data('placeholder') || '';\n\n        // Destroy and re-initialize\n        $element.select2('destroy');\n        return this.initSelect2($element, placeholder, config);\n      } catch (error) {\n        return null;\n      }\n    }\n  }]);\n}(); // Initialize the main orchestrator when document is ready\n// This ensures ProductEstimatorSettings is available globally if needed by modules\n// before they might be instantiated.\njQuery(document).ready(function () {\n  if (!window.ProductEstimatorSettingsInstance) {\n    // Ensure single instance of orchestrator\n    window.ProductEstimatorSettingsInstance = new ProductEstimatorSettings();\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductEstimatorSettings);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vY29tbW9uL1Byb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3dEO0FBQUEsSUFFbERHLHdCQUF3QjtFQUM1QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsU0FBQUEseUJBQUEsRUFBa0M7SUFBQSxJQUFBQyxLQUFBO0lBQUEsSUFBdEJDLGFBQWEsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsSUFBSTtJQUFBRyxpRkFBQSxPQUFBTix3QkFBQTtJQUM5QixJQUFJLENBQUNPLENBQUMsR0FBR0MsTUFBTTtJQUNmO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxDQUFDQyxlQUFlLEdBQUdWLG9EQUFZLENBQUMsSUFBSSxDQUFDVyxXQUFXLENBQUNDLElBQUksQ0FBQztJQUUxRCxJQUFJVCxhQUFhLElBQUlBLGFBQWEsQ0FBQ1UsUUFBUSxFQUFFO01BQzNDO01BQ0EsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR1gsYUFBYSxDQUFDVyxrQkFBa0I7TUFDMUQsSUFBSSxDQUFDQyxZQUFZLEdBQUdaLGFBQWEsQ0FBQ1ksWUFBWTtNQUU5QyxJQUFJLENBQUNDLGlDQUFpQyxDQUFDLElBQUksQ0FBQ0Ysa0JBQWtCLEVBQUUsSUFBSSxDQUFDQyxZQUFZLENBQUM7TUFFbEYsSUFBSSxDQUFDUCxDQUFDLENBQUNTLFFBQVEsQ0FBQyxDQUFDQyxLQUFLLENBQUMsWUFBTTtRQUMzQmhCLEtBQUksQ0FBQ2lCLHVCQUF1QixDQUFDakIsS0FBSSxDQUFDWSxrQkFBa0IsQ0FBQztRQUNyRCxJQUFJLE9BQU9aLEtBQUksQ0FBQ2tCLFVBQVUsS0FBSyxVQUFVLEVBQUU7VUFDekNsQixLQUFJLENBQUNrQixVQUFVLENBQUMsQ0FBQztRQUNuQixDQUFDLE1BQU07VUFDTDtRQUFBO01B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UUFDQSxJQUFNb0ssV0FBVyxHQUFHSixNQUFNLENBQUNJLFdBQVcsSUFBSU4sUUFBUSxDQUFDM0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUU7O1FBRTVFO1FBQ0EyRSxRQUFRLENBQUNJLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUNMLFdBQVcsQ0FBQ0MsUUFBUSxFQUFFTSxXQUFXLEVBQUVKLE1BQU0sQ0FBQztNQUN4RCxDQUFDLENBQUMsT0FBT2pELEtBQUssRUFBRTtRQUNkLE9BQU8sSUFBSTtNQUNiO0lBQ0Y7RUFBQztBQUFBLEtBR0g7QUFDQTtBQUNBO0FBQ0EzRyxNQUFNLENBQUNRLFFBQVEsQ0FBQyxDQUFDQyxLQUFLLENBQUMsWUFBVztFQUNoQyxJQUFJLENBQUNZLE1BQU0sQ0FBQ2lLLGdDQUFnQyxFQUFFO0lBQUU7SUFDOUNqSyxNQUFNLENBQUNpSyxnQ0FBZ0MsR0FBRyxJQUFJOUwsd0JBQXdCLENBQUMsQ0FBQztFQUMxRTtBQUNGLENBQUMsQ0FBQztBQUVGLCtEQUFlQSx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kdWN0LWVzdGltYXRvci8uL3NyYy9qcy9hZG1pbi9jb21tb24vUHJvZHVjdEVzdGltYXRvclNldHRpbmdzLmpzPzMyYjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNYWluIFNldHRpbmdzIEphdmFTY3JpcHRcbiAqXG4gKiBIYW5kbGVzIGNvbW1vbiBmdW5jdGlvbmFsaXR5IGZvciB0aGUgc2V0dGluZ3MgcGFnZSBhbmQgc2VydmVzIGFzIGEgYmFzZSBjbGFzcyBmb3Igc3BlY2lmaWMgc2V0dGluZ3MgbW9kdWxlcy5cbiAqIE1vZGlmaWVkIHRvIHdvcmsgd2l0aCBzZXBhcmF0ZSBmb3JtcyBmb3IgZWFjaCB0YWIgYW5kIHN1cHBvcnQgbW9kdWxlIGV4dGVuc2lvbi5cbiAqL1xuaW1wb3J0IHsgYWpheCwgdmFsaWRhdGlvbiwgY3JlYXRlTG9nZ2VyIH0gZnJvbSAnQHV0aWxzJztcblxuY2xhc3MgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIFNldHRpbmdzIE1hbmFnZXIgb3IgYSBTZXR0aW5ncyBNb2R1bGVcbiAgICogQHBhcmFtIHtvYmplY3R8bnVsbH0gbW9kdWxlT3B0aW9ucyAtIE9wdGlvbnMgaWYgYmVpbmcgdXNlZCBhcyBhIGJhc2UgZm9yIGEgbW9kdWxlLlxuICAgKiB7IGJvb2xlYW4gfSBpc01vZHVsZSAtIFRydWUgaWYgYmVpbmcgaW5pdGlhbGl6ZWQgYXMgYSBtb2R1bGUuXG4gICAqIHsgc3RyaW5nIH0gc2V0dGluZ3NPYmplY3ROYW1lIC0gTmFtZSBvZiB0aGUgZ2xvYmFsIG9iamVjdCBob2xkaW5nIGxvY2FsaXplZCBzZXR0aW5ncyAoZS5nLiwgJ2dlbmVyYWxTZXR0aW5ncycpLlxuICAgKiB7IHN0cmluZyB9IGRlZmF1bHRUYWJJZCAtIERlZmF1bHQgdGFiIElEIGZvciB0aGUgbW9kdWxlLlxuICAgKiB7IHN0cmluZyB9IGxvZ2dlck5hbWUgLSBOYW1lIGZvciB0aGUgbG9nZ2VyIGZvciB0aGlzIG1vZHVsZSBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG1vZHVsZU9wdGlvbnMgPSBudWxsKSB7XG4gICAgdGhpcy4kID0galF1ZXJ5O1xuICAgIC8vIFVzZSBjcmVhdGVMb2dnZXIgZm9yIGNvbnNpc3RlbmN5IGlmIHByZWZlcnJlZCwgb3IgdGhlIGV4aXN0aW5nIGBsb2dgIGZvciB0aGUgb3JjaGVzdHJhdG9yLlxuICAgIC8vIEZvciBzaW1wbGljaXR5LCB0aGUgb3JjaGVzdHJhdG9yIHBhcnQgd2lsbCBjb250aW51ZSB1c2luZyB0aGUgaW1wb3J0ZWQgYGxvZ2AgYXMgcGVyIG9yaWdpbmFsLlxuICAgIC8vIE1vZHVsZXMgd2lsbCB0eXBpY2FsbHkgZGVmaW5lIHRoZWlyIG93biBgY3JlYXRlTG9nZ2VyYCBpbnN0YW5jZS5cbiAgICAvLyBUaGlzIGxvZ2dlciBpcyBmb3IgdGhlIGJhc2UgY2xhc3MgbWV0aG9kcyB3aGVuIHRoZXkgbG9nLlxuICAgIHRoaXMuYmFzZUNsYXNzTG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XG5cbiAgICBpZiAobW9kdWxlT3B0aW9ucyAmJiBtb2R1bGVPcHRpb25zLmlzTW9kdWxlKSB7XG4gICAgICAvLyBQYXRoIGZvciB3aGVuIHVzZWQgYXMgYSBiYXNlIGZvciBhIHNwZWNpZmljIHNldHRpbmdzIG1vZHVsZVxuICAgICAgdGhpcy5zZXR0aW5nc09iamVjdE5hbWUgPSBtb2R1bGVPcHRpb25zLnNldHRpbmdzT2JqZWN0TmFtZTtcbiAgICAgIHRoaXMuZGVmYXVsdFRhYklkID0gbW9kdWxlT3B0aW9ucy5kZWZhdWx0VGFiSWQ7XG5cbiAgICAgIHRoaXMuX2luaXRpYWxpemVNb2R1bGVTcGVjaWZpY1NldHRpbmdzKHRoaXMuc2V0dGluZ3NPYmplY3ROYW1lLCB0aGlzLmRlZmF1bHRUYWJJZCk7XG5cbiAgICAgIHRoaXMuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xuICAgICAgICB0aGlzLl9maW5hbGl6ZU1vZHVsZVNldHRpbmdzKHRoaXMuc2V0dGluZ3NPYmplY3ROYW1lKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1vZHVsZUluaXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aGlzLm1vZHVsZUluaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBtb2R1bGVJbml0IG1ldGhvZCBkZWZpbmVkIGluIHN1YmNsYXNzIC0gc2tpcHBpbmcgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE9yaWdpbmFsIGNvbnN0cnVjdG9yIHBhdGggZm9yIHRoZSBtYWluIHNldHRpbmdzIHBhZ2Ugb3JjaGVzdHJhdG9yXG4gICAgICB0aGlzLmZvcm1DaGFuZ2VkID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnJlbnRUYWIgPSAnJztcbiAgICAgIHRoaXMuZm9ybUNoYW5nZVRyYWNrZXJzID0ge307IC8vIFRyYWNrIGZvcm0gY2hhbmdlcyBwZXIgdGFiXG5cbiAgICAgIHRoaXMuZW5zdXJlR2xvYmFsVmFyaWFibGVzKCk7XG5cbiAgICAgIC8vIENhbGwgbWFpbkluaXQgZm9yIHRoZSBvcmNoZXN0cmF0b3IgQUZURVIgZG9jdW1lbnQgaXMgcmVhZHksIHNpbWlsYXIgdG8gbW9kdWxlc1xuICAgICAgdGhpcy4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gICAgICAgIHRoaXMubWFpbkluaXQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHNldHRpbmdzIGZvciBhIGRlcml2ZWQgbW9kdWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2V0dGluZ3NPYmplY3ROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHdpbmRvdyBvYmplY3QgaG9sZGluZyBzZXR0aW5ncyAoZS5nLiwgJ2dlbmVyYWxTZXR0aW5ncycpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGVmYXVsdFRhYklkIC0gVGhlIGRlZmF1bHQgdGFiIElEIGZvciB0aGUgbW9kdWxlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfaW5pdGlhbGl6ZU1vZHVsZVNwZWNpZmljU2V0dGluZ3Moc2V0dGluZ3NPYmplY3ROYW1lLCBkZWZhdWx0VGFiSWQpIHtcbiAgICBjb25zdCBsb2NhbGl6ZWRTZXR0aW5ncyA9IHdpbmRvd1tzZXR0aW5nc09iamVjdE5hbWVdIHx8IHt9O1xuXG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4ubG9jYWxpemVkU2V0dGluZ3MgfTtcblxuICAgIHRoaXMuc2V0dGluZ3MuYWpheFVybCA9IGxvY2FsaXplZFNldHRpbmdzLmFqYXhVcmwgfHxcbiAgICAgICh0eXBlb2YgYWpheHVybCAhPT0gJ3VuZGVmaW5lZCcgPyBhamF4dXJsIDogJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcpO1xuXG4gICAgdGhpcy5zZXR0aW5ncy5ub25jZSA9IGxvY2FsaXplZFNldHRpbmdzLm5vbmNlIHx8XG4gICAgICAod2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyAmJiB3aW5kb3cucHJvZHVjdEVzdGltYXRvclNldHRpbmdzLm5vbmNlKSB8fFxuICAgICAgJyc7XG5cbiAgICAvLyBFbnN1cmUgJ2FjdGlvbnMnIGlzIGFuIG9iamVjdCwgbWVyZ2Ugd2l0aCBhbnkgZ2xvYmFsL2RlZmF1bHQgYWN0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRBY3Rpb25zID0gKHdpbmRvdy5wcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgJiYgd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5hY3Rpb25zKSB8fCB7fTtcbiAgICB0aGlzLnNldHRpbmdzLmFjdGlvbnMgPSB7XG4gICAgICAuLi5kZWZhdWx0QWN0aW9ucywgLy8gRGVmYXVsdCBhY3Rpb25zIChlLmcuLCBnbG9iYWwgc2F2ZV9zZXR0aW5ncyBpZiBhbnkpXG4gICAgICAuLi4obG9jYWxpemVkU2V0dGluZ3MuYWN0aW9ucyB8fCB7fSkgLy8gTW9kdWxlLXNwZWNpZmljIGFjdGlvbnMsIG92ZXJyaWRlcyBkZWZhdWx0c1xuICAgIH07XG4gICAgLy8gRm9yIHNpbXBsZSBtb2R1bGVzLCBlbnN1cmUgYSBiYXNpYyBzYXZlX3NldHRpbmdzIGFjdGlvbiBpZiBub3RoaW5nIGVsc2UgaXMgcHJvdmlkZWRcbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYWN0aW9ucy5zYXZlX3NldHRpbmdzICYmIGRlZmF1bHRUYWJJZCkge1xuICAgICAgdGhpcy5zZXR0aW5ncy5hY3Rpb25zLnNhdmVfc2V0dGluZ3MgPSBgc2F2ZV8ke2RlZmF1bHRUYWJJZH1fc2V0dGluZ3NgO1xuICAgIH1cblxuXG4gICAgLy8gRW5zdXJlICdzZWxlY3RvcnMnIGlzIGFuIG9iamVjdCwgbWVyZ2Ugd2l0aCBhbnkgZ2xvYmFsL2RlZmF1bHQgc2VsZWN0b3JzXG4gICAgY29uc3QgZGVmYXVsdFNlbGVjdG9ycyA9ICh3aW5kb3cucHJvZHVjdEVzdGltYXRvclNldHRpbmdzICYmIHdpbmRvdy5wcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3Muc2VsZWN0b3JzKSB8fCB7fTtcbiAgICB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycyA9IHtcbiAgICAgIC4uLmRlZmF1bHRTZWxlY3RvcnMsXG4gICAgICAuLi4obG9jYWxpemVkU2V0dGluZ3Muc2VsZWN0b3JzIHx8IHt9KVxuICAgIH07XG5cbiAgICB0aGlzLnNldHRpbmdzLmkxOG4gPSB7XG4gICAgICAuLi4od2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyAmJiB3aW5kb3cucHJvZHVjdEVzdGltYXRvclNldHRpbmdzLmkxOG4pLFxuICAgICAgLi4uKGxvY2FsaXplZFNldHRpbmdzLmkxOG4gfHwge30pLFxuICAgIH07XG5cbiAgICB0aGlzLnNldHRpbmdzLnRhYl9pZCA9IGxvY2FsaXplZFNldHRpbmdzLnRhYl9pZCB8fCBkZWZhdWx0VGFiSWQ7XG4gICAgdGhpcy5zZXR0aW5ncy5zZXR0aW5nc09iamVjdE5hbWUgPSBzZXR0aW5nc09iamVjdE5hbWU7XG5cbiAgICAvLyBUaGUgJ29wdGlvbl9uYW1lJyBzaG91bGQgaWRlYWxseSBhbHdheXMgY29tZSBmcm9tIGxvY2FsaXplZFNldHRpbmdzLlxuICAgIC8vIElmIGl0IG1pZ2h0IGJlIG1pc3NpbmcsIHlvdSdkIG5lZWQgYSBzdHJhdGVneSAoZS5nLiwgYSBnbG9iYWwgZGVmYXVsdCBvciBlcnJvcikuXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLm9wdGlvbl9uYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gQ29uc2lkZXIgYSBmYWxsYmFjayBpZiBhcHByb3ByaWF0ZTpcbiAgICAgIC8vIHRoaXMuc2V0dGluZ3Mub3B0aW9uX25hbWUgPSAncHJvZHVjdF9lc3RpbWF0b3Jfc2V0dGluZ3MnOyAvLyBFeGFtcGxlIGdsb2JhbCBkZWZhdWx0XG4gICAgfVxuXG4gICAgLy8gRGlhZ25vc3RpYyBsb2dzIChrZWVwIHRoZXNlIG9yIHNpbWlsYXIpXG4gICAgaWYgKHR5cGVvZiBsb2NhbGl6ZWRTZXR0aW5ncy5hY3Rpb25zID09PSAndW5kZWZpbmVkJykgeyAvLyBDaGVjayBvcmlnaW5hbCBsb2NhbGl6ZWRTZXR0aW5nc1xuICAgICAgdGhpcy5sb2dnZXIud2FybignUHJvZHVjdEVzdGltYXRvclNldHRpbmdzOiBhY3Rpb25zIGlzIHVuZGVmaW5lZCBpbiBsb2NhbGl6ZWRTZXR0aW5ncycpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGxvY2FsaXplZFNldHRpbmdzLnNlbGVjdG9ycyA9PT0gJ3VuZGVmaW5lZCcpIHsgLy8gQ2hlY2sgb3JpZ2luYWwgbG9jYWxpemVkU2V0dGluZ3NcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1Byb2R1Y3RFc3RpbWF0b3JTZXR0aW5nczogc2VsZWN0b3JzIGlzIHVuZGVmaW5lZCBpbiBsb2NhbGl6ZWRTZXR0aW5ncycpO1xuICAgIH1cblxuICB9XG4gIC8qKlxuICAgKiBGaW5hbGl6ZSBtb2R1bGUgc2V0dGluZ3Mgb24gZG9jdW1lbnQucmVhZHkgKGUuZy4sIHVwZGF0ZSBub25jZSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZXR0aW5nc09iamVjdE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgd2luZG93IG9iamVjdCBob2xkaW5nIHNldHRpbmdzLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfZmluYWxpemVNb2R1bGVTZXR0aW5ncyhzZXR0aW5nc09iamVjdE5hbWUpIHtcbiAgICBjb25zdCB1cGRhdGVkTG9jYWxpemVkU2V0dGluZ3NPblJlYWR5ID0gd2luZG93W3NldHRpbmdzT2JqZWN0TmFtZV0gfHwge307XG4gICAgaWYgKHVwZGF0ZWRMb2NhbGl6ZWRTZXR0aW5nc09uUmVhZHkubm9uY2UpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3Mubm9uY2UgPSB1cGRhdGVkTG9jYWxpemVkU2V0dGluZ3NPblJlYWR5Lm5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmUgYWxsIHJlcXVpcmVkIGdsb2JhbCB2YXJpYWJsZXMgZXhpc3QgdG8gcHJldmVudCByZWZlcmVuY2UgZXJyb3JzIChmb3Igb3JjaGVzdHJhdG9yKS5cbiAgICovXG4gIGVuc3VyZUdsb2JhbFZhcmlhYmxlcygpIHtcbiAgICB3aW5kb3cuZmVhdHVyZVN3aXRjaGVzU2V0dGluZ3MgPSB3aW5kb3cuZmVhdHVyZVN3aXRjaGVzU2V0dGluZ3MgfHwgeyB0YWJfaWQ6ICdmZWF0dXJlX3N3aXRjaGVzJywgaTE4bjoge30gfTtcbiAgICB3aW5kb3cuZ2VuZXJhbFNldHRpbmdzID0gd2luZG93LmdlbmVyYWxTZXR0aW5ncyB8fCB7IHRhYl9pZDogJ2dlbmVyYWwnLCBpMThuOiB7fSB9O1xuICAgIHdpbmRvdy5uZXRzdWl0ZVNldHRpbmdzID0gd2luZG93Lm5ldHN1aXRlU2V0dGluZ3MgfHwgeyB0YWJfaWQ6ICduZXRzdWl0ZScsIGkxOG46IHt9IH07XG4gICAgd2luZG93Lm5vdGlmaWNhdGlvblNldHRpbmdzID0gd2luZG93Lm5vdGlmaWNhdGlvblNldHRpbmdzIHx8IHsgdGFiX2lkOiAnbm90aWZpY2F0aW9ucycsIGkxOG46IHt9IH07XG4gICAgd2luZG93LnByaWNpbmdSdWxlc1NldHRpbmdzID0gd2luZG93LnByaWNpbmdSdWxlc1NldHRpbmdzIHx8IHsgdGFiX2lkOiAncHJpY2luZ19ydWxlcycsIGkxOG46IHt9IH07XG4gICAgd2luZG93LnByb2R1Y3RBZGRpdGlvbnNTZXR0aW5ncyA9IHdpbmRvdy5wcm9kdWN0QWRkaXRpb25zU2V0dGluZ3MgfHwgeyB0YWJfaWQ6ICdwcm9kdWN0X2FkZGl0aW9ucycsIGkxOG46IHt9IH07XG4gICAgd2luZG93LnByb2R1Y3RVcGdyYWRlc1NldHRpbmdzID0gd2luZG93LnByb2R1Y3RVcGdyYWRlc1NldHRpbmdzIHx8IHsgdGFiX2lkOiAncHJvZHVjdF91cGdyYWRlcycsIGkxOG46IHt9IH07XG4gICAgd2luZG93LnNpbWlsYXJQcm9kdWN0c1NldHRpbmdzID0gd2luZG93LnNpbWlsYXJQcm9kdWN0c1NldHRpbmdzIHx8IHsgdGFiX2lkOiAnc2ltaWxhcl9wcm9kdWN0cycsIGkxOG46IHt9IH07XG4gICAgd2luZG93LmxhYmVsU2V0dGluZ3MgPSB3aW5kb3cubGFiZWxTZXR0aW5ncyB8fCB7IHRhYl9pZDogJ2xhYmVscycsIGkxOG46IHt9IH07XG5cbiAgICB3aW5kb3cucHJvZHVjdEVzdGltYXRvclNldHRpbmdzID0gd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyB8fCB7XG4gICAgICBhamF4X3VybDogKHR5cGVvZiBhamF4dXJsICE9PSAndW5kZWZpbmVkJykgPyBhamF4dXJsIDogJy93cC1hZG1pbi9hZG1pbi1hamF4LnBocCcsXG4gICAgICBub25jZTogJycsXG4gICAgICBpMThuOiB7XG4gICAgICAgIHVuc2F2ZWRDaGFuZ2VzOiAnWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzLiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyB0YWI/JyxcbiAgICAgICAgc2F2ZVN1Y2Nlc3M6ICdTZXR0aW5ncyBzYXZlZCBzdWNjZXNzZnVsbHkuJyxcbiAgICAgICAgc2F2ZUVycm9yOiAnRXJyb3Igc2F2aW5nIHNldHRpbmdzLicsXG4gICAgICAgIHNhdmluZzogJ1NhdmluZy4uLidcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIG1haW4gU2V0dGluZ3MgTWFuYWdlciAob3JjaGVzdHJhdG9yKS5cbiAgICovXG4gIG1haW5Jbml0KCkge1xuXG4gICAgY29uc3QgdXJsVGFiID0gdGhpcy5nZXRUYWJGcm9tVXJsKCk7XG4gICAgdGhpcy5jdXJyZW50VGFiID0gdXJsVGFiICE9PSBudWxsID8gdXJsVGFiIDogJ2dlbmVyYWwnO1xuXG4gICAgdGhpcy4kKCcudGFiLWNvbnRlbnQnKS5oaWRlKCk7XG4gICAgdGhpcy4kKGAjJHt0aGlzLmN1cnJlbnRUYWJ9YCkuc2hvdygpO1xuXG4gICAgdGhpcy4kKCcubmF2LXRhYicpLnJlbW92ZUNsYXNzKCduYXYtdGFiLWFjdGl2ZScpO1xuICAgIHRoaXMuJChgLm5hdi10YWJbZGF0YS10YWI9XCIke3RoaXMuY3VycmVudFRhYn1cIl1gKS5hZGRDbGFzcygnbmF2LXRhYi1hY3RpdmUnKTtcblxuICAgIHRoaXMuYmluZE1haW5FdmVudHMoKTtcbiAgICB0aGlzLmluaXRGb3JtQ2hhbmdlVHJhY2tpbmcoKTtcbiAgICB0aGlzLmluaXRpYWxpemVWYWxpZGF0aW9uKCk7IC8vIEdsb2JhbCB2YWxpZGF0aW9uIGZvciBmb3JtcyBoYW5kbGVkIGJ5IG9yY2hlc3RyYXRvclxuXG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudCBoYW5kbGVycyBmb3IgdGhlIG1haW4gU2V0dGluZ3MgTWFuYWdlciAob3JjaGVzdHJhdG9yKS5cbiAgICovXG4gIGJpbmRNYWluRXZlbnRzKCkge1xuICAgIHRoaXMuJCgnLm5hdi10YWItd3JhcHBlcicpLm9uKCdjbGljaycsICcubmF2LXRhYicsIHRoaXMuaGFuZGxlVGFiQ2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLiQoZG9jdW1lbnQpLm9uKCdzdWJtaXQnLCAnZm9ybS5wcm9kdWN0LWVzdGltYXRvci1mb3JtJywgKGUpID0+IHtcbiAgICAgIGNvbnN0ICRmb3JtID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgICBpZiAoJGZvcm0uaGFzQ2xhc3MoJ3BlLXZ0YWJzLXRhYi1mb3JtJykgJiYgJGZvcm0uYXR0cignZGF0YS1zdWItdGFiLWlkJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmhhbmRsZUFqYXhGb3JtU3VibWl0KGUsICRmb3JtKTtcbiAgICB9KTtcblxuICAgIHRoaXMuJCh3aW5kb3cpLm9uKCdiZWZvcmV1bmxvYWQnLCB0aGlzLmhhbmRsZUJlZm9yZVVubG9hZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgQUpBWCBmb3JtIHN1Ym1pc3Npb24gZm9yIG9yY2hlc3RyYXRvci1tYW5hZ2VkIGZvcm1zLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gU3VibWl0IGV2ZW50XG4gICAqIEBwYXJhbSB7alF1ZXJ5fSBbJGZvcm1dIC0gT3B0aW9uYWw6IFRoZSBmb3JtIGVsZW1lbnQuXG4gICAqL1xuICBoYW5kbGVBamF4Rm9ybVN1Ym1pdChlLCAkZm9ybSkge1xuICAgICRmb3JtID0gJGZvcm0gfHwgdGhpcy4kKGUudGFyZ2V0KTtcbiAgICBjb25zdCB0YWJJZCA9ICRmb3JtLmNsb3Nlc3QoJy50YWItY29udGVudCcpLmF0dHIoJ2lkJykgfHwgJGZvcm0uZGF0YSgndGFiJyk7XG4gICAgbGV0IGZvcm1EYXRhID0gJGZvcm0uc2VyaWFsaXplKCk7XG5cbiAgICAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgY29uc3QgJGNiID0gdGhpcy4kKGVsKTtcbiAgICAgIGlmICghJGNiLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSAkY2IuYXR0cignbmFtZScpO1xuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIGNvbnN0IHBhcmFtUmVnZXggPSBuZXcgUmVnRXhwKGAoXnwmKSR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCAnXFxcXCQmJyl9KD86PVteJl0qKT9gKTtcbiAgICAgICAgICBpZiAoZm9ybURhdGEubWF0Y2gocGFyYW1SZWdleCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhICs9IGAmJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9PTBgO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZvcm1EYXRhID0gZm9ybURhdGEucmVwbGFjZSgvXiYrLywgJycpLnJlcGxhY2UoLyYmKy9nLCAnJicpO1xuXG4gICAgdGhpcy5zaG93Rm9ybUxvYWRpbmcoJGZvcm0pO1xuXG4gICAgY29uc3QgYWpheEFjdGlvbiA9IGBzYXZlXyR7dGFiSWR9X3NldHRpbmdzYDtcbiAgICBjb25zdCBsb2NhbGl6ZWREYXRhID0gd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyB8fCB7IG5vbmNlOiAnJywgYWpheF91cmw6IGFqYXh1cmwsIGkxOG46IHt9IH07XG5cbiAgICBjb25zdCBhamF4RGF0YVBheWxvYWQgPSB7XG4gICAgICBhY3Rpb246IGFqYXhBY3Rpb24sXG4gICAgICBub25jZTogbG9jYWxpemVkRGF0YS5ub25jZSxcbiAgICAgIGZvcm1fZGF0YTogZm9ybURhdGFcbiAgICB9O1xuXG5cbiAgICBhamF4LmFqYXhSZXF1ZXN0KHtcbiAgICAgIHVybDogbG9jYWxpemVkRGF0YS5hamF4X3VybCxcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIGRhdGE6IGFqYXhEYXRhUGF5bG9hZFxuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHRoaXMuc2hvd05vdGljZShyZXNwb25zZS5tZXNzYWdlIHx8IGxvY2FsaXplZERhdGEuaTE4bi5zYXZlU3VjY2VzcywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgaWYgKHRoaXMuZm9ybUNoYW5nZVRyYWNrZXJzKSB7IC8vIEVuc3VyZSBvcmNoZXN0cmF0b3IgcHJvcGVydGllcyBleGlzdFxuICAgICAgICAgIHRoaXMuZm9ybUNoYW5nZVRyYWNrZXJzW3RhYklkXSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWJJZCA9PT0gdGhpcy5jdXJyZW50VGFiKSB7XG4gICAgICAgICAgdGhpcy5mb3JtQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKGVycm9yICYmIGVycm9yLm1lc3NhZ2UpID8gZXJyb3IubWVzc2FnZSA6IGxvY2FsaXplZERhdGEuaTE4bi5zYXZlRXJyb3I7XG4gICAgICAgIHRoaXMuc2hvd05vdGljZShlcnJvck1lc3NhZ2UsICdlcnJvcicpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgdGhpcy5oaWRlRm9ybUxvYWRpbmcoJGZvcm0pO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBsb2FkaW5nIHN0YXRlIGZvciBhIGZvcm0uXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZm9ybSAtIFRoZSBmb3JtIGVsZW1lbnQuXG4gICAqL1xuICBzaG93Rm9ybUxvYWRpbmcoJGZvcm0pIHtcbiAgICBjb25zdCAkc3VibWl0QnV0dG9uID0gJGZvcm0uZmluZCgnOnN1Ym1pdCcpO1xuICAgICRzdWJtaXRCdXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKS5hZGRDbGFzcygnbG9hZGluZycpO1xuICAgICRzdWJtaXRCdXR0b24uZGF0YSgnb3JpZ2luYWwtdGV4dCcsICRzdWJtaXRCdXR0b24udmFsKCkpO1xuICAgIGNvbnN0IHNhdmluZ1RleHQgPSAod2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyAmJiB3aW5kb3cucHJvZHVjdEVzdGltYXRvclNldHRpbmdzLmkxOG4gJiYgd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5pMThuLnNhdmluZylcbiAgICAgID8gd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5pMThuLnNhdmluZyA6ICdTYXZpbmcuLi4nO1xuICAgICRzdWJtaXRCdXR0b24udmFsKHNhdmluZ1RleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGUgbG9hZGluZyBzdGF0ZSBmb3IgYSBmb3JtLlxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGZvcm0gLSBUaGUgZm9ybSBlbGVtZW50LlxuICAgKi9cbiAgaGlkZUZvcm1Mb2FkaW5nKCRmb3JtKSB7XG4gICAgY29uc3QgJHN1Ym1pdEJ1dHRvbiA9ICRmb3JtLmZpbmQoJzpzdWJtaXQnKTtcbiAgICAkc3VibWl0QnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XG4gICAgaWYgKCRzdWJtaXRCdXR0b24uZGF0YSgnb3JpZ2luYWwtdGV4dCcpKSB7XG4gICAgICAkc3VibWl0QnV0dG9uLnZhbCgkc3VibWl0QnV0dG9uLmRhdGEoJ29yaWdpbmFsLXRleHQnKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZm9ybSBjaGFuZ2UgdHJhY2tpbmcgZm9yIGVhY2ggdGFiJ3MgZm9ybSAob3JjaGVzdHJhdG9yKS5cbiAgICovXG4gIGluaXRGb3JtQ2hhbmdlVHJhY2tpbmcoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy4kKCcudGFiLWNvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgdGFiSWQgPSBzZWxmLiQodGhpcykuYXR0cignaWQnKTtcbiAgICAgIGlmIChzZWxmLmZvcm1DaGFuZ2VUcmFja2Vycykge1xuICAgICAgICBzZWxmLmZvcm1DaGFuZ2VUcmFja2Vyc1t0YWJJZF0gPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgc2VsZi4kKGAjJHt0YWJJZH0gOmlucHV0YCkub24oJ2NoYW5nZSBpbnB1dCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZi5mb3JtQ2hhbmdlVHJhY2tlcnMpIHtcbiAgICAgICAgICBzZWxmLmZvcm1DaGFuZ2VUcmFja2Vyc1t0YWJJZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YWJJZCA9PT0gc2VsZi5jdXJyZW50VGFiKSB7XG4gICAgICAgICAgc2VsZi5mb3JtQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZm9ybSB2YWxpZGF0aW9uIGZvciBvcmNoZXN0cmF0b3ItbWFuYWdlZCBmb3Jtcy5cbiAgICovXG4gIGluaXRpYWxpemVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuJCgnLnByb2R1Y3QtZXN0aW1hdG9yLWZvcm0nKS5lYWNoKChpLCBmb3JtKSA9PiB7XG4gICAgICBjb25zdCAkZm9ybSA9IHRoaXMuJChmb3JtKTtcbiAgICAgIC8vIEFwcGx5IG9ubHkgaWYgbm90IGEgbW9kdWxlLXNwZWNpZmljIGZvcm0gdGhhdCBoYW5kbGVzIGl0cyBvd24gdmFsaWRhdGlvblxuICAgICAgaWYgKCEkZm9ybS5kYXRhKCdtb2R1bGUtbWFuYWdlZC12YWxpZGF0aW9uJykpIHtcbiAgICAgICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImVtYWlsXCJdJykub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgY29uc3QgJGlucHV0ID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgaWYgKCRpbnB1dC52YWwoKSAmJiAhdmFsaWRhdGlvbi52YWxpZGF0ZUVtYWlsKCRpbnB1dC52YWwoKSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IoJGlucHV0LCAod2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5pMThuLmludmFsaWRFbWFpbCB8fCAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyRmllbGRFcnJvcigkaW5wdXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cIm51bWJlclwiXScpLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgIGNvbnN0ICRpbnB1dCA9IHRoaXMuJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoJGlucHV0LnZhbCgpLCAxMCk7XG4gICAgICAgICAgY29uc3QgbWluID0gcGFyc2VJbnQoJGlucHV0LmF0dHIoJ21pbicpIHx8IDAsIDEwKTtcbiAgICAgICAgICBjb25zdCBtYXggPSBwYXJzZUludCgkaW5wdXQuYXR0cignbWF4JykgfHwgOTk5OSwgMTApO1xuICAgICAgICAgIGNvbnN0IGkxOG5TZXR0aW5ncyA9IHdpbmRvdy5wcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgJiYgd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5pMThuO1xuXG5cbiAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gaTE4blNldHRpbmdzICYmIGkxOG5TZXR0aW5ncy5udW1iZXJSYW5nZSA/XG4gICAgICAgICAgICAgIGkxOG5TZXR0aW5ncy5udW1iZXJSYW5nZS5yZXBsYWNlKCclbWluJScsIG1pbikucmVwbGFjZSgnJW1heCUnLCBtYXgpIDpcbiAgICAgICAgICAgICAgYFZhbHVlIG11c3QgYmUgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fWA7XG4gICAgICAgICAgICB0aGlzLnNob3dGaWVsZEVycm9yKCRpbnB1dCwgbWVzc2FnZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRpbnB1dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGFjdGl2ZSB0YWIgZnJvbSBVUkwuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gVGhlIGFjdGl2ZSB0YWIgb3IgbnVsbC5cbiAgICovXG4gIGdldFRhYkZyb21VcmwoKSB7XG4gICAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICByZXR1cm4gdXJsUGFyYW1zLmdldCgndGFiJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRhYiBjbGljayBmb3Igb3JjaGVzdHJhdG9yLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gQ2xpY2sgZXZlbnQuXG4gICAqL1xuICBoYW5kbGVUYWJDbGljayhlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IG5ld1RhYiA9IHRoaXMuJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3RhYicpO1xuICAgIGNvbnN0IGkxOG5TZXR0aW5ncyA9IHdpbmRvdy5wcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgJiYgd2luZG93LnByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5pMThuO1xuXG5cbiAgICBpZiAodGhpcy5mb3JtQ2hhbmdlZCkge1xuICAgICAgaWYgKCFjb25maXJtKGkxOG5TZXR0aW5ncy51bnNhdmVkQ2hhbmdlcyB8fCAnWW91IGhhdmUgdW5zYXZlZCBjaGFuZ2VzLiBBcmUgeW91IHN1cmU/JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnN3aXRjaFRhYihuZXdUYWIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN3aXRjaCB0byBhIGRpZmZlcmVudCB0YWIgKG9yY2hlc3RyYXRvcikuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJJZCAtIFRoZSB0YWIgdG8gc3dpdGNoIHRvLlxuICAgKi9cbiAgc3dpdGNoVGFiKHRhYklkKSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3RhYicsIHRhYklkKTtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCB1cmwudG9TdHJpbmcoKSk7XG5cbiAgICB0aGlzLiQoJy5uYXYtdGFiJykucmVtb3ZlQ2xhc3MoJ25hdi10YWItYWN0aXZlJyk7XG4gICAgdGhpcy4kKGAubmF2LXRhYltkYXRhLXRhYj1cIiR7dGFiSWR9XCJdYCkuYWRkQ2xhc3MoJ25hdi10YWItYWN0aXZlJyk7XG5cbiAgICB0aGlzLiQoJy50YWItY29udGVudCcpLmhpZGUoKTtcbiAgICB0aGlzLiQoYCMke3RhYklkfWApLnNob3coKTtcblxuICAgIGNvbnN0IHByZXZpb3VzVGFiID0gdGhpcy5jdXJyZW50VGFiO1xuICAgIHRoaXMuY3VycmVudFRhYiA9IHRhYklkO1xuICAgIHRoaXMuZm9ybUNoYW5nZWQgPSAodGhpcy5mb3JtQ2hhbmdlVHJhY2tlcnMgJiYgdGhpcy5mb3JtQ2hhbmdlVHJhY2tlcnNbdGFiSWRdKSB8fCBmYWxzZTtcblxuICAgIHRoaXMuJChkb2N1bWVudCkudHJpZ2dlcigncHJvZHVjdF9lc3RpbWF0b3JfdGFiX2NoYW5nZWQnLCBbdGFiSWQsIHByZXZpb3VzVGFiXSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGJlZm9yZXVubG9hZCBldmVudCB0byB3YXJuIGFib3V0IHVuc2F2ZWQgY2hhbmdlcyAob3JjaGVzdHJhdG9yKS5cbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIEJlZm9yZVVubG9hZCBldmVudC5cbiAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFdhcm5pbmcgbWVzc2FnZSBpZiB0aGVyZSBhcmUgdW5zYXZlZCBjaGFuZ2VzLCB1bmRlZmluZWQgb3RoZXJ3aXNlXG4gICAqL1xuICBoYW5kbGVCZWZvcmVVbmxvYWQoZSkge1xuICAgIGxldCBoYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgaWYgKHRoaXMuZm9ybUNoYW5nZVRyYWNrZXJzKSB7XG4gICAgICBmb3IgKGNvbnN0IHRhYklkIGluIHRoaXMuZm9ybUNoYW5nZVRyYWNrZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLmZvcm1DaGFuZ2VUcmFja2Vyc1t0YWJJZF0pIHtcbiAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNDaGFuZ2VzKSB7XG4gICAgICBjb25zdCBpMThuU2V0dGluZ3MgPSB3aW5kb3cucHJvZHVjdEVzdGltYXRvclNldHRpbmdzICYmIHdpbmRvdy5wcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MuaTE4bjtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBpMThuU2V0dGluZ3MudW5zYXZlZENoYW5nZXMgfHwgJ1lvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcy4gQXJlIHlvdSBzdXJlPyc7XG4gICAgICBlLnJldHVyblZhbHVlID0gbWVzc2FnZTtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVdGlsaXR5IG1ldGhvZCB0byBjbGVhciAnc3ViX3RhYicgZnJvbSB0aGUgVVJMLlxuICAgKiBDYW4gYmUgY2FsbGVkIGJ5IGRlcml2ZWQgbW9kdWxlcy5cbiAgICovXG4gIGNsZWFyU3ViVGFiRnJvbVVybCgpIHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3N1Yl90YWInKSkge1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoJ3N1Yl90YWInKTtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIHVybC50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1ldGhvZCB0byBzaG93IGZpZWxkIGVycm9yLiBVc2VzIHRoZSAndmFsaWRhdGlvbicgdXRpbGl0eS5cbiAgICogQHBhcmFtIHtqUXVlcnl8SFRNTEVsZW1lbnR9IGZpZWxkIC0gVGhlIGZpZWxkIHdpdGggYW4gZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqL1xuICBzaG93RmllbGRFcnJvcihmaWVsZCwgbWVzc2FnZSkge1xuICAgIHZhbGlkYXRpb24uc2hvd0ZpZWxkRXJyb3IodGhpcy4kKGZpZWxkKSwgbWVzc2FnZSk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1ldGhvZCB0byBjbGVhciBmaWVsZCBlcnJvci4gVXNlcyB0aGUgJ3ZhbGlkYXRpb24nIHV0aWxpdHkuXG4gICAqIEBwYXJhbSB7alF1ZXJ5fEhUTUxFbGVtZW50fSBmaWVsZCAtIFRoZSBmaWVsZCB0byBjbGVhciBlcnJvciBmb3IuXG4gICAqL1xuICBjbGVhckZpZWxkRXJyb3IoZmllbGQpIHtcbiAgICB2YWxpZGF0aW9uLmNsZWFyRmllbGRFcnJvcih0aGlzLiQoZmllbGQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgbWV0aG9kIHRvIHNob3cgbm90aWNlLiBVc2VzIHRoZSAndmFsaWRhdGlvbicgdXRpbGl0eS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzaG93LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3R5cGVdIC0gTm90aWNlIHR5cGUgKCdzdWNjZXNzJyBvciAnZXJyb3InKS5cbiAgICovXG4gIHNob3dOb3RpY2UobWVzc2FnZSwgdHlwZSA9ICdzdWNjZXNzJykge1xuICAgIHZhbGlkYXRpb24uc2hvd05vdGljZShtZXNzYWdlLCB0eXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgU2VsZWN0MiBkcm9wZG93biB3aXRoIHN0YW5kYXJkaXplZCBjb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbWVudCAtIGpRdWVyeSBlbGVtZW50IHRvIGluaXRpYWxpemUgU2VsZWN0MiBvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhY2Vob2xkZXJUZXh0IC0gUGxhY2Vob2xkZXIgdGV4dCB0byBkaXNwbGF5XG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBBZGRpdGlvbmFsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgU2VsZWN0MlxuICAgKiBAcmV0dXJucyB7alF1ZXJ5fG51bGx9IFRoZSBpbml0aWFsaXplZCBlbGVtZW50IG9yIG51bGwgaWYgaW5pdGlhbGl6YXRpb24gZmFpbGVkXG4gICAqL1xuICBpbml0U2VsZWN0MigkZWxlbWVudCwgcGxhY2Vob2xkZXJUZXh0LCBjb25maWcgPSB7fSkge1xuICAgIGlmICghJGVsZW1lbnQgfHwgISRlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLiQgfHwgIXRoaXMuJC5mbi5zZWxlY3QyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJUZXh0IHx8ICdTZWxlY3QgYW4gb3B0aW9uJyxcbiAgICAgIHdpZHRoOiAncmVzb2x2ZScsIC8vICdzdHlsZScgb3IgJzEwMCUnIG1pZ2h0IGJlIGJldHRlciBkZXBlbmRpbmcgb24gQ1NTXG4gICAgICBhbGxvd0NsZWFyOiB0cnVlLFxuICAgICAgZHJvcGRvd25Dc3NDbGFzczogJ3Byb2R1Y3QtZXN0aW1hdG9yLWRyb3Bkb3duJyAvLyBDdXN0b20gY2xhc3MgZm9yIHN0eWxpbmdcbiAgICB9O1xuXG4gICAgLy8gTWVyZ2Ugd2l0aCBjdXN0b20gY29uZmlnLCB3aXRoIGN1c3RvbSB0YWtpbmcgcHJlY2VkZW5jZVxuICAgIGNvbnN0IG1lcmdlZENvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZywgLi4uY29uZmlnIH07XG5cbiAgICB0cnkge1xuICAgICAgJGVsZW1lbnQuc2VsZWN0MihtZXJnZWRDb25maWcpO1xuXG4gICAgICAvLyBPcHRpb24gdG8gY2xlYXIgaW5pdGlhbCBzZWxlY3Rpb25cbiAgICAgIGlmIChjb25maWcuY2xlYXJJbml0aWFsKSB7XG4gICAgICAgICRlbGVtZW50LnZhbChudWxsKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICRlbGVtZW50O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgbXVsdGlwbGUgU2VsZWN0MiBkcm9wZG93bnMgaW4gYmF0Y2hcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucy5lbGVtZW50cyAtIEFycmF5IG9mIGVsZW1lbnRzIHRvIGluaXRpYWxpemVcbiAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMuaTE4biAtIEludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3MgKGRlZmF1bHRzIHRvIHRoaXMuc2V0dGluZ3MuaTE4bilcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubW9kdWxlTmFtZSAtIE1vZHVsZSBuYW1lIGZvciBsb2dnaW5nIChkZWZhdWx0cyB0byB0aGlzLnNldHRpbmdzLnRhYl9pZClcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuZGVsYXkgLSBEZWxheSBpbiBtcyBiZWZvcmUgaW5pdGlhbGl6YXRpb24gKGRlZmF1bHRzIHRvIDEwMClcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBpbml0aWFsaXplU2VsZWN0MkRyb3Bkb3ducyhvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgZWxlbWVudHMgPSBbXSxcbiAgICAgIGkxOG4gPSB0aGlzLnNldHRpbmdzLmkxOG4gfHwge30sXG4gICAgICBtb2R1bGVOYW1lID0gdGhpcy5zZXR0aW5ncy50YWJfaWQgfHwgJ01vZHVsZScsXG4gICAgICBkZWxheSA9IDEwMFxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgaWYgKCF0aGlzLiQgfHwgIXRoaXMuJC5mbi5zZWxlY3QyKSB7XG4gICAgICBjb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIobW9kdWxlTmFtZSk7XG4gICAgICBsb2dnZXIud2FybihgU2VsZWN0MiBub3QgYXZhaWxhYmxlIGZvciAke21vZHVsZU5hbWV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gZW5zdXJlIGVsZW1lbnRzIGFyZSBmdWxseSByZW5kZXJlZFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGlmICghZWwgfHwgIWVsLmVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IChpMThuW2VsLnBsYWNlaG9sZGVyS2V5XSB8fCBlbC5mYWxsYmFja1RleHQgfHwgYFNlbGVjdCAke2VsLm5hbWV9YCk7XG4gICAgICAgIHRoaXMuaW5pdFNlbGVjdDIoZWwuZWxlbWVudCwgcGxhY2Vob2xkZXIsIGVsLmNvbmZpZyB8fCB7fSk7XG4gICAgICB9KTtcblxuICAgIH0sIGRlbGF5KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGFuZCByZS1pbml0aWFsaXplIFNlbGVjdDIgY29tcG9uZW50cyAodXNlZnVsIHdoZW4gZWxlbWVudHMgd2VyZSBoaWRkZW4pXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbWVudCAtIFNlbGVjdDIgZWxlbWVudCB0byByZWZyZXNoXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgLSBDb25maWd1cmF0aW9uIHRvIGFwcGx5IHdoZW4gcmUtaW5pdGlhbGl6aW5nXG4gICAqIEByZXR1cm5zIHtqUXVlcnl8bnVsbH0gVGhlIHJlZnJlc2hlZCBlbGVtZW50IG9yIG51bGwgaWYgcmVmcmVzaCBmYWlsZWRcbiAgICovXG4gIHJlZnJlc2hTZWxlY3QyKCRlbGVtZW50LCBjb25maWcgPSB7fSkge1xuICAgIGlmICghJGVsZW1lbnQgfHwgISRlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBjdXJyZW50IHBsYWNlaG9sZGVyIGlmIG5vdCBwcm92aWRlZFxuICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBjb25maWcucGxhY2Vob2xkZXIgfHwgJGVsZW1lbnQuZGF0YSgncGxhY2Vob2xkZXInKSB8fCAnJztcblxuICAgICAgLy8gRGVzdHJveSBhbmQgcmUtaW5pdGlhbGl6ZVxuICAgICAgJGVsZW1lbnQuc2VsZWN0MignZGVzdHJveScpO1xuICAgICAgcmV0dXJuIHRoaXMuaW5pdFNlbGVjdDIoJGVsZW1lbnQsIHBsYWNlaG9sZGVyLCBjb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSB0aGUgbWFpbiBvcmNoZXN0cmF0b3Igd2hlbiBkb2N1bWVudCBpcyByZWFkeVxuLy8gVGhpcyBlbnN1cmVzIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBpcyBhdmFpbGFibGUgZ2xvYmFsbHkgaWYgbmVlZGVkIGJ5IG1vZHVsZXNcbi8vIGJlZm9yZSB0aGV5IG1pZ2h0IGJlIGluc3RhbnRpYXRlZC5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gIGlmICghd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlKSB7IC8vIEVuc3VyZSBzaW5nbGUgaW5zdGFuY2Ugb2Ygb3JjaGVzdHJhdG9yXG4gICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlID0gbmV3IFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncygpO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzO1xuIl0sIm5hbWVzIjpbImFqYXgiLCJ2YWxpZGF0aW9uIiwiY3JlYXRlTG9nZ2VyIiwiUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIiwiX3RoaXMiLCJtb2R1bGVPcHRpb25zIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiX2NsYXNzQ2FsbENoZWNrIiwiJCIsImpRdWVyeSIsImJhc2VDbGFzc0xvZ2dlciIsImNvbnN0cnVjdG9yIiwibmFtZSIsImlzTW9kdWxlIiwic2V0dGluZ3NPYmplY3ROYW1lIiwiZGVmYXVsdFRhYklkIiwiX2luaXRpYWxpemVNb2R1bGVTcGVjaWZpY1NldHRpbmdzIiwiZG9jdW1lbnQiLCJyZWFkeSIsIl9maW5hbGl6ZU1vZHVsZVNldHRpbmdzIiwibW9kdWxlSW5pdCIsImZvcm1DaGFuZ2VkIiwiY3VycmVudFRhYiIsImZvcm1DaGFuZ2VUcmFja2VycyIsImVuc3VyZUdsb2JhbFZhcmlhYmxlcyIsIm1haW5Jbml0IiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJsb2NhbGl6ZWRTZXR0aW5ncyIsIndpbmRvdyIsInNldHRpbmdzIiwiX29iamVjdFNwcmVhZCIsImFqYXhVcmwiLCJhamF4dXJsIiwibm9uY2UiLCJwcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MiLCJkZWZhdWx0QWN0aW9ucyIsImFjdGlvbnMiLCJzYXZlX3NldHRpbmdzIiwiY29uY2F0IiwiZGVmYXVsdFNlbGVjdG9ycyIsInNlbGVjdG9ycyIsImkxOG4iLCJ0YWJfaWQiLCJvcHRpb25fbmFtZSIsImxvZ2dlciIsIndhcm4iLCJ1cGRhdGVkTG9jYWxpemVkU2V0dGluZ3NPblJlYWR5IiwiZmVhdHVyZVN3aXRjaGVzU2V0dGluZ3MiLCJnZW5lcmFsU2V0dGluZ3MiLCJuZXRzdWl0ZVNldHRpbmdzIiwibm90aWZpY2F0aW9uU2V0dGluZ3MiLCJwcmljaW5nUnVsZXNTZXR0aW5ncyIsInByb2R1Y3RBZGRpdGlvbnNTZXR0aW5ncyIsInByb2R1Y3RVcGdyYWRlc1NldHRpbmdzIiwic2ltaWxhclByb2R1Y3RzU2V0dGluZ3MiLCJsYWJlbFNldHRpbmdzIiwiYWpheF91cmwiLCJ1bnNhdmVkQ2hhbmdlcyIsInNhdmVTdWNjZXNzIiwic2F2ZUVycm9yIiwic2F2aW5nIiwidXJsVGFiIiwiZ2V0VGFiRnJvbVVybCIsImhpZGUiLCJzaG93IiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImJpbmRNYWluRXZlbnRzIiwiaW5pdEZvcm1DaGFuZ2VUcmFja2luZyIsImluaXRpYWxpemVWYWxpZGF0aW9uIiwiX3RoaXMyIiwib24iLCJoYW5kbGVUYWJDbGljayIsImJpbmQiLCJlIiwiJGZvcm0iLCJjdXJyZW50VGFyZ2V0IiwiaGFzQ2xhc3MiLCJhdHRyIiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVBamF4Rm9ybVN1Ym1pdCIsImhhbmRsZUJlZm9yZVVubG9hZCIsIl90aGlzMyIsInRhcmdldCIsInRhYklkIiwiY2xvc2VzdCIsImRhdGEiLCJmb3JtRGF0YSIsInNlcmlhbGl6ZSIsImZpbmQiLCJlYWNoIiwiaSIsImVsIiwiJGNiIiwiaXMiLCJwYXJhbVJlZ2V4IiwiUmVnRXhwIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVwbGFjZSIsIm1hdGNoIiwic2hvd0Zvcm1Mb2FkaW5nIiwiYWpheEFjdGlvbiIsImxvY2FsaXplZERhdGEiLCJhamF4RGF0YVBheWxvYWQiLCJhY3Rpb24iLCJmb3JtX2RhdGEiLCJhamF4UmVxdWVzdCIsInVybCIsInR5cGUiLCJ0aGVuIiwicmVzcG9uc2UiLCJzaG93Tm90aWNlIiwibWVzc2FnZSIsImNhdGNoIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJmaW5hbGx5IiwiaGlkZUZvcm1Mb2FkaW5nIiwiJHN1Ym1pdEJ1dHRvbiIsInByb3AiLCJ2YWwiLCJzYXZpbmdUZXh0Iiwic2VsZiIsIl90aGlzNCIsImZvcm0iLCIkaW5wdXQiLCJ2YWxpZGF0ZUVtYWlsIiwic2hvd0ZpZWxkRXJyb3IiLCJpbnZhbGlkRW1haWwiLCJjbGVhckZpZWxkRXJyb3IiLCJwYXJzZUludCIsIm1pbiIsIm1heCIsImkxOG5TZXR0aW5ncyIsImlzTmFOIiwibnVtYmVyUmFuZ2UiLCJ1cmxQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImdldCIsIm5ld1RhYiIsImNvbmZpcm0iLCJzd2l0Y2hUYWIiLCJVUkwiLCJocmVmIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInRvU3RyaW5nIiwicHJldmlvdXNUYWIiLCJ0cmlnZ2VyIiwiaGFzQ2hhbmdlcyIsInJldHVyblZhbHVlIiwiY2xlYXJTdWJUYWJGcm9tVXJsIiwiaGFzIiwiZGVsZXRlIiwicmVwbGFjZVN0YXRlIiwiZmllbGQiLCJpbml0U2VsZWN0MiIsIiRlbGVtZW50IiwicGxhY2Vob2xkZXJUZXh0IiwiY29uZmlnIiwiZm4iLCJzZWxlY3QyIiwiZGVmYXVsdENvbmZpZyIsInBsYWNlaG9sZGVyIiwid2lkdGgiLCJhbGxvd0NsZWFyIiwiZHJvcGRvd25Dc3NDbGFzcyIsIm1lcmdlZENvbmZpZyIsImNsZWFySW5pdGlhbCIsImluaXRpYWxpemVTZWxlY3QyRHJvcGRvd25zIiwib3B0aW9ucyIsIl90aGlzNSIsIl9vcHRpb25zJGVsZW1lbnRzIiwiZWxlbWVudHMiLCJfb3B0aW9ucyRpMThuIiwiX29wdGlvbnMkbW9kdWxlTmFtZSIsIm1vZHVsZU5hbWUiLCJfb3B0aW9ucyRkZWxheSIsImRlbGF5Iiwic2V0VGltZW91dCIsImZvckVhY2giLCJlbGVtZW50IiwicGxhY2Vob2xkZXJLZXkiLCJmYWxsYmFja1RleHQiLCJyZWZyZXNoU2VsZWN0MiIsIlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/common/ProductEstimatorSettings.js\n");

/***/ }),

/***/ "./src/js/admin/common/VerticalTabbedModule.js":
/*!*****************************************************!*\
  !*** ./src/js/admin/common/VerticalTabbedModule.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/esm/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ProductEstimatorSettings */ \"./src/js/admin/common/ProductEstimatorSettings.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n/**\n * VerticalTabbedModule.js\n *\n * Base class for settings modules that use a vertical tabbed interface.\n * Handles common vertical tab navigation, AJAX form submission, and state management.\n * Extends ProductEstimatorSettings.\n */\n // Import ajax utility and logger creator\n\n // Adjust path if ProductEstimatorSettings is in a different directory\n\n// Module-specific logger. Can be this.logger if preferred and initialized in constructor.\nvar logger = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('VerticalTabbedModule');\nvar VerticalTabbedModule = /*#__PURE__*/function (_ProductEstimatorSett) {\n  /**\n   * Constructor for the VerticalTabbedModule.\n   * @param {object} config - Configuration object for the module.\n   * @param {string} config.mainTabId - The ID of the main horizontal tab for this module (e.g., 'labels', 'notifications'). This is passed as defaultTabId to ProductEstimatorSettings.\n   * @param {string} config.defaultSubTabId - The default vertical sub-tab to show if none is specified.\n   * @param {string} config.ajaxActionPrefix - The prefix for AJAX save actions (e.g., 'save_labels' for 'save_labels_settings').\n   * @param {string} config.localizedDataName - The name of the global object holding localized data for this module (e.g., 'labelSettingsData'). This is passed as settingsObjectName to ProductEstimatorSettings.\n   */\n  function VerticalTabbedModule(config) {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, VerticalTabbedModule);\n    // Call the parent constructor (ProductEstimatorSettings)\n    // map mainTabId to defaultTabId for ProductEstimatorSettings' module mode\n    // map localizedDataName to settingsObjectName\n    _this = _callSuper(this, VerticalTabbedModule, [{\n      isModule: true,\n      settingsObjectName: config.localizedDataName,\n      defaultTabId: config.mainTabId\n    }]);\n    _this.config = config; // <<<< ADD THIS LINE\n\n    // Store VTM-specific configuration.\n    // this.settings is populated by the super() call with ajaxUrl, nonce, i18n, tab_id (which is mainTabId)\n    _this.vtmConfig = {\n      defaultSubTabId: config.defaultSubTabId,\n      ajaxActionPrefix: config.ajaxActionPrefix\n      // mainTabId and localizedDataName are available via this.settings.tab_id and this.settingsObjectName respectively\n    };\n    _this.$container = null; // Will be jQuery object for `#mainTabId`\n\n    // Validate VTM-specific config parts that are not covered by super's implicit validation via settingsObjectName/defaultTabId\n    if (!_this.vtmConfig.defaultSubTabId || !_this.vtmConfig.ajaxActionPrefix) {\n      // The super constructor would have already run, but this module might not function correctly.\n      // No explicit return here as super() doesn't allow return before it.\n      // The moduleInit will likely fail or not run as expected if $container isn't found or if these configs are vital early.\n    }\n\n    // Note: jQuery(document).ready() and calling moduleInit() is handled by the ProductEstimatorSettings base class.\n    // this.settings (formerly this.localizedData) is initialized by super().\n    // Fallbacks for nonce and ajax_url within this.settings are handled by ProductEstimatorSettings.\n    // The specific VTM fallback from window.productEstimatorSettings for nonce/ajax_url might need review\n    // if the base class's fallback (from ajaxurl global or direct properties) isn't sufficient.\n    // For now, assume base class handles it.\n    return _this;\n  }\n\n  /**\n   * Module-specific initialization, called by ProductEstimatorSettings on document.ready.\n   * Overridden from ProductEstimatorSettings.\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(VerticalTabbedModule, _ProductEstimatorSett);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(VerticalTabbedModule, [{\n    key: \"moduleInit\",\n    value: function moduleInit() {\n      var _this2 = this;\n      // this.settings.tab_id is the mainTabId for this VTM instance\n      this.$container = this.$(\"#\".concat(this.settings.tab_id));\n      if (!this.$container.length) {\n        // Optionally show a global notice if ProductEstimatorSettings instance is available\n        if (window.ProductEstimatorSettingsInstance) {\n          window.ProductEstimatorSettingsInstance.showNotice(\"Error: UI container for '\".concat(this.settings.tab_id, \"' settings not found. Some features might be unavailable.\"), 'error');\n        }\n        return; // Halt initialization if container is missing\n      }\n      this.bindCommonVTMEvents(); // Renamed from bindCommonEvents to avoid clash if base has it\n      this.bindModuleSpecificEvents(); // Hook for child classes (e.g., AdminTableManager)\n\n      // If this module's main tab is the currently active main tab in the UI\n      // Access currentTab from the global orchestrator instance if available\n      var orchestrator = window.ProductEstimatorSettingsInstance;\n      if (orchestrator && orchestrator.currentTab === this.settings.tab_id) {\n        // Use a small timeout to ensure the DOM is fully settled, especially if tab content was just shown\n        setTimeout(function () {\n          _this2.setupVerticalTabs();\n          _this2.onMainTabActivated(); // Hook for child classes\n        }, 100);\n      }\n    }\n\n    /**\n     * Binds event handlers common to VerticalTabbedModules.\n     */\n  }, {\n    key: \"bindCommonVTMEvents\",\n    value: function bindCommonVTMEvents() {\n      // Listen for global main tab changes (handled by ProductEstimatorSettings orchestrator)\n      // This event is triggered by the orchestrator.\n      this.$(document).on('product_estimator_tab_changed', this.handleMainTabChanged.bind(this));\n\n      // Form submission for forms within this module that are specifically for VTM handling\n      // These forms should have class 'pe-vtabs-tab-form'\n      this.$container.on('submit.vtm', 'form.pe-vtabs-tab-form', this.handleVTMFormSubmit.bind(this));\n\n      // Click handling for vertical tab navigation links - use selectors from PHP's get_common_script_data\n      // ENHANCEMENT: Use a very broad selector that will catch all possible tab links\n      var navSelector = this.settings.selectors.verticalTabNav || '.pe-vtabs-nav-list, .vertical-tabs-nav';\n\n      // Use a more robust selector that will catch any links in the nav area\n      this.$container.on('click.vtm', \"\".concat(navSelector, \" a, .pe-vtabs-nav-item a, .tab-item a\"), this.handleVerticalTabClick.bind(this));\n\n      // Fix data attributes on tab links during binding phase\n      this.setTabAttributesOnLinks();\n    }\n\n    /**\n     * Sets data-tab attributes on any tab links that are missing them.\n     * This ensures all links have consistent data attributes.\n     */\n  }, {\n    key: \"setTabAttributesOnLinks\",\n    value: function setTabAttributesOnLinks() {\n      var _this3 = this;\n      // Find all potential tab links\n      var navSelector = this.settings.selectors.verticalTabNav || '.pe-vtabs-nav-list, .vertical-tabs-nav';\n      var $navLinks = this.$container.find(\"\".concat(navSelector, \" a\"));\n\n      // For each link, ensure it has the proper data-tab attribute based on the URL\n      $navLinks.each(function (i, link) {\n        var $link = _this3.$(link);\n        var href = $link.attr('href') || '';\n\n        // If no data-tab attribute but the href has sub_tab parameter\n        if (!$link.attr('data-tab') && href.includes('sub_tab=')) {\n          var match = href.match(/[?&]sub_tab=([^&#]*)/i);\n          if (match && match[1]) {\n            var subTabId = decodeURIComponent(match[1].replace(/\\+/g, ' '));\n            $link.attr('data-tab', subTabId);\n          }\n        }\n      });\n    }\n\n    /**\n     * Placeholder for module-specific event bindings. Override in child classes.\n     * Child classes should implement this method to bind their own specific events.\n     * For example, AdminTableManager uses this to bind table/form events.\n     * This method is called during initialization after common events are bound.\n     * @returns {void}\n     */\n  }, {\n    key: \"bindModuleSpecificEvents\",\n    value: function bindModuleSpecificEvents() {\n      // Child classes like AdminTableManager will override this to bind their own specific events.\n    }\n\n    /**\n     * Called when this module's main horizontal tab becomes active.\n     * Child classes should override this method to implement specific activation logic.\n     * This is the ideal place to refresh or initialize components that need to be\n     * visible when the tab is shown.\n     * @returns {void}\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      // Child classes can implement specific logic here.\n    }\n\n    /**\n     * Called when this module's main horizontal tab becomes inactive.\n     * Child classes should override this method to implement specific deactivation logic.\n     * This is the ideal place to clean up resources or pause processes when the tab\n     * is no longer visible.\n     * @returns {void}\n     */\n  }, {\n    key: \"onMainTabDeactivated\",\n    value: function onMainTabDeactivated() {\n      // Child classes can implement specific logic here.\n    }\n  }, {\n    key: \"setupVerticalTabs\",\n    value: function setupVerticalTabs() {\n      if (!this.$container || !this.$container.length) {\n        return;\n      }\n\n      // Use selectors from settings that are provided by PHP via get_common_script_data\n      var navSelector = this.settings.selectors.verticalTabNav || '.pe-vtabs-nav-list, .vertical-tabs-nav';\n      var contentSelector = this.settings.selectors.verticalTabPane || '.pe-vtabs-tab-panel, .vertical-tab-content';\n      var $verticalTabsNav = this.$container.find(navSelector);\n      var $verticalTabContents = this.$container.find(contentSelector);\n      if (!$verticalTabsNav.length || !$verticalTabContents.length) {\n        return;\n      }\n\n      // Make sure all tab links have data-tab attributes\n      // This ensures data attributes are added right before tab initialization\n      this.setTabAttributesOnLinks();\n      var activeSubTabId = this.vtmConfig.defaultSubTabId;\n      var urlParams = new URLSearchParams(window.location.search);\n      var urlSubTab = urlParams.get('sub_tab');\n      if (urlSubTab && $verticalTabsNav.find(\"a[data-tab=\\\"\".concat(urlSubTab, \"\\\"]\")).length) {\n        activeSubTabId = urlSubTab;\n      } else {\n        var $phpActiveLink = $verticalTabsNav.find('.pe-vtabs-nav-item.active a, .tab-item.active a');\n        if ($phpActiveLink.length) {\n          activeSubTabId = $phpActiveLink.data('tab');\n        }\n      }\n      if (!$verticalTabsNav.find(\"a[data-tab=\\\"\".concat(activeSubTabId, \"\\\"]\")).length) {\n        var $firstTabLink = $verticalTabsNav.find('a[data-tab]').first();\n        if ($firstTabLink.length) {\n          activeSubTabId = $firstTabLink.data('tab');\n        } else {\n          return;\n        }\n      }\n      this.showVerticalTab(activeSubTabId, false); // false to prevent history update on initial load\n\n      this.adjustTabContentHeight();\n      // Ensure resize event is namespaced to this module instance to avoid conflicts\n      this.$(window).off(\"resize.vtm.\".concat(this.settings.tab_id)).on(\"resize.vtm.\".concat(this.settings.tab_id), this.adjustTabContentHeight.bind(this));\n    }\n  }, {\n    key: \"handleVerticalTabClick\",\n    value: function handleVerticalTabClick(e) {\n      e.preventDefault();\n      var $targetLink = this.$(e.currentTarget);\n\n      // Multiple ways to get the subTabId, with fallbacks\n      var subTabId = null;\n      var element = $targetLink[0];\n\n      // Direct DOM attribute access - most reliable for elements with data-* attributes\n      var domTabAttr = element ? element.getAttribute('data-tab') : null;\n      if (domTabAttr) {\n        subTabId = domTabAttr;\n      }\n      // Check if there's a data-tabid attribute\n      else if (element && element.hasAttribute('data-tabid')) {\n        subTabId = element.getAttribute('data-tabid');\n      }\n\n      // If we have a subTabId from any of the data-* attributes\n      if (subTabId) {\n        this.showVerticalTab(subTabId, true); // true to update history\n        return;\n      }\n\n      // No data-* attributes found, try the URL as last resort\n      // THIS IS THE MOST IMPORTANT FALLBACK - we prioritize this approach for more reliability\n      var href = $targetLink.attr('href');\n\n      // Direct regex extraction for sub_tab parameter - most reliable method\n      // This works even when URL is relative or malformed\n      if (href) {\n        var subTabMatch = href.match(/[?&]sub_tab=([^&#]*)/i);\n        if (subTabMatch && subTabMatch[1]) {\n          var subTabFromRegex = decodeURIComponent(subTabMatch[1].replace(/\\+/g, ' '));\n          this.showVerticalTab(subTabFromRegex, true);\n\n          // Fix the data-tab attribute for future clicks\n          $targetLink.attr('data-tab', subTabFromRegex);\n          return;\n        }\n\n        // As a backup, try standard URL parsing\n        if (href.includes('sub_tab=')) {\n          try {\n            var hrefUrl = new URL(href, window.location.origin);\n            var subTabFromHref = hrefUrl.searchParams.get('sub_tab');\n            if (subTabFromHref) {\n              this.showVerticalTab(subTabFromHref, true);\n              // Fix the data-tab attribute to prevent future issues\n              $targetLink.attr('data-tab', subTabFromHref);\n              return;\n            }\n          } catch (e) {\n            // If URL parsing fails, try a more direct approach with URLSearchParams\n            try {\n              var queryString = href.split('?')[1];\n              if (queryString) {\n                var _subTabFromHref = new URLSearchParams(queryString).get('sub_tab');\n                if (_subTabFromHref) {\n                  this.showVerticalTab(_subTabFromHref, true);\n                  // Fix the data-tab attribute to prevent future issues\n                  $targetLink.attr('data-tab', _subTabFromHref);\n                  return;\n                }\n              }\n            } catch (e2) {\n              logger.error('Error parsing URL or query string:', e2);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"adjustTabContentHeight\",\n    value: function adjustTabContentHeight() {\n      if (!this.$container || !this.$container.length) return;\n\n      // Use provided selectors with fallbacks\n      var navAreaSelector = this.settings.selectors.verticalTabNavArea || '.pe-vtabs-nav-area, .vertical-tabs';\n      var contentAreaSelector = this.settings.selectors.verticalTabContentArea || '.pe-vtabs-content-area, .vertical-tabs-content';\n      var $nav = this.$container.find(navAreaSelector);\n      var $contentWrapper = this.$container.find(contentAreaSelector);\n      if ($nav.length && $contentWrapper.length) {\n        var navHeight = $nav.outerHeight();\n        if (navHeight) {\n          // Ensure navHeight is a valid number\n          $contentWrapper.css('min-height', navHeight + 'px');\n        }\n      }\n    }\n  }, {\n    key: \"showVerticalTab\",\n    value: function showVerticalTab(subTabId) {\n      var _this4 = this;\n      var updateHistory = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!this.$container || !this.settings.tab_id || !subTabId) {\n        var _this$$container;\n        logger.warn('VerticalTabbedModule: Cannot show vertical tab due to missing container, mainTabId, or subTabId.', {\n          containerExists: !!((_this$$container = this.$container) !== null && _this$$container !== void 0 && _this$$container.length),\n          mainTabId: this.settings.tab_id,\n          subTabId: subTabId\n        });\n        return;\n      }\n\n      // Use shared selectors from settings with fallbacks\n      var navSelector = this.settings.selectors.verticalTabNav || '.pe-vtabs-nav-list, .vertical-tabs-nav';\n      var contentSelector = this.settings.selectors.verticalTabPane || '.pe-vtabs-tab-panel, .vertical-tab-content';\n      var navItemSelector = this.settings.selectors.verticalTabNavItem || '.pe-vtabs-nav-item, .tab-item';\n      var $verticalTabsNav = this.$container.find(navSelector);\n      var $verticalTabContents = this.$container.find(contentSelector);\n\n      // Remove active class from all nav items\n      $verticalTabsNav.find(navItemSelector).removeClass('active');\n\n      // Find the tab link directly using data attribute\n      var $activeLink = $verticalTabsNav.find(\"a[data-tab=\\\"\".concat(subTabId, \"\\\"]\"));\n\n      // If not found, try other ways to find the link\n      if (!$activeLink.length) {\n        // Look for links with matching href containing the tab ID\n        $activeLink = $verticalTabsNav.find(\"a[href*=\\\"sub_tab=\".concat(subTabId, \"\\\"]\"));\n\n        // If still not found, try more aggressive matching\n        if (!$activeLink.length) {\n          $verticalTabsNav.find('a').each(function (i, link) {\n            var $link = _this4.$(link);\n            var href = $link.attr('href') || '';\n\n            // If this link's href contains our tab ID\n            if (href.includes(subTabId)) {\n              $activeLink = $link;\n              // Set the data-tab attribute to fix future lookups\n              $link.attr('data-tab', subTabId);\n            }\n          });\n        }\n      }\n\n      // Now add active class to the parent li of the found link\n      if ($activeLink.length) {\n        $activeLink.closest(navItemSelector).addClass('active');\n      } else {\n        // No active link found - this is OK if this is the initial load\n        // and we'll select the default tab\n      }\n\n      // Hide and deactivate all tab content panels\n      $verticalTabContents.hide().removeClass('active');\n\n      // Find and activate the selected content panel\n      // First try exact ID match\n      var sanitizedTabId = subTabId.replace(/[^a-zA-Z0-9-_]/g, '');\n      var $activeContentPanel = this.$container.find(\"#\".concat(sanitizedTabId));\n\n      // If not found, try more flexible selectors\n      if (!$activeContentPanel.length) {\n        // Try panel with a class that contains the tab ID\n        $activeContentPanel = this.$container.find(\".pe-vtabs-tab-panel-\".concat(sanitizedTabId, \", [data-tab-id=\\\"\").concat(sanitizedTabId, \"\\\"], [data-tab-content=\\\"\").concat(sanitizedTabId, \"\\\"]\"));\n      }\n\n      // If still not found, try searching for a panel that contains the tab ID in class or id\n      if (!$activeContentPanel.length) {\n        $activeContentPanel = this.$container.find(\"[id*=\\\"\".concat(sanitizedTabId, \"\\\"], [class*=\\\"\").concat(sanitizedTabId, \"\\\"]\")).filter('.pe-vtabs-tab-panel, .vertical-tab-content');\n      }\n      if ($activeContentPanel.length) {\n        $activeContentPanel.show().addClass('active');\n      } else {\n        // No matching content panel found with direct ID - try partial matches\n\n        // Last resort: try to find a panel with a similar ID/class\n        var partialMatches = [];\n        var contentPanels = this.$container.find(contentSelector);\n        contentPanels.each(function (i, panel) {\n          var $panel = _this4.$(panel);\n          var panelId = $panel.attr('id') || '';\n          var panelClass = $panel.attr('class') || '';\n\n          // Check if panel ID or class contains parts of the tab ID\n          if (panelId.includes(sanitizedTabId.substring(0, 5)) || panelClass.includes(sanitizedTabId.substring(0, 5))) {\n            partialMatches.push($panel);\n          }\n        });\n        if (partialMatches.length === 1) {\n          // If we have exactly one partial match, use it\n          partialMatches[0].show().addClass('active');\n        } else if (partialMatches.length > 1) {\n          partialMatches[0].show().addClass('active');\n        }\n      }\n      if (updateHistory) {\n        var currentUrl = new URL(window.location.href);\n        currentUrl.searchParams.set('page', currentUrl.searchParams.get('page') || 'product-estimator-settings'); // Ensure page param is present\n        currentUrl.searchParams.set('tab', this.settings.tab_id); // main horizontal tab\n        currentUrl.searchParams.set('sub_tab', subTabId); // vertical sub-tab\n        window.history.pushState({\n          mainTabId: this.settings.tab_id,\n          subTabId: subTabId\n        }, '', currentUrl.toString());\n      }\n      // Trigger a sub-tab changed event, namespaced by the main tab ID\n      this.$(document).trigger(\"pe_sub_tab_changed_\".concat(this.settings.tab_id), [subTabId]);\n    }\n\n    /**\n     * Handles the main horizontal tab change event.\n     * @param {Event} e - The event object.\n     * @param {string} newMainTabId - The ID of the newly activated main horizontal tab.\n     * @param {string} oldMainTabId - The ID of the previously active main horizontal tab.\n     */\n  }, {\n    key: \"handleMainTabChanged\",\n    value: function handleMainTabChanged(e, newMainTabId, oldMainTabId) {\n      var _this5 = this;\n      if (newMainTabId === this.settings.tab_id) {\n        // If this VTM's main tab is now active\n        // Ensure $container is valid, especially if moduleInit was deferred or failed partially\n        if (!this.$container || !this.$container.length) {\n          this.$container = this.$(\"#\".concat(this.settings.tab_id));\n        }\n        if (this.$container.length) {\n          setTimeout(function () {\n            // Use setTimeout to ensure tab content is fully visible and DOM settled\n            _this5.setupVerticalTabs(); // Re-initialize or ensure vertical tabs are correctly set up\n            _this5.onMainTabActivated(); // Call hook for child classes\n          }, 100);\n        } else {\n          // Container not found, log a warning\n          this.logger.warn(\"VerticalTabbedModule: Container for tab '\".concat(this.settings.tab_id, \"' not found when activating main tab\"));\n        }\n      } else if (oldMainTabId === this.settings.tab_id) {\n        // If this VTM's main tab was deactivated\n        this.onMainTabDeactivated(); // Call hook for child classes\n      }\n    }\n\n    /**\n     * Handles AJAX form submission for forms within vertical tabs.\n     * These forms should have the class 'pe-vtabs-tab-form' and a 'data-sub-tab-id' attribute.\n     * @param {Event} e - Submit event.\n     */\n  }, {\n    key: \"handleVTMFormSubmit\",\n    value: function handleVTMFormSubmit(e) {\n      var _this6 = this;\n      var $form = this.$(e.currentTarget);\n      e.preventDefault();\n      var $submitButton = $form.find('.save-settings, button[type=\"submit\"], input[type=\"submit\"]');\n      var $spinner = $form.find('.spinner').first(); // Common spinner class\n\n      // Save TinyMCE editors if any\n      if (typeof tinyMCE !== 'undefined') {\n        $form.find('.wp-editor-area').each(function (idx, editorArea) {\n          var editor = tinyMCE.get(_this6.$(editorArea).attr('id'));\n          if (editor) {\n            editor.save();\n          }\n        });\n      }\n      var formDataStr = $form.serialize();\n      var subTabId = $form.attr('data-sub-tab-id');\n      if (!subTabId || String(subTabId).trim() === '') {\n        this.showNotice('Error: Could not save settings. Form configuration is missing \"data-sub-tab-id\".', 'error');\n        return;\n      }\n\n      // Special handling for multi-select elements using Select2\n      $form.find('select[multiple]').each(function (idx, select) {\n        var $select = _this6.$(select);\n        var name = $select.attr('name');\n\n        // If this is a multi-select that uses Select2\n        if (name && $select.hasClass('pe-select2')) {\n          var values = $select.val();\n\n          // Remove any existing serialized versions of this field\n          var regex = new RegExp(\"\".concat(encodeURIComponent(name), \"=[^&]*&?\"), 'g');\n          formDataStr = formDataStr.replace(regex, '');\n\n          // Add each selected value individually with array notation\n          if (values && values.length) {\n            values.forEach(function (value) {\n              formDataStr += \"&\".concat(encodeURIComponent(name), \"[]=\").concat(encodeURIComponent(value));\n            });\n          } else {\n            // Ensure empty array is sent if nothing selected\n            formDataStr += \"&\".concat(encodeURIComponent(name), \"[]=\");\n          }\n        }\n      });\n\n      // Handle unchecked checkboxes\n      $form.find('input[type=\"checkbox\"]').each(function (idx, cb) {\n        var $cb = _this6.$(cb);\n        var name = $cb.attr('name');\n        if (name && !$cb.is(':checked')) {\n          var paramExistsRegex = new RegExp(\"(^|&)\".concat(encodeURIComponent(name).replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), \"=\"));\n          if (!paramExistsRegex.test(formDataStr)) {\n            formDataStr += \"&\".concat(encodeURIComponent(name), \"=0\");\n          }\n        }\n      });\n      formDataStr = formDataStr.replace(/^&+/, '').replace(/&&+/g, '&');\n      $submitButton.prop('disabled', true);\n      $spinner.addClass('is-active');\n      var ajaxAction = \"\".concat(this.vtmConfig.ajaxActionPrefix, \"_settings\"); // Uses VTM specific prefix\n      var ajaxDataPayload = {\n        action: ajaxAction,\n        nonce: this.settings.nonce,\n        // Nonce from base class settings\n        form_data: formDataStr,\n        sub_tab_id: subTabId.trim(),\n        // Essential for PHP to know which sub-tab's settings to save\n        main_tab_id: this.settings.tab_id // Pass main tab ID for context if needed by backend\n      };\n      _utils__WEBPACK_IMPORTED_MODULE_6__.ajax.ajaxRequest({\n        url: this.settings.ajaxUrl,\n        // ajaxUrl from base class settings\n        type: 'POST',\n        data: ajaxDataPayload\n      }).then(function (response) {\n        var successMsg = response && response.message || _this6.settings.i18n && _this6.settings.i18n.saveSuccess || 'Settings saved successfully.';\n        _this6.showNotice(successMsg, 'success'); // Inherited from ProductEstimatorSettings\n\n        // Reset form change tracking on the main orchestrator if it exists\n        var orchestrator = window.ProductEstimatorSettingsInstance;\n        if (orchestrator && (0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(orchestrator.formChangeTrackers) === 'object') {\n          orchestrator.formChangeTrackers[_this6.settings.tab_id] = false;\n          if (orchestrator.currentTab === _this6.settings.tab_id) {\n            orchestrator.formChanged = false;\n          }\n        }\n      }).catch(function (error) {\n        var errorMsg = error && error.message ? error.message : _this6.settings.i18n && _this6.settings.i18n.saveError || 'Error saving settings.';\n        _this6.showNotice(errorMsg, 'error'); // Inherited from ProductEstimatorSettings\n      }).finally(function () {\n        $submitButton.prop('disabled', false);\n        $spinner.removeClass('is-active');\n      });\n    }\n\n    // showNotice, showFieldError, clearFieldError are inherited from ProductEstimatorSettings.\n    // No need to redefine them here.\n  }]);\n}(_ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (VerticalTabbedModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vY29tbW9uL1ZlcnRpY2FsVGFiYmVkTW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNEMsQ0FBQzs7QUFFcUIsQ0FBQzs7QUFFbkU7QUFDQSxJQUFNRyxNQUFNLEdBQUdGLG9EQUFZLENBQUMsc0JBQXNCLENBQUM7QUFBQyxJQUU5Q0csb0JBQW9CLDBCQUFBQyxxQkFBQTtFQUN4QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0VBQ0UsU0FBQUQscUJBQVlFLE1BQU0sRUFBRTtJQUFBLElBQUFDLEtBQUE7SUFBQUMsaUZBQUEsT0FBQUosb0JBQUE7SUFDbEI7SUFDQTtJQUNBO0lBQ0FHLEtBQUEsR0FBQUUsVUFBQSxPQUFBTCxvQkFBQSxHQUFNO01BQ0pNLFFBQVEsRUFBRSxJQUFJO01BQ2RDLGtCQUFrQixFQUFFTCxNQUFNLENBQUNNLGlCQUFpQjtNQUM1Q0MsWUFBWSxFQUFFUCxNQUFNLENBQUNRO0lBQ3ZCLENBQUM7SUFFRFAsS0FBQSxDQUFLRCxNQUFNLEdBQUdBLE1BQU0sQ0FBQyxDQUFDOztJQUV0QjtJQUNBO0lBQ0FDLEtBQUEsQ0FBS1EsU0FBUyxHQUFHO01BQ2ZDLGVBQWUsRUFBRVYsTUFBTSxDQUFDVSxlQUFlO01BQ3ZDQyxnQkFBZ0IsRUFBRVgsTUFBTSxDQUFDVztNQUN6QjtJQUNGLENBQUM7SUFFRFYsS0FBQSxDQUFLVyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUM7O0lBRXhCO0lBQ0EsSUFBSSxDQUFDWCxLQUFBLENBQUtRLFNBQVMsQ0FBQ0MsZUFBZSxJQUFJLENBQUNULEtBQUEsQ0FBS1EsU0FBUyxDQUFDRSxnQkFBZ0IsRUFBRTtNQUN2RTtNQUNBO01BQ0E7SUFBQTs7SUFHRjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFBQSxPQUFBVixLQUFBO0VBQ0Y7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFIRVks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RUFBQTtBQUFBLEVBbmlCaUN0SCxpRUFBd0I7QUFzaUIzRCwrREFBZUUsb0JBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvZHVjdC1lc3RpbWF0b3IvLi9zcmMvanMvYWRtaW4vY29tbW9uL1ZlcnRpY2FsVGFiYmVkTW9kdWxlLmpzP2JhMWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBWZXJ0aWNhbFRhYmJlZE1vZHVsZS5qc1xuICpcbiAqIEJhc2UgY2xhc3MgZm9yIHNldHRpbmdzIG1vZHVsZXMgdGhhdCB1c2UgYSB2ZXJ0aWNhbCB0YWJiZWQgaW50ZXJmYWNlLlxuICogSGFuZGxlcyBjb21tb24gdmVydGljYWwgdGFiIG5hdmlnYXRpb24sIEFKQVggZm9ybSBzdWJtaXNzaW9uLCBhbmQgc3RhdGUgbWFuYWdlbWVudC5cbiAqIEV4dGVuZHMgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzLlxuICovXG5pbXBvcnQgeyBhamF4LCBjcmVhdGVMb2dnZXIgfSBmcm9tICdAdXRpbHMnOyAvLyBJbXBvcnQgYWpheCB1dGlsaXR5IGFuZCBsb2dnZXIgY3JlYXRvclxuXG5pbXBvcnQgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIGZyb20gJy4vUHJvZHVjdEVzdGltYXRvclNldHRpbmdzJzsgLy8gQWRqdXN0IHBhdGggaWYgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIGlzIGluIGEgZGlmZmVyZW50IGRpcmVjdG9yeVxuXG4vLyBNb2R1bGUtc3BlY2lmaWMgbG9nZ2VyLiBDYW4gYmUgdGhpcy5sb2dnZXIgaWYgcHJlZmVycmVkIGFuZCBpbml0aWFsaXplZCBpbiBjb25zdHJ1Y3Rvci5cbmNvbnN0IGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcignVmVydGljYWxUYWJiZWRNb2R1bGUnKTtcblxuY2xhc3MgVmVydGljYWxUYWJiZWRNb2R1bGUgZXh0ZW5kcyBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3Mge1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIHRoZSBWZXJ0aWNhbFRhYmJlZE1vZHVsZS5cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciB0aGUgbW9kdWxlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLm1haW5UYWJJZCAtIFRoZSBJRCBvZiB0aGUgbWFpbiBob3Jpem9udGFsIHRhYiBmb3IgdGhpcyBtb2R1bGUgKGUuZy4sICdsYWJlbHMnLCAnbm90aWZpY2F0aW9ucycpLiBUaGlzIGlzIHBhc3NlZCBhcyBkZWZhdWx0VGFiSWQgdG8gUHJvZHVjdEVzdGltYXRvclNldHRpbmdzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmRlZmF1bHRTdWJUYWJJZCAtIFRoZSBkZWZhdWx0IHZlcnRpY2FsIHN1Yi10YWIgdG8gc2hvdyBpZiBub25lIGlzIHNwZWNpZmllZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5hamF4QWN0aW9uUHJlZml4IC0gVGhlIHByZWZpeCBmb3IgQUpBWCBzYXZlIGFjdGlvbnMgKGUuZy4sICdzYXZlX2xhYmVscycgZm9yICdzYXZlX2xhYmVsc19zZXR0aW5ncycpLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmxvY2FsaXplZERhdGFOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGdsb2JhbCBvYmplY3QgaG9sZGluZyBsb2NhbGl6ZWQgZGF0YSBmb3IgdGhpcyBtb2R1bGUgKGUuZy4sICdsYWJlbFNldHRpbmdzRGF0YScpLiBUaGlzIGlzIHBhc3NlZCBhcyBzZXR0aW5nc09iamVjdE5hbWUgdG8gUHJvZHVjdEVzdGltYXRvclNldHRpbmdzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgLy8gQ2FsbCB0aGUgcGFyZW50IGNvbnN0cnVjdG9yIChQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MpXG4gICAgLy8gbWFwIG1haW5UYWJJZCB0byBkZWZhdWx0VGFiSWQgZm9yIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncycgbW9kdWxlIG1vZGVcbiAgICAvLyBtYXAgbG9jYWxpemVkRGF0YU5hbWUgdG8gc2V0dGluZ3NPYmplY3ROYW1lXG4gICAgc3VwZXIoe1xuICAgICAgaXNNb2R1bGU6IHRydWUsXG4gICAgICBzZXR0aW5nc09iamVjdE5hbWU6IGNvbmZpZy5sb2NhbGl6ZWREYXRhTmFtZSxcbiAgICAgIGRlZmF1bHRUYWJJZDogY29uZmlnLm1haW5UYWJJZCxcbiAgICB9KTtcblxuICAgIHRoaXMuY29uZmlnID0gY29uZmlnOyAvLyA8PDw8IEFERCBUSElTIExJTkVcblxuICAgIC8vIFN0b3JlIFZUTS1zcGVjaWZpYyBjb25maWd1cmF0aW9uLlxuICAgIC8vIHRoaXMuc2V0dGluZ3MgaXMgcG9wdWxhdGVkIGJ5IHRoZSBzdXBlcigpIGNhbGwgd2l0aCBhamF4VXJsLCBub25jZSwgaTE4biwgdGFiX2lkICh3aGljaCBpcyBtYWluVGFiSWQpXG4gICAgdGhpcy52dG1Db25maWcgPSB7XG4gICAgICBkZWZhdWx0U3ViVGFiSWQ6IGNvbmZpZy5kZWZhdWx0U3ViVGFiSWQsXG4gICAgICBhamF4QWN0aW9uUHJlZml4OiBjb25maWcuYWpheEFjdGlvblByZWZpeCxcbiAgICAgIC8vIG1haW5UYWJJZCBhbmQgbG9jYWxpemVkRGF0YU5hbWUgYXJlIGF2YWlsYWJsZSB2aWEgdGhpcy5zZXR0aW5ncy50YWJfaWQgYW5kIHRoaXMuc2V0dGluZ3NPYmplY3ROYW1lIHJlc3BlY3RpdmVseVxuICAgIH07XG5cbiAgICB0aGlzLiRjb250YWluZXIgPSBudWxsOyAvLyBXaWxsIGJlIGpRdWVyeSBvYmplY3QgZm9yIGAjbWFpblRhYklkYFxuXG4gICAgLy8gVmFsaWRhdGUgVlRNLXNwZWNpZmljIGNvbmZpZyBwYXJ0cyB0aGF0IGFyZSBub3QgY292ZXJlZCBieSBzdXBlcidzIGltcGxpY2l0IHZhbGlkYXRpb24gdmlhIHNldHRpbmdzT2JqZWN0TmFtZS9kZWZhdWx0VGFiSWRcbiAgICBpZiAoIXRoaXMudnRtQ29uZmlnLmRlZmF1bHRTdWJUYWJJZCB8fCAhdGhpcy52dG1Db25maWcuYWpheEFjdGlvblByZWZpeCkge1xuICAgICAgLy8gVGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdvdWxkIGhhdmUgYWxyZWFkeSBydW4sIGJ1dCB0aGlzIG1vZHVsZSBtaWdodCBub3QgZnVuY3Rpb24gY29ycmVjdGx5LlxuICAgICAgLy8gTm8gZXhwbGljaXQgcmV0dXJuIGhlcmUgYXMgc3VwZXIoKSBkb2Vzbid0IGFsbG93IHJldHVybiBiZWZvcmUgaXQuXG4gICAgICAvLyBUaGUgbW9kdWxlSW5pdCB3aWxsIGxpa2VseSBmYWlsIG9yIG5vdCBydW4gYXMgZXhwZWN0ZWQgaWYgJGNvbnRhaW5lciBpc24ndCBmb3VuZCBvciBpZiB0aGVzZSBjb25maWdzIGFyZSB2aXRhbCBlYXJseS5cbiAgICB9XG5cbiAgICAvLyBOb3RlOiBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KCkgYW5kIGNhbGxpbmcgbW9kdWxlSW5pdCgpIGlzIGhhbmRsZWQgYnkgdGhlIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBiYXNlIGNsYXNzLlxuICAgIC8vIHRoaXMuc2V0dGluZ3MgKGZvcm1lcmx5IHRoaXMubG9jYWxpemVkRGF0YSkgaXMgaW5pdGlhbGl6ZWQgYnkgc3VwZXIoKS5cbiAgICAvLyBGYWxsYmFja3MgZm9yIG5vbmNlIGFuZCBhamF4X3VybCB3aXRoaW4gdGhpcy5zZXR0aW5ncyBhcmUgaGFuZGxlZCBieSBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MuXG4gICAgLy8gVGhlIHNwZWNpZmljIFZUTSBmYWxsYmFjayBmcm9tIHdpbmRvdy5wcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgZm9yIG5vbmNlL2FqYXhfdXJsIG1pZ2h0IG5lZWQgcmV2aWV3XG4gICAgLy8gaWYgdGhlIGJhc2UgY2xhc3MncyBmYWxsYmFjayAoZnJvbSBhamF4dXJsIGdsb2JhbCBvciBkaXJlY3QgcHJvcGVydGllcykgaXNuJ3Qgc3VmZmljaWVudC5cbiAgICAvLyBGb3Igbm93LCBhc3N1bWUgYmFzZSBjbGFzcyBoYW5kbGVzIGl0LlxuICB9XG5cbiAgLyoqXG4gICAqIE1vZHVsZS1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiwgY2FsbGVkIGJ5IFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBvbiBkb2N1bWVudC5yZWFkeS5cbiAgICogT3ZlcnJpZGRlbiBmcm9tIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5cbiAgICovXG4gIG1vZHVsZUluaXQoKSB7XG4gICAgLy8gdGhpcy5zZXR0aW5ncy50YWJfaWQgaXMgdGhlIG1haW5UYWJJZCBmb3IgdGhpcyBWVE0gaW5zdGFuY2VcbiAgICB0aGlzLiRjb250YWluZXIgPSB0aGlzLiQoYCMke3RoaXMuc2V0dGluZ3MudGFiX2lkfWApO1xuXG4gICAgaWYgKCF0aGlzLiRjb250YWluZXIubGVuZ3RoKSB7XG4gICAgICAvLyBPcHRpb25hbGx5IHNob3cgYSBnbG9iYWwgbm90aWNlIGlmIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBpbnN0YW5jZSBpcyBhdmFpbGFibGVcbiAgICAgIGlmICh3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2UpIHtcbiAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoYEVycm9yOiBVSSBjb250YWluZXIgZm9yICcke3RoaXMuc2V0dGluZ3MudGFiX2lkfScgc2V0dGluZ3Mgbm90IGZvdW5kLiBTb21lIGZlYXR1cmVzIG1pZ2h0IGJlIHVuYXZhaWxhYmxlLmAsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuOyAvLyBIYWx0IGluaXRpYWxpemF0aW9uIGlmIGNvbnRhaW5lciBpcyBtaXNzaW5nXG4gICAgfVxuXG4gICAgdGhpcy5iaW5kQ29tbW9uVlRNRXZlbnRzKCk7IC8vIFJlbmFtZWQgZnJvbSBiaW5kQ29tbW9uRXZlbnRzIHRvIGF2b2lkIGNsYXNoIGlmIGJhc2UgaGFzIGl0XG4gICAgdGhpcy5iaW5kTW9kdWxlU3BlY2lmaWNFdmVudHMoKTsgLy8gSG9vayBmb3IgY2hpbGQgY2xhc3NlcyAoZS5nLiwgQWRtaW5UYWJsZU1hbmFnZXIpXG5cbiAgICAvLyBJZiB0aGlzIG1vZHVsZSdzIG1haW4gdGFiIGlzIHRoZSBjdXJyZW50bHkgYWN0aXZlIG1haW4gdGFiIGluIHRoZSBVSVxuICAgIC8vIEFjY2VzcyBjdXJyZW50VGFiIGZyb20gdGhlIGdsb2JhbCBvcmNoZXN0cmF0b3IgaW5zdGFuY2UgaWYgYXZhaWxhYmxlXG4gICAgY29uc3Qgb3JjaGVzdHJhdG9yID0gd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlO1xuICAgIGlmIChvcmNoZXN0cmF0b3IgJiYgb3JjaGVzdHJhdG9yLmN1cnJlbnRUYWIgPT09IHRoaXMuc2V0dGluZ3MudGFiX2lkKSB7XG4gICAgICAvLyBVc2UgYSBzbWFsbCB0aW1lb3V0IHRvIGVuc3VyZSB0aGUgRE9NIGlzIGZ1bGx5IHNldHRsZWQsIGVzcGVjaWFsbHkgaWYgdGFiIGNvbnRlbnQgd2FzIGp1c3Qgc2hvd25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnNldHVwVmVydGljYWxUYWJzKCk7XG4gICAgICAgIHRoaXMub25NYWluVGFiQWN0aXZhdGVkKCk7IC8vIEhvb2sgZm9yIGNoaWxkIGNsYXNzZXNcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmRzIGV2ZW50IGhhbmRsZXJzIGNvbW1vbiB0byBWZXJ0aWNhbFRhYmJlZE1vZHVsZXMuXG4gICAqL1xuICBiaW5kQ29tbW9uVlRNRXZlbnRzKCkge1xuICAgIC8vIExpc3RlbiBmb3IgZ2xvYmFsIG1haW4gdGFiIGNoYW5nZXMgKGhhbmRsZWQgYnkgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIG9yY2hlc3RyYXRvcilcbiAgICAvLyBUaGlzIGV2ZW50IGlzIHRyaWdnZXJlZCBieSB0aGUgb3JjaGVzdHJhdG9yLlxuICAgIHRoaXMuJChkb2N1bWVudCkub24oJ3Byb2R1Y3RfZXN0aW1hdG9yX3RhYl9jaGFuZ2VkJywgdGhpcy5oYW5kbGVNYWluVGFiQ2hhbmdlZC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIEZvcm0gc3VibWlzc2lvbiBmb3IgZm9ybXMgd2l0aGluIHRoaXMgbW9kdWxlIHRoYXQgYXJlIHNwZWNpZmljYWxseSBmb3IgVlRNIGhhbmRsaW5nXG4gICAgLy8gVGhlc2UgZm9ybXMgc2hvdWxkIGhhdmUgY2xhc3MgJ3BlLXZ0YWJzLXRhYi1mb3JtJ1xuICAgIHRoaXMuJGNvbnRhaW5lci5vbignc3VibWl0LnZ0bScsICdmb3JtLnBlLXZ0YWJzLXRhYi1mb3JtJywgdGhpcy5oYW5kbGVWVE1Gb3JtU3VibWl0LmJpbmQodGhpcykpO1xuXG4gICAgLy8gQ2xpY2sgaGFuZGxpbmcgZm9yIHZlcnRpY2FsIHRhYiBuYXZpZ2F0aW9uIGxpbmtzIC0gdXNlIHNlbGVjdG9ycyBmcm9tIFBIUCdzIGdldF9jb21tb25fc2NyaXB0X2RhdGFcbiAgICAvLyBFTkhBTkNFTUVOVDogVXNlIGEgdmVyeSBicm9hZCBzZWxlY3RvciB0aGF0IHdpbGwgY2F0Y2ggYWxsIHBvc3NpYmxlIHRhYiBsaW5rc1xuICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMudmVydGljYWxUYWJOYXYgfHwgJy5wZS12dGFicy1uYXYtbGlzdCwgLnZlcnRpY2FsLXRhYnMtbmF2JztcblxuICAgIC8vIFVzZSBhIG1vcmUgcm9idXN0IHNlbGVjdG9yIHRoYXQgd2lsbCBjYXRjaCBhbnkgbGlua3MgaW4gdGhlIG5hdiBhcmVhXG4gICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljay52dG0nLCBgJHtuYXZTZWxlY3Rvcn0gYSwgLnBlLXZ0YWJzLW5hdi1pdGVtIGEsIC50YWItaXRlbSBhYCwgdGhpcy5oYW5kbGVWZXJ0aWNhbFRhYkNsaWNrLmJpbmQodGhpcykpO1xuXG4gICAgLy8gRml4IGRhdGEgYXR0cmlidXRlcyBvbiB0YWIgbGlua3MgZHVyaW5nIGJpbmRpbmcgcGhhc2VcbiAgICB0aGlzLnNldFRhYkF0dHJpYnV0ZXNPbkxpbmtzKCk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGRhdGEtdGFiIGF0dHJpYnV0ZXMgb24gYW55IHRhYiBsaW5rcyB0aGF0IGFyZSBtaXNzaW5nIHRoZW0uXG4gICAqIFRoaXMgZW5zdXJlcyBhbGwgbGlua3MgaGF2ZSBjb25zaXN0ZW50IGRhdGEgYXR0cmlidXRlcy5cbiAgICovXG4gIHNldFRhYkF0dHJpYnV0ZXNPbkxpbmtzKCkge1xuICAgIC8vIEZpbmQgYWxsIHBvdGVudGlhbCB0YWIgbGlua3NcbiAgICBjb25zdCBuYXZTZWxlY3RvciA9IHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzLnZlcnRpY2FsVGFiTmF2IHx8ICcucGUtdnRhYnMtbmF2LWxpc3QsIC52ZXJ0aWNhbC10YWJzLW5hdic7XG4gICAgY29uc3QgJG5hdkxpbmtzID0gdGhpcy4kY29udGFpbmVyLmZpbmQoYCR7bmF2U2VsZWN0b3J9IGFgKTtcblxuXG4gICAgLy8gRm9yIGVhY2ggbGluaywgZW5zdXJlIGl0IGhhcyB0aGUgcHJvcGVyIGRhdGEtdGFiIGF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgVVJMXG4gICAgJG5hdkxpbmtzLmVhY2goKGksIGxpbmspID0+IHtcbiAgICAgIGNvbnN0ICRsaW5rID0gdGhpcy4kKGxpbmspO1xuICAgICAgY29uc3QgaHJlZiA9ICRsaW5rLmF0dHIoJ2hyZWYnKSB8fCAnJztcblxuICAgICAgLy8gSWYgbm8gZGF0YS10YWIgYXR0cmlidXRlIGJ1dCB0aGUgaHJlZiBoYXMgc3ViX3RhYiBwYXJhbWV0ZXJcbiAgICAgIGlmICghJGxpbmsuYXR0cignZGF0YS10YWInKSAmJiBocmVmLmluY2x1ZGVzKCdzdWJfdGFiPScpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gaHJlZi5tYXRjaCgvWz8mXXN1Yl90YWI9KFteJiNdKikvaSk7XG4gICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xuICAgICAgICAgIGNvbnN0IHN1YlRhYklkID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbiAgICAgICAgICAkbGluay5hdHRyKCdkYXRhLXRhYicsIHN1YlRhYklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBsYWNlaG9sZGVyIGZvciBtb2R1bGUtc3BlY2lmaWMgZXZlbnQgYmluZGluZ3MuIE92ZXJyaWRlIGluIGNoaWxkIGNsYXNzZXMuXG4gICAqIENoaWxkIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZCB0byBiaW5kIHRoZWlyIG93biBzcGVjaWZpYyBldmVudHMuXG4gICAqIEZvciBleGFtcGxlLCBBZG1pblRhYmxlTWFuYWdlciB1c2VzIHRoaXMgdG8gYmluZCB0YWJsZS9mb3JtIGV2ZW50cy5cbiAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGR1cmluZyBpbml0aWFsaXphdGlvbiBhZnRlciBjb21tb24gZXZlbnRzIGFyZSBib3VuZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBiaW5kTW9kdWxlU3BlY2lmaWNFdmVudHMoKSB7XG4gICAgLy8gQ2hpbGQgY2xhc3NlcyBsaWtlIEFkbWluVGFibGVNYW5hZ2VyIHdpbGwgb3ZlcnJpZGUgdGhpcyB0byBiaW5kIHRoZWlyIG93biBzcGVjaWZpYyBldmVudHMuXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2R1bGUncyBtYWluIGhvcml6b250YWwgdGFiIGJlY29tZXMgYWN0aXZlLlxuICAgKiBDaGlsZCBjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBpbXBsZW1lbnQgc3BlY2lmaWMgYWN0aXZhdGlvbiBsb2dpYy5cbiAgICogVGhpcyBpcyB0aGUgaWRlYWwgcGxhY2UgdG8gcmVmcmVzaCBvciBpbml0aWFsaXplIGNvbXBvbmVudHMgdGhhdCBuZWVkIHRvIGJlXG4gICAqIHZpc2libGUgd2hlbiB0aGUgdGFiIGlzIHNob3duLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIG9uTWFpblRhYkFjdGl2YXRlZCgpIHtcbiAgICAvLyBDaGlsZCBjbGFzc2VzIGNhbiBpbXBsZW1lbnQgc3BlY2lmaWMgbG9naWMgaGVyZS5cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGlzIG1vZHVsZSdzIG1haW4gaG9yaXpvbnRhbCB0YWIgYmVjb21lcyBpbmFjdGl2ZS5cbiAgICogQ2hpbGQgY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW1wbGVtZW50IHNwZWNpZmljIGRlYWN0aXZhdGlvbiBsb2dpYy5cbiAgICogVGhpcyBpcyB0aGUgaWRlYWwgcGxhY2UgdG8gY2xlYW4gdXAgcmVzb3VyY2VzIG9yIHBhdXNlIHByb2Nlc3NlcyB3aGVuIHRoZSB0YWJcbiAgICogaXMgbm8gbG9uZ2VyIHZpc2libGUuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgb25NYWluVGFiRGVhY3RpdmF0ZWQoKSB7XG4gICAgLy8gQ2hpbGQgY2xhc3NlcyBjYW4gaW1wbGVtZW50IHNwZWNpZmljIGxvZ2ljIGhlcmUuXG4gIH1cblxuICBzZXR1cFZlcnRpY2FsVGFicygpIHtcbiAgICBpZiAoIXRoaXMuJGNvbnRhaW5lciB8fCAhdGhpcy4kY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVzZSBzZWxlY3RvcnMgZnJvbSBzZXR0aW5ncyB0aGF0IGFyZSBwcm92aWRlZCBieSBQSFAgdmlhIGdldF9jb21tb25fc2NyaXB0X2RhdGFcbiAgICBjb25zdCBuYXZTZWxlY3RvciA9IHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzLnZlcnRpY2FsVGFiTmF2IHx8ICcucGUtdnRhYnMtbmF2LWxpc3QsIC52ZXJ0aWNhbC10YWJzLW5hdic7XG4gICAgY29uc3QgY29udGVudFNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMudmVydGljYWxUYWJQYW5lIHx8ICcucGUtdnRhYnMtdGFiLXBhbmVsLCAudmVydGljYWwtdGFiLWNvbnRlbnQnO1xuXG4gICAgY29uc3QgJHZlcnRpY2FsVGFic05hdiA9IHRoaXMuJGNvbnRhaW5lci5maW5kKG5hdlNlbGVjdG9yKTtcbiAgICBjb25zdCAkdmVydGljYWxUYWJDb250ZW50cyA9IHRoaXMuJGNvbnRhaW5lci5maW5kKGNvbnRlbnRTZWxlY3Rvcik7XG5cbiAgICBpZiAoISR2ZXJ0aWNhbFRhYnNOYXYubGVuZ3RoIHx8ICEkdmVydGljYWxUYWJDb250ZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgYWxsIHRhYiBsaW5rcyBoYXZlIGRhdGEtdGFiIGF0dHJpYnV0ZXNcbiAgICAvLyBUaGlzIGVuc3VyZXMgZGF0YSBhdHRyaWJ1dGVzIGFyZSBhZGRlZCByaWdodCBiZWZvcmUgdGFiIGluaXRpYWxpemF0aW9uXG4gICAgdGhpcy5zZXRUYWJBdHRyaWJ1dGVzT25MaW5rcygpO1xuXG4gICAgbGV0IGFjdGl2ZVN1YlRhYklkID0gdGhpcy52dG1Db25maWcuZGVmYXVsdFN1YlRhYklkO1xuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgdXJsU3ViVGFiID0gdXJsUGFyYW1zLmdldCgnc3ViX3RhYicpO1xuXG4gICAgaWYgKHVybFN1YlRhYiAmJiAkdmVydGljYWxUYWJzTmF2LmZpbmQoYGFbZGF0YS10YWI9XCIke3VybFN1YlRhYn1cIl1gKS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZVN1YlRhYklkID0gdXJsU3ViVGFiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCAkcGhwQWN0aXZlTGluayA9ICR2ZXJ0aWNhbFRhYnNOYXYuZmluZCgnLnBlLXZ0YWJzLW5hdi1pdGVtLmFjdGl2ZSBhLCAudGFiLWl0ZW0uYWN0aXZlIGEnKTtcbiAgICAgIGlmICgkcGhwQWN0aXZlTGluay5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlU3ViVGFiSWQgPSAkcGhwQWN0aXZlTGluay5kYXRhKCd0YWInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoISR2ZXJ0aWNhbFRhYnNOYXYuZmluZChgYVtkYXRhLXRhYj1cIiR7YWN0aXZlU3ViVGFiSWR9XCJdYCkubGVuZ3RoKSB7XG4gICAgICBjb25zdCAkZmlyc3RUYWJMaW5rID0gJHZlcnRpY2FsVGFic05hdi5maW5kKCdhW2RhdGEtdGFiXScpLmZpcnN0KCk7XG4gICAgICBpZiAoJGZpcnN0VGFiTGluay5sZW5ndGgpIHtcbiAgICAgICAgYWN0aXZlU3ViVGFiSWQgPSAkZmlyc3RUYWJMaW5rLmRhdGEoJ3RhYicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc2hvd1ZlcnRpY2FsVGFiKGFjdGl2ZVN1YlRhYklkLCBmYWxzZSk7IC8vIGZhbHNlIHRvIHByZXZlbnQgaGlzdG9yeSB1cGRhdGUgb24gaW5pdGlhbCBsb2FkXG5cbiAgICB0aGlzLmFkanVzdFRhYkNvbnRlbnRIZWlnaHQoKTtcbiAgICAvLyBFbnN1cmUgcmVzaXplIGV2ZW50IGlzIG5hbWVzcGFjZWQgdG8gdGhpcyBtb2R1bGUgaW5zdGFuY2UgdG8gYXZvaWQgY29uZmxpY3RzXG4gICAgdGhpcy4kKHdpbmRvdykub2ZmKGByZXNpemUudnRtLiR7dGhpcy5zZXR0aW5ncy50YWJfaWR9YCkub24oYHJlc2l6ZS52dG0uJHt0aGlzLnNldHRpbmdzLnRhYl9pZH1gLCB0aGlzLmFkanVzdFRhYkNvbnRlbnRIZWlnaHQuYmluZCh0aGlzKSk7XG4gIH1cblxuICBoYW5kbGVWZXJ0aWNhbFRhYkNsaWNrKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgJHRhcmdldExpbmsgPSB0aGlzLiQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAgIC8vIE11bHRpcGxlIHdheXMgdG8gZ2V0IHRoZSBzdWJUYWJJZCwgd2l0aCBmYWxsYmFja3NcbiAgICBsZXQgc3ViVGFiSWQgPSBudWxsO1xuICAgIGNvbnN0IGVsZW1lbnQgPSAkdGFyZ2V0TGlua1swXTtcblxuICAgIC8vIERpcmVjdCBET00gYXR0cmlidXRlIGFjY2VzcyAtIG1vc3QgcmVsaWFibGUgZm9yIGVsZW1lbnRzIHdpdGggZGF0YS0qIGF0dHJpYnV0ZXNcbiAgICBjb25zdCBkb21UYWJBdHRyID0gZWxlbWVudCA/IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRhYicpIDogbnVsbDtcbiAgICBpZiAoZG9tVGFiQXR0cikge1xuICAgICAgc3ViVGFiSWQgPSBkb21UYWJBdHRyO1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgZGF0YS10YWJpZCBhdHRyaWJ1dGVcbiAgICBlbHNlIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLXRhYmlkJykpIHtcbiAgICAgIHN1YlRhYklkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiaWQnKTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlIGEgc3ViVGFiSWQgZnJvbSBhbnkgb2YgdGhlIGRhdGEtKiBhdHRyaWJ1dGVzXG4gICAgaWYgKHN1YlRhYklkKSB7XG4gICAgICB0aGlzLnNob3dWZXJ0aWNhbFRhYihzdWJUYWJJZCwgdHJ1ZSk7IC8vIHRydWUgdG8gdXBkYXRlIGhpc3RvcnlcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBObyBkYXRhLSogYXR0cmlidXRlcyBmb3VuZCwgdHJ5IHRoZSBVUkwgYXMgbGFzdCByZXNvcnRcbiAgICAvLyBUSElTIElTIFRIRSBNT1NUIElNUE9SVEFOVCBGQUxMQkFDSyAtIHdlIHByaW9yaXRpemUgdGhpcyBhcHByb2FjaCBmb3IgbW9yZSByZWxpYWJpbGl0eVxuICAgIGNvbnN0IGhyZWYgPSAkdGFyZ2V0TGluay5hdHRyKCdocmVmJyk7XG5cbiAgICAvLyBEaXJlY3QgcmVnZXggZXh0cmFjdGlvbiBmb3Igc3ViX3RhYiBwYXJhbWV0ZXIgLSBtb3N0IHJlbGlhYmxlIG1ldGhvZFxuICAgIC8vIFRoaXMgd29ya3MgZXZlbiB3aGVuIFVSTCBpcyByZWxhdGl2ZSBvciBtYWxmb3JtZWRcbiAgICBpZiAoaHJlZikge1xuICAgICAgY29uc3Qgc3ViVGFiTWF0Y2ggPSBocmVmLm1hdGNoKC9bPyZdc3ViX3RhYj0oW14mI10qKS9pKTtcbiAgICAgIGlmIChzdWJUYWJNYXRjaCAmJiBzdWJUYWJNYXRjaFsxXSkge1xuICAgICAgICBjb25zdCBzdWJUYWJGcm9tUmVnZXggPSBkZWNvZGVVUklDb21wb25lbnQoc3ViVGFiTWF0Y2hbMV0ucmVwbGFjZSgvXFwrL2csICcgJykpO1xuICAgICAgICB0aGlzLnNob3dWZXJ0aWNhbFRhYihzdWJUYWJGcm9tUmVnZXgsIHRydWUpO1xuXG4gICAgICAgIC8vIEZpeCB0aGUgZGF0YS10YWIgYXR0cmlidXRlIGZvciBmdXR1cmUgY2xpY2tzXG4gICAgICAgICR0YXJnZXRMaW5rLmF0dHIoJ2RhdGEtdGFiJywgc3ViVGFiRnJvbVJlZ2V4KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBBcyBhIGJhY2t1cCwgdHJ5IHN0YW5kYXJkIFVSTCBwYXJzaW5nXG4gICAgICBpZiAoaHJlZi5pbmNsdWRlcygnc3ViX3RhYj0nKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGhyZWZVcmwgPSBuZXcgVVJMKGhyZWYsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICAgICAgICAgIGNvbnN0IHN1YlRhYkZyb21IcmVmID0gaHJlZlVybC5zZWFyY2hQYXJhbXMuZ2V0KCdzdWJfdGFiJyk7XG4gICAgICAgICAgaWYgKHN1YlRhYkZyb21IcmVmKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dWZXJ0aWNhbFRhYihzdWJUYWJGcm9tSHJlZiwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBGaXggdGhlIGRhdGEtdGFiIGF0dHJpYnV0ZSB0byBwcmV2ZW50IGZ1dHVyZSBpc3N1ZXNcbiAgICAgICAgICAgICR0YXJnZXRMaW5rLmF0dHIoJ2RhdGEtdGFiJywgc3ViVGFiRnJvbUhyZWYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIElmIFVSTCBwYXJzaW5nIGZhaWxzLCB0cnkgYSBtb3JlIGRpcmVjdCBhcHByb2FjaCB3aXRoIFVSTFNlYXJjaFBhcmFtc1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IGhyZWYuc3BsaXQoJz8nKVsxXTtcbiAgICAgICAgICAgIGlmIChxdWVyeVN0cmluZykge1xuICAgICAgICAgICAgICBjb25zdCBzdWJUYWJGcm9tSHJlZiA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpLmdldCgnc3ViX3RhYicpO1xuICAgICAgICAgICAgICBpZiAoc3ViVGFiRnJvbUhyZWYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dWZXJ0aWNhbFRhYihzdWJUYWJGcm9tSHJlZiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gRml4IHRoZSBkYXRhLXRhYiBhdHRyaWJ1dGUgdG8gcHJldmVudCBmdXR1cmUgaXNzdWVzXG4gICAgICAgICAgICAgICAgJHRhcmdldExpbmsuYXR0cignZGF0YS10YWInLCBzdWJUYWJGcm9tSHJlZik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgcGFyc2luZyBVUkwgb3IgcXVlcnkgc3RyaW5nOicsIGUyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGp1c3RUYWJDb250ZW50SGVpZ2h0KCkge1xuICAgIGlmICghdGhpcy4kY29udGFpbmVyIHx8ICF0aGlzLiRjb250YWluZXIubGVuZ3RoKSByZXR1cm47XG5cbiAgICAvLyBVc2UgcHJvdmlkZWQgc2VsZWN0b3JzIHdpdGggZmFsbGJhY2tzXG4gICAgY29uc3QgbmF2QXJlYVNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMudmVydGljYWxUYWJOYXZBcmVhIHx8ICcucGUtdnRhYnMtbmF2LWFyZWEsIC52ZXJ0aWNhbC10YWJzJztcbiAgICBjb25zdCBjb250ZW50QXJlYVNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMudmVydGljYWxUYWJDb250ZW50QXJlYSB8fCAnLnBlLXZ0YWJzLWNvbnRlbnQtYXJlYSwgLnZlcnRpY2FsLXRhYnMtY29udGVudCc7XG5cbiAgICBjb25zdCAkbmF2ID0gdGhpcy4kY29udGFpbmVyLmZpbmQobmF2QXJlYVNlbGVjdG9yKTtcbiAgICBjb25zdCAkY29udGVudFdyYXBwZXIgPSB0aGlzLiRjb250YWluZXIuZmluZChjb250ZW50QXJlYVNlbGVjdG9yKTtcblxuICAgIGlmICgkbmF2Lmxlbmd0aCAmJiAkY29udGVudFdyYXBwZXIubGVuZ3RoKSB7XG4gICAgICBjb25zdCBuYXZIZWlnaHQgPSAkbmF2Lm91dGVySGVpZ2h0KCk7XG4gICAgICBpZiAobmF2SGVpZ2h0KSB7IC8vIEVuc3VyZSBuYXZIZWlnaHQgaXMgYSB2YWxpZCBudW1iZXJcbiAgICAgICAgJGNvbnRlbnRXcmFwcGVyLmNzcygnbWluLWhlaWdodCcsIG5hdkhlaWdodCArICdweCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3dWZXJ0aWNhbFRhYihzdWJUYWJJZCwgdXBkYXRlSGlzdG9yeSA9IHRydWUpIHtcbiAgICBpZiAoIXRoaXMuJGNvbnRhaW5lciB8fCAhdGhpcy5zZXR0aW5ncy50YWJfaWQgfHwgIXN1YlRhYklkKSB7XG4gICAgICBsb2dnZXIud2FybignVmVydGljYWxUYWJiZWRNb2R1bGU6IENhbm5vdCBzaG93IHZlcnRpY2FsIHRhYiBkdWUgdG8gbWlzc2luZyBjb250YWluZXIsIG1haW5UYWJJZCwgb3Igc3ViVGFiSWQuJywge1xuICAgICAgICBjb250YWluZXJFeGlzdHM6ICEhdGhpcy4kY29udGFpbmVyPy5sZW5ndGgsXG4gICAgICAgIG1haW5UYWJJZDogdGhpcy5zZXR0aW5ncy50YWJfaWQsXG4gICAgICAgIHN1YlRhYklkOiBzdWJUYWJJZFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVXNlIHNoYXJlZCBzZWxlY3RvcnMgZnJvbSBzZXR0aW5ncyB3aXRoIGZhbGxiYWNrc1xuICAgIGNvbnN0IG5hdlNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMudmVydGljYWxUYWJOYXYgfHwgJy5wZS12dGFicy1uYXYtbGlzdCwgLnZlcnRpY2FsLXRhYnMtbmF2JztcbiAgICBjb25zdCBjb250ZW50U2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLnNlbGVjdG9ycy52ZXJ0aWNhbFRhYlBhbmUgfHwgJy5wZS12dGFicy10YWItcGFuZWwsIC52ZXJ0aWNhbC10YWItY29udGVudCc7XG4gICAgY29uc3QgbmF2SXRlbVNlbGVjdG9yID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMudmVydGljYWxUYWJOYXZJdGVtIHx8ICcucGUtdnRhYnMtbmF2LWl0ZW0sIC50YWItaXRlbSc7XG5cbiAgICBjb25zdCAkdmVydGljYWxUYWJzTmF2ID0gdGhpcy4kY29udGFpbmVyLmZpbmQobmF2U2VsZWN0b3IpO1xuICAgIGNvbnN0ICR2ZXJ0aWNhbFRhYkNvbnRlbnRzID0gdGhpcy4kY29udGFpbmVyLmZpbmQoY29udGVudFNlbGVjdG9yKTtcblxuICAgIC8vIFJlbW92ZSBhY3RpdmUgY2xhc3MgZnJvbSBhbGwgbmF2IGl0ZW1zXG4gICAgJHZlcnRpY2FsVGFic05hdi5maW5kKG5hdkl0ZW1TZWxlY3RvcikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgLy8gRmluZCB0aGUgdGFiIGxpbmsgZGlyZWN0bHkgdXNpbmcgZGF0YSBhdHRyaWJ1dGVcbiAgICBsZXQgJGFjdGl2ZUxpbmsgPSAkdmVydGljYWxUYWJzTmF2LmZpbmQoYGFbZGF0YS10YWI9XCIke3N1YlRhYklkfVwiXWApO1xuXG4gICAgLy8gSWYgbm90IGZvdW5kLCB0cnkgb3RoZXIgd2F5cyB0byBmaW5kIHRoZSBsaW5rXG4gICAgaWYgKCEkYWN0aXZlTGluay5sZW5ndGgpIHtcbiAgICAgIC8vIExvb2sgZm9yIGxpbmtzIHdpdGggbWF0Y2hpbmcgaHJlZiBjb250YWluaW5nIHRoZSB0YWIgSURcbiAgICAgICRhY3RpdmVMaW5rID0gJHZlcnRpY2FsVGFic05hdi5maW5kKGBhW2hyZWYqPVwic3ViX3RhYj0ke3N1YlRhYklkfVwiXWApO1xuXG4gICAgICAvLyBJZiBzdGlsbCBub3QgZm91bmQsIHRyeSBtb3JlIGFnZ3Jlc3NpdmUgbWF0Y2hpbmdcbiAgICAgIGlmICghJGFjdGl2ZUxpbmsubGVuZ3RoKSB7XG4gICAgICAgICR2ZXJ0aWNhbFRhYnNOYXYuZmluZCgnYScpLmVhY2goKGksIGxpbmspID0+IHtcbiAgICAgICAgICBjb25zdCAkbGluayA9IHRoaXMuJChsaW5rKTtcbiAgICAgICAgICBjb25zdCBocmVmID0gJGxpbmsuYXR0cignaHJlZicpIHx8ICcnO1xuXG4gICAgICAgICAgLy8gSWYgdGhpcyBsaW5rJ3MgaHJlZiBjb250YWlucyBvdXIgdGFiIElEXG4gICAgICAgICAgaWYgKGhyZWYuaW5jbHVkZXMoc3ViVGFiSWQpKSB7XG4gICAgICAgICAgICAkYWN0aXZlTGluayA9ICRsaW5rO1xuICAgICAgICAgICAgLy8gU2V0IHRoZSBkYXRhLXRhYiBhdHRyaWJ1dGUgdG8gZml4IGZ1dHVyZSBsb29rdXBzXG4gICAgICAgICAgICAkbGluay5hdHRyKCdkYXRhLXRhYicsIHN1YlRhYklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdyBhZGQgYWN0aXZlIGNsYXNzIHRvIHRoZSBwYXJlbnQgbGkgb2YgdGhlIGZvdW5kIGxpbmtcbiAgICBpZiAoJGFjdGl2ZUxpbmsubGVuZ3RoKSB7XG4gICAgICAkYWN0aXZlTGluay5jbG9zZXN0KG5hdkl0ZW1TZWxlY3RvcikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBObyBhY3RpdmUgbGluayBmb3VuZCAtIHRoaXMgaXMgT0sgaWYgdGhpcyBpcyB0aGUgaW5pdGlhbCBsb2FkXG4gICAgICAvLyBhbmQgd2UnbGwgc2VsZWN0IHRoZSBkZWZhdWx0IHRhYlxuICAgIH1cblxuICAgIC8vIEhpZGUgYW5kIGRlYWN0aXZhdGUgYWxsIHRhYiBjb250ZW50IHBhbmVsc1xuICAgICR2ZXJ0aWNhbFRhYkNvbnRlbnRzLmhpZGUoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAvLyBGaW5kIGFuZCBhY3RpdmF0ZSB0aGUgc2VsZWN0ZWQgY29udGVudCBwYW5lbFxuICAgIC8vIEZpcnN0IHRyeSBleGFjdCBJRCBtYXRjaFxuICAgIGNvbnN0IHNhbml0aXplZFRhYklkID0gc3ViVGFiSWQucmVwbGFjZSgvW15hLXpBLVowLTktX10vZywgJycpO1xuICAgIGxldCAkYWN0aXZlQ29udGVudFBhbmVsID0gdGhpcy4kY29udGFpbmVyLmZpbmQoYCMke3Nhbml0aXplZFRhYklkfWApO1xuXG4gICAgLy8gSWYgbm90IGZvdW5kLCB0cnkgbW9yZSBmbGV4aWJsZSBzZWxlY3RvcnNcbiAgICBpZiAoISRhY3RpdmVDb250ZW50UGFuZWwubGVuZ3RoKSB7XG4gICAgICAvLyBUcnkgcGFuZWwgd2l0aCBhIGNsYXNzIHRoYXQgY29udGFpbnMgdGhlIHRhYiBJRFxuICAgICAgJGFjdGl2ZUNvbnRlbnRQYW5lbCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKGAucGUtdnRhYnMtdGFiLXBhbmVsLSR7c2FuaXRpemVkVGFiSWR9LCBbZGF0YS10YWItaWQ9XCIke3Nhbml0aXplZFRhYklkfVwiXSwgW2RhdGEtdGFiLWNvbnRlbnQ9XCIke3Nhbml0aXplZFRhYklkfVwiXWApO1xuICAgIH1cblxuICAgIC8vIElmIHN0aWxsIG5vdCBmb3VuZCwgdHJ5IHNlYXJjaGluZyBmb3IgYSBwYW5lbCB0aGF0IGNvbnRhaW5zIHRoZSB0YWIgSUQgaW4gY2xhc3Mgb3IgaWRcbiAgICBpZiAoISRhY3RpdmVDb250ZW50UGFuZWwubGVuZ3RoKSB7XG4gICAgICAkYWN0aXZlQ29udGVudFBhbmVsID0gdGhpcy4kY29udGFpbmVyLmZpbmQoYFtpZCo9XCIke3Nhbml0aXplZFRhYklkfVwiXSwgW2NsYXNzKj1cIiR7c2FuaXRpemVkVGFiSWR9XCJdYCkuZmlsdGVyKCcucGUtdnRhYnMtdGFiLXBhbmVsLCAudmVydGljYWwtdGFiLWNvbnRlbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoJGFjdGl2ZUNvbnRlbnRQYW5lbC5sZW5ndGgpIHtcbiAgICAgICRhY3RpdmVDb250ZW50UGFuZWwuc2hvdygpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gbWF0Y2hpbmcgY29udGVudCBwYW5lbCBmb3VuZCB3aXRoIGRpcmVjdCBJRCAtIHRyeSBwYXJ0aWFsIG1hdGNoZXNcblxuICAgICAgLy8gTGFzdCByZXNvcnQ6IHRyeSB0byBmaW5kIGEgcGFuZWwgd2l0aCBhIHNpbWlsYXIgSUQvY2xhc3NcbiAgICAgIGNvbnN0IHBhcnRpYWxNYXRjaGVzID0gW107XG4gICAgICBjb25zdCBjb250ZW50UGFuZWxzID0gdGhpcy4kY29udGFpbmVyLmZpbmQoY29udGVudFNlbGVjdG9yKTtcbiAgICAgIGNvbnRlbnRQYW5lbHMuZWFjaCgoaSwgcGFuZWwpID0+IHtcbiAgICAgICAgY29uc3QgJHBhbmVsID0gdGhpcy4kKHBhbmVsKTtcbiAgICAgICAgY29uc3QgcGFuZWxJZCA9ICRwYW5lbC5hdHRyKCdpZCcpIHx8ICcnO1xuICAgICAgICBjb25zdCBwYW5lbENsYXNzID0gJHBhbmVsLmF0dHIoJ2NsYXNzJykgfHwgJyc7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgcGFuZWwgSUQgb3IgY2xhc3MgY29udGFpbnMgcGFydHMgb2YgdGhlIHRhYiBJRFxuICAgICAgICBpZiAocGFuZWxJZC5pbmNsdWRlcyhzYW5pdGl6ZWRUYWJJZC5zdWJzdHJpbmcoMCwgNSkpIHx8XG4gICAgICAgICAgICBwYW5lbENsYXNzLmluY2x1ZGVzKHNhbml0aXplZFRhYklkLnN1YnN0cmluZygwLCA1KSkpIHtcbiAgICAgICAgICBwYXJ0aWFsTWF0Y2hlcy5wdXNoKCRwYW5lbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGFydGlhbE1hdGNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgZXhhY3RseSBvbmUgcGFydGlhbCBtYXRjaCwgdXNlIGl0XG4gICAgICAgIHBhcnRpYWxNYXRjaGVzWzBdLnNob3coKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICB9IGVsc2UgaWYgKHBhcnRpYWxNYXRjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgcGFydGlhbE1hdGNoZXNbMF0uc2hvdygpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlSGlzdG9yeSkge1xuICAgICAgY29uc3QgY3VycmVudFVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgY3VycmVudFVybC5zZWFyY2hQYXJhbXMuc2V0KCdwYWdlJywgY3VycmVudFVybC5zZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJ3Byb2R1Y3QtZXN0aW1hdG9yLXNldHRpbmdzJyk7IC8vIEVuc3VyZSBwYWdlIHBhcmFtIGlzIHByZXNlbnRcbiAgICAgIGN1cnJlbnRVcmwuc2VhcmNoUGFyYW1zLnNldCgndGFiJywgdGhpcy5zZXR0aW5ncy50YWJfaWQpOyAvLyBtYWluIGhvcml6b250YWwgdGFiXG4gICAgICBjdXJyZW50VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3N1Yl90YWInLCBzdWJUYWJJZCk7IC8vIHZlcnRpY2FsIHN1Yi10YWJcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7IG1haW5UYWJJZDogdGhpcy5zZXR0aW5ncy50YWJfaWQsIHN1YlRhYklkOiBzdWJUYWJJZCB9LCAnJywgY3VycmVudFVybC50b1N0cmluZygpKTtcbiAgICB9XG4gICAgLy8gVHJpZ2dlciBhIHN1Yi10YWIgY2hhbmdlZCBldmVudCwgbmFtZXNwYWNlZCBieSB0aGUgbWFpbiB0YWIgSURcbiAgICB0aGlzLiQoZG9jdW1lbnQpLnRyaWdnZXIoYHBlX3N1Yl90YWJfY2hhbmdlZF8ke3RoaXMuc2V0dGluZ3MudGFiX2lkfWAsIFtzdWJUYWJJZF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIG1haW4gaG9yaXpvbnRhbCB0YWIgY2hhbmdlIGV2ZW50LlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gVGhlIGV2ZW50IG9iamVjdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld01haW5UYWJJZCAtIFRoZSBJRCBvZiB0aGUgbmV3bHkgYWN0aXZhdGVkIG1haW4gaG9yaXpvbnRhbCB0YWIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRNYWluVGFiSWQgLSBUaGUgSUQgb2YgdGhlIHByZXZpb3VzbHkgYWN0aXZlIG1haW4gaG9yaXpvbnRhbCB0YWIuXG4gICAqL1xuICBoYW5kbGVNYWluVGFiQ2hhbmdlZChlLCBuZXdNYWluVGFiSWQsIG9sZE1haW5UYWJJZCkge1xuICAgIGlmIChuZXdNYWluVGFiSWQgPT09IHRoaXMuc2V0dGluZ3MudGFiX2lkKSB7IC8vIElmIHRoaXMgVlRNJ3MgbWFpbiB0YWIgaXMgbm93IGFjdGl2ZVxuICAgICAgLy8gRW5zdXJlICRjb250YWluZXIgaXMgdmFsaWQsIGVzcGVjaWFsbHkgaWYgbW9kdWxlSW5pdCB3YXMgZGVmZXJyZWQgb3IgZmFpbGVkIHBhcnRpYWxseVxuICAgICAgaWYgKCF0aGlzLiRjb250YWluZXIgfHwgIXRoaXMuJGNvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gdGhpcy4kKGAjJHt0aGlzLnNldHRpbmdzLnRhYl9pZH1gKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLiRjb250YWluZXIubGVuZ3RoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyAvLyBVc2Ugc2V0VGltZW91dCB0byBlbnN1cmUgdGFiIGNvbnRlbnQgaXMgZnVsbHkgdmlzaWJsZSBhbmQgRE9NIHNldHRsZWRcbiAgICAgICAgICB0aGlzLnNldHVwVmVydGljYWxUYWJzKCk7IC8vIFJlLWluaXRpYWxpemUgb3IgZW5zdXJlIHZlcnRpY2FsIHRhYnMgYXJlIGNvcnJlY3RseSBzZXQgdXBcbiAgICAgICAgICB0aGlzLm9uTWFpblRhYkFjdGl2YXRlZCgpOyAvLyBDYWxsIGhvb2sgZm9yIGNoaWxkIGNsYXNzZXNcbiAgICAgICAgfSwgMTAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENvbnRhaW5lciBub3QgZm91bmQsIGxvZyBhIHdhcm5pbmdcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihgVmVydGljYWxUYWJiZWRNb2R1bGU6IENvbnRhaW5lciBmb3IgdGFiICcke3RoaXMuc2V0dGluZ3MudGFiX2lkfScgbm90IGZvdW5kIHdoZW4gYWN0aXZhdGluZyBtYWluIHRhYmApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob2xkTWFpblRhYklkID09PSB0aGlzLnNldHRpbmdzLnRhYl9pZCkgeyAvLyBJZiB0aGlzIFZUTSdzIG1haW4gdGFiIHdhcyBkZWFjdGl2YXRlZFxuICAgICAgdGhpcy5vbk1haW5UYWJEZWFjdGl2YXRlZCgpOyAvLyBDYWxsIGhvb2sgZm9yIGNoaWxkIGNsYXNzZXNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBBSkFYIGZvcm0gc3VibWlzc2lvbiBmb3IgZm9ybXMgd2l0aGluIHZlcnRpY2FsIHRhYnMuXG4gICAqIFRoZXNlIGZvcm1zIHNob3VsZCBoYXZlIHRoZSBjbGFzcyAncGUtdnRhYnMtdGFiLWZvcm0nIGFuZCBhICdkYXRhLXN1Yi10YWItaWQnIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHtFdmVudH0gZSAtIFN1Ym1pdCBldmVudC5cbiAgICovXG4gIGhhbmRsZVZUTUZvcm1TdWJtaXQoZSkge1xuICAgIGNvbnN0ICRmb3JtID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc3QgJHN1Ym1pdEJ1dHRvbiA9ICRmb3JtLmZpbmQoJy5zYXZlLXNldHRpbmdzLCBidXR0b25bdHlwZT1cInN1Ym1pdFwiXSwgaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgIGNvbnN0ICRzcGlubmVyID0gJGZvcm0uZmluZCgnLnNwaW5uZXInKS5maXJzdCgpOyAvLyBDb21tb24gc3Bpbm5lciBjbGFzc1xuXG4gICAgLy8gU2F2ZSBUaW55TUNFIGVkaXRvcnMgaWYgYW55XG4gICAgaWYgKHR5cGVvZiB0aW55TUNFICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgJGZvcm0uZmluZCgnLndwLWVkaXRvci1hcmVhJykuZWFjaCgoaWR4LCBlZGl0b3JBcmVhKSA9PiB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRpbnlNQ0UuZ2V0KHRoaXMuJChlZGl0b3JBcmVhKS5hdHRyKCdpZCcpKTtcbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgIGVkaXRvci5zYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBmb3JtRGF0YVN0ciA9ICRmb3JtLnNlcmlhbGl6ZSgpO1xuICAgIGNvbnN0IHN1YlRhYklkID0gJGZvcm0uYXR0cignZGF0YS1zdWItdGFiLWlkJyk7XG5cbiAgICBpZiAoIXN1YlRhYklkIHx8IFN0cmluZyhzdWJUYWJJZCkudHJpbSgpID09PSAnJykge1xuICAgICAgdGhpcy5zaG93Tm90aWNlKCdFcnJvcjogQ291bGQgbm90IHNhdmUgc2V0dGluZ3MuIEZvcm0gY29uZmlndXJhdGlvbiBpcyBtaXNzaW5nIFwiZGF0YS1zdWItdGFiLWlkXCIuJywgJ2Vycm9yJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgbXVsdGktc2VsZWN0IGVsZW1lbnRzIHVzaW5nIFNlbGVjdDJcbiAgICAkZm9ybS5maW5kKCdzZWxlY3RbbXVsdGlwbGVdJykuZWFjaCgoaWR4LCBzZWxlY3QpID0+IHtcbiAgICAgIGNvbnN0ICRzZWxlY3QgPSB0aGlzLiQoc2VsZWN0KTtcbiAgICAgIGNvbnN0IG5hbWUgPSAkc2VsZWN0LmF0dHIoJ25hbWUnKTtcbiAgICAgIFxuICAgICAgLy8gSWYgdGhpcyBpcyBhIG11bHRpLXNlbGVjdCB0aGF0IHVzZXMgU2VsZWN0MlxuICAgICAgaWYgKG5hbWUgJiYgJHNlbGVjdC5oYXNDbGFzcygncGUtc2VsZWN0MicpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9ICRzZWxlY3QudmFsKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIHNlcmlhbGl6ZWQgdmVyc2lvbnMgb2YgdGhpcyBmaWVsZFxuICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYCR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfT1bXiZdKiY/YCwgJ2cnKTtcbiAgICAgICAgZm9ybURhdGFTdHIgPSBmb3JtRGF0YVN0ci5yZXBsYWNlKHJlZ2V4LCAnJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgZWFjaCBzZWxlY3RlZCB2YWx1ZSBpbmRpdmlkdWFsbHkgd2l0aCBhcnJheSBub3RhdGlvblxuICAgICAgICBpZiAodmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICBmb3JtRGF0YVN0ciArPSBgJiR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfVtdPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKX1gO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEVuc3VyZSBlbXB0eSBhcnJheSBpcyBzZW50IGlmIG5vdGhpbmcgc2VsZWN0ZWRcbiAgICAgICAgICBmb3JtRGF0YVN0ciArPSBgJiR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfVtdPWA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSB1bmNoZWNrZWQgY2hlY2tib3hlc1xuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmVhY2goKGlkeCwgY2IpID0+IHtcbiAgICAgIGNvbnN0ICRjYiA9IHRoaXMuJChjYik7XG4gICAgICBjb25zdCBuYW1lID0gJGNiLmF0dHIoJ25hbWUnKTtcbiAgICAgIGlmIChuYW1lICYmICEkY2IuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgY29uc3QgcGFyYW1FeGlzdHNSZWdleCA9IG5ldyBSZWdFeHAoYChefCYpJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSkucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csICdcXFxcJCYnKX09YCk7XG4gICAgICAgIGlmICghcGFyYW1FeGlzdHNSZWdleC50ZXN0KGZvcm1EYXRhU3RyKSkge1xuICAgICAgICAgIGZvcm1EYXRhU3RyICs9IGAmJHtlbmNvZGVVUklDb21wb25lbnQobmFtZSl9PTBgO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZm9ybURhdGFTdHIgPSBmb3JtRGF0YVN0ci5yZXBsYWNlKC9eJisvLCAnJykucmVwbGFjZSgvJiYrL2csICcmJyk7XG5cbiAgICAkc3VibWl0QnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgJHNwaW5uZXIuYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXG4gICAgY29uc3QgYWpheEFjdGlvbiA9IGAke3RoaXMudnRtQ29uZmlnLmFqYXhBY3Rpb25QcmVmaXh9X3NldHRpbmdzYDsgLy8gVXNlcyBWVE0gc3BlY2lmaWMgcHJlZml4XG4gICAgY29uc3QgYWpheERhdGFQYXlsb2FkID0ge1xuICAgICAgYWN0aW9uOiBhamF4QWN0aW9uLFxuICAgICAgbm9uY2U6IHRoaXMuc2V0dGluZ3Mubm9uY2UsIC8vIE5vbmNlIGZyb20gYmFzZSBjbGFzcyBzZXR0aW5nc1xuICAgICAgZm9ybV9kYXRhOiBmb3JtRGF0YVN0cixcbiAgICAgIHN1Yl90YWJfaWQ6IHN1YlRhYklkLnRyaW0oKSwgLy8gRXNzZW50aWFsIGZvciBQSFAgdG8ga25vdyB3aGljaCBzdWItdGFiJ3Mgc2V0dGluZ3MgdG8gc2F2ZVxuICAgICAgbWFpbl90YWJfaWQ6IHRoaXMuc2V0dGluZ3MudGFiX2lkIC8vIFBhc3MgbWFpbiB0YWIgSUQgZm9yIGNvbnRleHQgaWYgbmVlZGVkIGJ5IGJhY2tlbmRcbiAgICB9O1xuXG5cbiAgICBhamF4LmFqYXhSZXF1ZXN0KHtcbiAgICAgIHVybDogdGhpcy5zZXR0aW5ncy5hamF4VXJsLCAvLyBhamF4VXJsIGZyb20gYmFzZSBjbGFzcyBzZXR0aW5nc1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgZGF0YTogYWpheERhdGFQYXlsb2FkXG4gICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgY29uc3Qgc3VjY2Vzc01zZyA9IChyZXNwb25zZSAmJiByZXNwb25zZS5tZXNzYWdlKSB8fCAodGhpcy5zZXR0aW5ncy5pMThuICYmIHRoaXMuc2V0dGluZ3MuaTE4bi5zYXZlU3VjY2VzcykgfHwgJ1NldHRpbmdzIHNhdmVkIHN1Y2Nlc3NmdWxseS4nO1xuICAgICAgICB0aGlzLnNob3dOb3RpY2Uoc3VjY2Vzc01zZywgJ3N1Y2Nlc3MnKTsgLy8gSW5oZXJpdGVkIGZyb20gUHJvZHVjdEVzdGltYXRvclNldHRpbmdzXG5cbiAgICAgICAgLy8gUmVzZXQgZm9ybSBjaGFuZ2UgdHJhY2tpbmcgb24gdGhlIG1haW4gb3JjaGVzdHJhdG9yIGlmIGl0IGV4aXN0c1xuICAgICAgICBjb25zdCBvcmNoZXN0cmF0b3IgPSB3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2U7XG4gICAgICAgIGlmIChvcmNoZXN0cmF0b3IgJiYgdHlwZW9mIG9yY2hlc3RyYXRvci5mb3JtQ2hhbmdlVHJhY2tlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgb3JjaGVzdHJhdG9yLmZvcm1DaGFuZ2VUcmFja2Vyc1t0aGlzLnNldHRpbmdzLnRhYl9pZF0gPSBmYWxzZTtcbiAgICAgICAgICBpZiAob3JjaGVzdHJhdG9yLmN1cnJlbnRUYWIgPT09IHRoaXMuc2V0dGluZ3MudGFiX2lkKSB7XG4gICAgICAgICAgICBvcmNoZXN0cmF0b3IuZm9ybUNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSA/IGVycm9yLm1lc3NhZ2UgOiAodGhpcy5zZXR0aW5ncy5pMThuICYmIHRoaXMuc2V0dGluZ3MuaTE4bi5zYXZlRXJyb3IpIHx8ICdFcnJvciBzYXZpbmcgc2V0dGluZ3MuJztcbiAgICAgICAgdGhpcy5zaG93Tm90aWNlKGVycm9yTXNnLCAnZXJyb3InKTsgLy8gSW5oZXJpdGVkIGZyb20gUHJvZHVjdEVzdGltYXRvclNldHRpbmdzXG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAkc3VibWl0QnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAkc3Bpbm5lci5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIHNob3dOb3RpY2UsIHNob3dGaWVsZEVycm9yLCBjbGVhckZpZWxkRXJyb3IgYXJlIGluaGVyaXRlZCBmcm9tIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5cbiAgLy8gTm8gbmVlZCB0byByZWRlZmluZSB0aGVtIGhlcmUuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZlcnRpY2FsVGFiYmVkTW9kdWxlO1xuIl0sIm5hbWVzIjpbImFqYXgiLCJjcmVhdGVMb2dnZXIiLCJQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MiLCJsb2dnZXIiLCJWZXJ0aWNhbFRhYmJlZE1vZHVsZSIsIl9Qcm9kdWN0RXN0aW1hdG9yU2V0dCIsImNvbmZpZyIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2NhbGxTdXBlciIsImlzTW9kdWxlIiwic2V0dGluZ3NPYmplY3ROYW1lIiwibG9jYWxpemVkRGF0YU5hbWUiLCJkZWZhdWx0VGFiSWQiLCJtYWluVGFiSWQiLCJ2dG1Db25maWciLCJkZWZhdWx0U3ViVGFiSWQiLCJhamF4QWN0aW9uUHJlZml4IiwiJGNvbnRhaW5lciIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwibW9kdWxlSW5pdCIsIl90aGlzMiIsIiQiLCJjb25jYXQiLCJzZXR0aW5ncyIsInRhYl9pZCIsImxlbmd0aCIsIndpbmRvdyIsIlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlIiwic2hvd05vdGljZSIsImJpbmRDb21tb25WVE1FdmVudHMiLCJiaW5kTW9kdWxlU3BlY2lmaWNFdmVudHMiLCJvcmNoZXN0cmF0b3IiLCJjdXJyZW50VGFiIiwic2V0VGltZW91dCIsInNldHVwVmVydGljYWxUYWJzIiwib25NYWluVGFiQWN0aXZhdGVkIiwiZG9jdW1lbnQiLCJvbiIsImhhbmRsZU1haW5UYWJDaGFuZ2VkIiwiYmluZCIsImhhbmRsZVZUTUZvcm1TdWJtaXQiLCJuYXZTZWxlY3RvciIsInNlbGVjdG9ycyIsInZlcnRpY2FsVGFiTmF2IiwiaGFuZGxlVmVydGljYWxUYWJDbGljayIsInNldFRhYkF0dHJpYnV0ZXNPbkxpbmtzIiwiX3RoaXMzIiwiJG5hdkxpbmtzIiwiZmluZCIsImVhY2giLCJpIiwibGluayIsIiRsaW5rIiwiaHJlZiIsImF0dHIiLCJpbmNsdWRlcyIsIm1hdGNoIiwic3ViVGFiSWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwib25NYWluVGFiRGVhY3RpdmF0ZWQiLCJjb250ZW50U2VsZWN0b3IiLCJ2ZXJ0aWNhbFRhYlBhbmUiLCIkdmVydGljYWxUYWJzTmF2IiwiJHZlcnRpY2FsVGFiQ29udGVudHMiLCJhY3RpdmVTdWJUYWJJZCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsImxvY2F0aW9uIiwic2VhcmNoIiwidXJsU3ViVGFiIiwiZ2V0IiwiJHBocEFjdGl2ZUxpbmsiLCJkYXRhIiwiJGZpcnN0VGFiTGluayIsImZpcnN0Iiwic2hvd1ZlcnRpY2FsVGFiIiwiYWRqdXN0VGFiQ29udGVudEhlaWdodCIsIm9mZiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIiR0YXJnZXRMaW5rIiwiY3VycmVudFRhcmdldCIsImVsZW1lbnQiLCJkb21UYWJBdHRyIiwiZ2V0QXR0cmlidXRlIiwiaGFzQXR0cmlidXRlIiwic3ViVGFiTWF0Y2giLCJzdWJUYWJGcm9tUmVnZXgiLCJocmVmVXJsIiwiVVJMIiwib3JpZ2luIiwic3ViVGFiRnJvbUhyZWYiLCJzZWFyY2hQYXJhbXMiLCJxdWVyeVN0cmluZyIsInNwbGl0IiwiZTIiLCJlcnJvciIsIm5hdkFyZWFTZWxlY3RvciIsInZlcnRpY2FsVGFiTmF2QXJlYSIsImNvbnRlbnRBcmVhU2VsZWN0b3IiLCJ2ZXJ0aWNhbFRhYkNvbnRlbnRBcmVhIiwiJG5hdiIsIiRjb250ZW50V3JhcHBlciIsIm5hdkhlaWdodCIsIm91dGVySGVpZ2h0IiwiY3NzIiwiX3RoaXM0IiwidXBkYXRlSGlzdG9yeSIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIl90aGlzJCRjb250YWluZXIiLCJ3YXJuIiwiY29udGFpbmVyRXhpc3RzIiwibmF2SXRlbVNlbGVjdG9yIiwidmVydGljYWxUYWJOYXZJdGVtIiwicmVtb3ZlQ2xhc3MiLCIkYWN0aXZlTGluayIsImNsb3Nlc3QiLCJhZGRDbGFzcyIsImhpZGUiLCJzYW5pdGl6ZWRUYWJJZCIsIiRhY3RpdmVDb250ZW50UGFuZWwiLCJmaWx0ZXIiLCJzaG93IiwicGFydGlhbE1hdGNoZXMiLCJjb250ZW50UGFuZWxzIiwicGFuZWwiLCIkcGFuZWwiLCJwYW5lbElkIiwicGFuZWxDbGFzcyIsInN1YnN0cmluZyIsInB1c2giLCJjdXJyZW50VXJsIiwic2V0IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInRvU3RyaW5nIiwidHJpZ2dlciIsIm5ld01haW5UYWJJZCIsIm9sZE1haW5UYWJJZCIsIl90aGlzNSIsIl90aGlzNiIsIiRmb3JtIiwiJHN1Ym1pdEJ1dHRvbiIsIiRzcGlubmVyIiwidGlueU1DRSIsImlkeCIsImVkaXRvckFyZWEiLCJlZGl0b3IiLCJzYXZlIiwiZm9ybURhdGFTdHIiLCJzZXJpYWxpemUiLCJTdHJpbmciLCJ0cmltIiwic2VsZWN0IiwiJHNlbGVjdCIsIm5hbWUiLCJoYXNDbGFzcyIsInZhbHVlcyIsInZhbCIsInJlZ2V4IiwiUmVnRXhwIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZm9yRWFjaCIsImNiIiwiJGNiIiwiaXMiLCJwYXJhbUV4aXN0c1JlZ2V4IiwidGVzdCIsInByb3AiLCJhamF4QWN0aW9uIiwiYWpheERhdGFQYXlsb2FkIiwiYWN0aW9uIiwibm9uY2UiLCJmb3JtX2RhdGEiLCJzdWJfdGFiX2lkIiwibWFpbl90YWJfaWQiLCJhamF4UmVxdWVzdCIsInVybCIsImFqYXhVcmwiLCJ0eXBlIiwidGhlbiIsInJlc3BvbnNlIiwic3VjY2Vzc01zZyIsIm1lc3NhZ2UiLCJpMThuIiwic2F2ZVN1Y2Nlc3MiLCJfdHlwZW9mIiwiZm9ybUNoYW5nZVRyYWNrZXJzIiwiZm9ybUNoYW5nZWQiLCJjYXRjaCIsImVycm9yTXNnIiwic2F2ZUVycm9yIiwiZmluYWxseSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin/common/VerticalTabbedModule.js\n");

/***/ }),

/***/ "./src/js/admin/index.js":
/*!*******************************!*\
  !*** ./src/js/admin/index.js ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ProductEstimatorAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ProductEstimatorAdmin */ \"./src/js/admin/ProductEstimatorAdmin.js\");\n/* harmony import */ var _common_ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./common/ProductEstimatorSettings */ \"./src/js/admin/common/ProductEstimatorSettings.js\");\n/* harmony import */ var _modules_GeneralSettingsModule__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/GeneralSettingsModule */ \"./src/js/admin/modules/GeneralSettingsModule.js\");\n/* harmony import */ var _modules_NetsuiteSettingsModule__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/NetsuiteSettingsModule */ \"./src/js/admin/modules/NetsuiteSettingsModule.js\");\n/* harmony import */ var _modules_NotificationSettingsModule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/NotificationSettingsModule */ \"./src/js/admin/modules/NotificationSettingsModule.js\");\n/* harmony import */ var _modules_ProductAdditionsSettingsModule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/ProductAdditionsSettingsModule */ \"./src/js/admin/modules/ProductAdditionsSettingsModule.js\");\n/* harmony import */ var _modules_LabelSettingsModule__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/LabelSettingsModule */ \"./src/js/admin/modules/LabelSettingsModule.js\");\n/* harmony import */ var _modules_FeatureSwitchesSettingsModule__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/FeatureSwitchesSettingsModule */ \"./src/js/admin/modules/FeatureSwitchesSettingsModule.js\");\n/* harmony import */ var _modules_PricingRulesSettingsModule__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/PricingRulesSettingsModule */ \"./src/js/admin/modules/PricingRulesSettingsModule.js\");\n/* harmony import */ var _modules_ProductUpgradesSettingsModule__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/ProductUpgradesSettingsModule */ \"./src/js/admin/modules/ProductUpgradesSettingsModule.js\");\n/* harmony import */ var _modules_SimilarProductsSettingsModule__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/SimilarProductsSettingsModule */ \"./src/js/admin/modules/SimilarProductsSettingsModule.js\");\n/**\n * Main entry point for the Product Estimator plugin frontend\n */\n// import './CustomerEstimatesAdmin';\n\n\n\n\n\n\n\n\n\n\n\n\n// This is the main entry point for the frontend script bundle\n// The admin modules are imported separately due to code splitting in webpack\n\n// Frontend functionality can be added here//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDaUM7QUFDVTtBQUNGO0FBQ0M7QUFDSTtBQUNJO0FBQ1g7QUFDVTtBQUNIO0FBQ0c7QUFDQTs7QUFFakQ7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2R1Y3QtZXN0aW1hdG9yLy4vc3JjL2pzL2FkbWluL2luZGV4LmpzPzMzZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNYWluIGVudHJ5IHBvaW50IGZvciB0aGUgUHJvZHVjdCBFc3RpbWF0b3IgcGx1Z2luIGZyb250ZW5kXG4gKi9cbi8vIGltcG9ydCAnLi9DdXN0b21lckVzdGltYXRlc0FkbWluJztcbmltcG9ydCAnLi9Qcm9kdWN0RXN0aW1hdG9yQWRtaW4nO1xuaW1wb3J0ICcuL2NvbW1vbi9Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MnO1xuaW1wb3J0ICcuL21vZHVsZXMvR2VuZXJhbFNldHRpbmdzTW9kdWxlJztcbmltcG9ydCAnLi9tb2R1bGVzL05ldHN1aXRlU2V0dGluZ3NNb2R1bGUnO1xuaW1wb3J0ICcuL21vZHVsZXMvTm90aWZpY2F0aW9uU2V0dGluZ3NNb2R1bGUnO1xuaW1wb3J0ICcuL21vZHVsZXMvUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlJztcbmltcG9ydCAnLi9tb2R1bGVzL0xhYmVsU2V0dGluZ3NNb2R1bGUnO1xuaW1wb3J0ICcuL21vZHVsZXMvRmVhdHVyZVN3aXRjaGVzU2V0dGluZ3NNb2R1bGUnO1xuaW1wb3J0ICcuL21vZHVsZXMvUHJpY2luZ1J1bGVzU2V0dGluZ3NNb2R1bGUnO1xuaW1wb3J0ICcuL21vZHVsZXMvUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGUnO1xuaW1wb3J0ICcuL21vZHVsZXMvU2ltaWxhclByb2R1Y3RzU2V0dGluZ3NNb2R1bGUnO1xuXG4vLyBUaGlzIGlzIHRoZSBtYWluIGVudHJ5IHBvaW50IGZvciB0aGUgZnJvbnRlbmQgc2NyaXB0IGJ1bmRsZVxuLy8gVGhlIGFkbWluIG1vZHVsZXMgYXJlIGltcG9ydGVkIHNlcGFyYXRlbHkgZHVlIHRvIGNvZGUgc3BsaXR0aW5nIGluIHdlYnBhY2tcblxuLy8gRnJvbnRlbmQgZnVuY3Rpb25hbGl0eSBjYW4gYmUgYWRkZWQgaGVyZVxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin/index.js\n");

/***/ }),

/***/ "./src/js/admin/modules/FeatureSwitchesSettingsModule.js":
/*!***************************************************************!*\
  !*** ./src/js/admin/modules/FeatureSwitchesSettingsModule.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _common_ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/ProductEstimatorSettings */ \"./src/js/admin/common/ProductEstimatorSettings.js\");\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n/**\n * Feature Switches Settings JavaScript\n *\n * Handles functionality specific to the feature switches settings tab.\n */\n // Adjust path as needed\nvar FeatureSwitchesSettingsModule = /*#__PURE__*/function (_ProductEstimatorSett) {\n  /**\n   * Initialize the module\n   */\n  function FeatureSwitchesSettingsModule() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, FeatureSwitchesSettingsModule);\n    return _callSuper(this, FeatureSwitchesSettingsModule, [{\n      isModule: true,\n      settingsObjectName: 'featureSwitchesSettings',\n      defaultTabId: 'feature_switches'\n      // loggerName: 'FeatureSwitchesSettingsModule' // Base class now uses constructor.name\n    }]); // Properties like this.$ and this.settings are initialized by super()\n  }\n\n  /**\n   * Module-specific initialization, called by the base class constructor on document.ready.\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(FeatureSwitchesSettingsModule, _ProductEstimatorSett);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(FeatureSwitchesSettingsModule, [{\n    key: \"moduleInit\",\n    value: function moduleInit() {\n      this.bindEvents();\n      // Add any initial setup logic for feature switch fields here if needed\n    }\n\n    /**\n     * Bind event handlers specific to this module\n     */\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      // Listen for tab changes to activate module logic when this tab is shown\n      this.$(document).on('product_estimator_tab_changed', this.handleTabChanged.bind(this));\n\n      // Add any specific event handlers for interactions within the Feature Switches tab\n      // Example: this.$('#enable_example_feature').on('change', this.handleFeatureSwitchChange.bind(this));\n    }\n\n    /**\n     * Handle tab changed event\n     * @param {Event} e Tab changed event\n     * @param {string} tabId The newly active tab ID\n     */\n  }, {\n    key: \"handleTabChanged\",\n    value: function handleTabChanged(e, tabId) {\n      // If our tab becomes active, perform any necessary re-initialization or setup\n      if (tabId === this.settings.tab_id) {\n        // You can call setup functions here if needed when the tab becomes visible\n        // this.setupFeatureSwitchFields();\n      }\n      this.clearSubTabFromUrl(); // Call common URL clearing logic from base\n    }\n\n    // Add other methods as needed for client-side functionality\n    // Example:\n    // setupFeatureSwitchFields() {\n    //\n    //   // Add logic to set initial states, attach event listeners, etc.\n    // }\n  }]);\n}(_common_ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_5__[\"default\"]); // Initialize the module when the DOM is ready.\n// The base class constructor handles calling moduleInit at the right time.\njQuery(document).ready(function () {\n  // Check if the tab's container element exists before initializing\n  // This ensures the module is only instantiated if its corresponding UI is present.\n  if (jQuery('#feature_switches').length) {\n    // Make it available globally for debugging or if other scripts need to interact with it\n    window.FeatureSwitchesSettingsModuleInstance = new FeatureSwitchesSettingsModule();\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (FeatureSwitchesSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9GZWF0dXJlU3dpdGNoZXNTZXR0aW5nc01vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMEUsQ0FBQztBQUFBLElBRXJFQyw2QkFBNkIsMEJBQUFDLHFCQUFBO0VBQ2pDO0FBQ0Y7QUFDQTtFQUNFLFNBQUFELDhCQUFBLEVBQWM7SUFBQUUsaUZBQUEsT0FBQUYsNkJBQUE7SUFBQSxPQUFBRyxVQUFBLE9BQUFILDZCQUFBLEdBQ047TUFDSkksUUFBUSxFQUFFLElBQUk7TUFDZEMsa0JBQWtCLEVBQUUseUJBQXlCO01BQzdDQyxZQUFZLEVBQUU7TUFDZDtJQUNGLENBQUMsSUFDRDtFQUNGOztFQUVBO0FBQ0Y7QUFDQTtFQUZFQywyRUFBQSxDQUFBUCw2QkFBQSxFQUFBQyxxQkFBQTtFQUFBLE9BQUFPLDhFQUFBLENBQUFSLDZCQUFBO0lBQUFTLEdBQUE7SUFBQUMsS0FBQSxFQUdBLFNBQUFDLFVBQVVBLENBQUEsRUFBRztNQUNYLElBQUksQ0FBQ0MsVUFBVSxDQUFDLENBQUM7TUFDakI7SUFDRjs7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBSCxHQUFBO0lBQUFDLEtBQUEsRUFHQSxTQUFBRSxVQUFVQSxDQUFBLEVBQUc7TUFDWDtNQUNBLElBQUksQ0FBQ0MsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsRUFBRSxDQUFDLCtCQUErQixFQUFFLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7TUFFdEY7TUFDQTtJQUNGOztJQUVBO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7RUFKRTtJQUFBUixHQUFBO0lBQUFDLEtBQUEsRUFLQSxTQUFBTSxnQkFBZ0JBLENBQUNFLENBQUMsRUFBRUMsS0FBSyxFQUFFO01BQ3pCO01BQ0EsSUFBSUEsS0FBSyxLQUFLLElBQUksQ0FBQ0MsUUFBUSxDQUFDQyxNQUFNLEVBQUU7UUFDbEM7UUFDQTtNQUFBO01BRUYsSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3Qjs7SUFFQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7RUFBQTtBQUFBLEVBcEQwQ3ZCLHdFQUF3QixHQXVEcEU7QUFDQTtBQUNBd0IsTUFBTSxDQUFDVCxRQUFRLENBQUMsQ0FBQ1UsS0FBSyxDQUFDLFlBQVc7RUFDaEM7RUFDQTtFQUNBLElBQUlELE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDRSxNQUFNLEVBQUU7SUFDdEM7SUFDQUMsTUFBTSxDQUFDQyxxQ0FBcUMsR0FBRyxJQUFJM0IsNkJBQTZCLENBQUMsQ0FBQztFQUNwRjtBQUNGLENBQUMsQ0FBQztBQUVGLCtEQUFlQSw2QkFBNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kdWN0LWVzdGltYXRvci8uL3NyYy9qcy9hZG1pbi9tb2R1bGVzL0ZlYXR1cmVTd2l0Y2hlc1NldHRpbmdzTW9kdWxlLmpzP2NhN2YiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGZWF0dXJlIFN3aXRjaGVzIFNldHRpbmdzIEphdmFTY3JpcHRcbiAqXG4gKiBIYW5kbGVzIGZ1bmN0aW9uYWxpdHkgc3BlY2lmaWMgdG8gdGhlIGZlYXR1cmUgc3dpdGNoZXMgc2V0dGluZ3MgdGFiLlxuICovXG5pbXBvcnQgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIGZyb20gJy4uL2NvbW1vbi9Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MnOyAvLyBBZGp1c3QgcGF0aCBhcyBuZWVkZWRcblxuY2xhc3MgRmVhdHVyZVN3aXRjaGVzU2V0dGluZ3NNb2R1bGUgZXh0ZW5kcyBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3Mge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgbW9kdWxlXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBpc01vZHVsZTogdHJ1ZSxcbiAgICAgIHNldHRpbmdzT2JqZWN0TmFtZTogJ2ZlYXR1cmVTd2l0Y2hlc1NldHRpbmdzJyxcbiAgICAgIGRlZmF1bHRUYWJJZDogJ2ZlYXR1cmVfc3dpdGNoZXMnLFxuICAgICAgLy8gbG9nZ2VyTmFtZTogJ0ZlYXR1cmVTd2l0Y2hlc1NldHRpbmdzTW9kdWxlJyAvLyBCYXNlIGNsYXNzIG5vdyB1c2VzIGNvbnN0cnVjdG9yLm5hbWVcbiAgICB9KTtcbiAgICAvLyBQcm9wZXJ0aWVzIGxpa2UgdGhpcy4kIGFuZCB0aGlzLnNldHRpbmdzIGFyZSBpbml0aWFsaXplZCBieSBzdXBlcigpXG4gIH1cblxuICAvKipcbiAgICogTW9kdWxlLXNwZWNpZmljIGluaXRpYWxpemF0aW9uLCBjYWxsZWQgYnkgdGhlIGJhc2UgY2xhc3MgY29uc3RydWN0b3Igb24gZG9jdW1lbnQucmVhZHkuXG4gICAqL1xuICBtb2R1bGVJbml0KCkge1xuICAgIHRoaXMuYmluZEV2ZW50cygpO1xuICAgIC8vIEFkZCBhbnkgaW5pdGlhbCBzZXR1cCBsb2dpYyBmb3IgZmVhdHVyZSBzd2l0Y2ggZmllbGRzIGhlcmUgaWYgbmVlZGVkXG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudCBoYW5kbGVycyBzcGVjaWZpYyB0byB0aGlzIG1vZHVsZVxuICAgKi9cbiAgYmluZEV2ZW50cygpIHtcbiAgICAvLyBMaXN0ZW4gZm9yIHRhYiBjaGFuZ2VzIHRvIGFjdGl2YXRlIG1vZHVsZSBsb2dpYyB3aGVuIHRoaXMgdGFiIGlzIHNob3duXG4gICAgdGhpcy4kKGRvY3VtZW50KS5vbigncHJvZHVjdF9lc3RpbWF0b3JfdGFiX2NoYW5nZWQnLCB0aGlzLmhhbmRsZVRhYkNoYW5nZWQuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBBZGQgYW55IHNwZWNpZmljIGV2ZW50IGhhbmRsZXJzIGZvciBpbnRlcmFjdGlvbnMgd2l0aGluIHRoZSBGZWF0dXJlIFN3aXRjaGVzIHRhYlxuICAgIC8vIEV4YW1wbGU6IHRoaXMuJCgnI2VuYWJsZV9leGFtcGxlX2ZlYXR1cmUnKS5vbignY2hhbmdlJywgdGhpcy5oYW5kbGVGZWF0dXJlU3dpdGNoQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0YWIgY2hhbmdlZCBldmVudFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIFRhYiBjaGFuZ2VkIGV2ZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJJZCBUaGUgbmV3bHkgYWN0aXZlIHRhYiBJRFxuICAgKi9cbiAgaGFuZGxlVGFiQ2hhbmdlZChlLCB0YWJJZCkge1xuICAgIC8vIElmIG91ciB0YWIgYmVjb21lcyBhY3RpdmUsIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSByZS1pbml0aWFsaXphdGlvbiBvciBzZXR1cFxuICAgIGlmICh0YWJJZCA9PT0gdGhpcy5zZXR0aW5ncy50YWJfaWQpIHtcbiAgICAgIC8vIFlvdSBjYW4gY2FsbCBzZXR1cCBmdW5jdGlvbnMgaGVyZSBpZiBuZWVkZWQgd2hlbiB0aGUgdGFiIGJlY29tZXMgdmlzaWJsZVxuICAgICAgLy8gdGhpcy5zZXR1cEZlYXR1cmVTd2l0Y2hGaWVsZHMoKTtcbiAgICB9XG4gICAgdGhpcy5jbGVhclN1YlRhYkZyb21VcmwoKTsgLy8gQ2FsbCBjb21tb24gVVJMIGNsZWFyaW5nIGxvZ2ljIGZyb20gYmFzZVxuICB9XG5cbiAgLy8gQWRkIG90aGVyIG1ldGhvZHMgYXMgbmVlZGVkIGZvciBjbGllbnQtc2lkZSBmdW5jdGlvbmFsaXR5XG4gIC8vIEV4YW1wbGU6XG4gIC8vIHNldHVwRmVhdHVyZVN3aXRjaEZpZWxkcygpIHtcbiAgLy9cbiAgLy8gICAvLyBBZGQgbG9naWMgdG8gc2V0IGluaXRpYWwgc3RhdGVzLCBhdHRhY2ggZXZlbnQgbGlzdGVuZXJzLCBldGMuXG4gIC8vIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSB0aGUgbW9kdWxlIHdoZW4gdGhlIERPTSBpcyByZWFkeS5cbi8vIFRoZSBiYXNlIGNsYXNzIGNvbnN0cnVjdG9yIGhhbmRsZXMgY2FsbGluZyBtb2R1bGVJbml0IGF0IHRoZSByaWdodCB0aW1lLlxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgLy8gQ2hlY2sgaWYgdGhlIHRhYidzIGNvbnRhaW5lciBlbGVtZW50IGV4aXN0cyBiZWZvcmUgaW5pdGlhbGl6aW5nXG4gIC8vIFRoaXMgZW5zdXJlcyB0aGUgbW9kdWxlIGlzIG9ubHkgaW5zdGFudGlhdGVkIGlmIGl0cyBjb3JyZXNwb25kaW5nIFVJIGlzIHByZXNlbnQuXG4gIGlmIChqUXVlcnkoJyNmZWF0dXJlX3N3aXRjaGVzJykubGVuZ3RoKSB7XG4gICAgLy8gTWFrZSBpdCBhdmFpbGFibGUgZ2xvYmFsbHkgZm9yIGRlYnVnZ2luZyBvciBpZiBvdGhlciBzY3JpcHRzIG5lZWQgdG8gaW50ZXJhY3Qgd2l0aCBpdFxuICAgIHdpbmRvdy5GZWF0dXJlU3dpdGNoZXNTZXR0aW5nc01vZHVsZUluc3RhbmNlID0gbmV3IEZlYXR1cmVTd2l0Y2hlc1NldHRpbmdzTW9kdWxlKCk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlU3dpdGNoZXNTZXR0aW5nc01vZHVsZTtcbiJdLCJuYW1lcyI6WyJQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MiLCJGZWF0dXJlU3dpdGNoZXNTZXR0aW5nc01vZHVsZSIsIl9Qcm9kdWN0RXN0aW1hdG9yU2V0dCIsIl9jbGFzc0NhbGxDaGVjayIsIl9jYWxsU3VwZXIiLCJpc01vZHVsZSIsInNldHRpbmdzT2JqZWN0TmFtZSIsImRlZmF1bHRUYWJJZCIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwibW9kdWxlSW5pdCIsImJpbmRFdmVudHMiLCIkIiwiZG9jdW1lbnQiLCJvbiIsImhhbmRsZVRhYkNoYW5nZWQiLCJiaW5kIiwiZSIsInRhYklkIiwic2V0dGluZ3MiLCJ0YWJfaWQiLCJjbGVhclN1YlRhYkZyb21VcmwiLCJqUXVlcnkiLCJyZWFkeSIsImxlbmd0aCIsIndpbmRvdyIsIkZlYXR1cmVTd2l0Y2hlc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/admin/modules/FeatureSwitchesSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/GeneralSettingsModule.js":
/*!*******************************************************!*\
  !*** ./src/js/admin/modules/GeneralSettingsModule.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils_tinymce_preserver__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils/tinymce-preserver */ \"./src/js/utils/tinymce-preserver.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_VerticalTabbedModule__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/VerticalTabbedModule */ \"./src/js/admin/common/VerticalTabbedModule.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n/**\n * General Settings Module JavaScript\n *\n * Handles functionality specific to the general settings tab.\n * Extends VerticalTabbedModule for common vertical tab and form handling.\n */\n\n\n\nvar logger = (0,_utils__WEBPACK_IMPORTED_MODULE_7__.createLogger)('GeneralSettingsModule');\nvar GeneralSettingsModule = /*#__PURE__*/function (_VerticalTabbedModule) {\n  function GeneralSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, GeneralSettingsModule);\n    var config = {\n      mainTabId: 'general',\n      defaultSubTabId: 'settings',\n      ajaxActionPrefix: 'save_general',\n      localizedDataName: 'generalSettings'\n    };\n    _this = _callSuper(this, GeneralSettingsModule, [config]); // Calls AdminTableManager constructor\n\n    // DOM elements cache\n    _this.dom = {};\n    _this.$(document).on(\"admin_table_manager_ready_\".concat(_this.config.mainTabId), function () {\n      _this.validateMarkup = _this.validateMarkup.bind(_this);\n      _this.validateExpiryDays = _this.validateExpiryDays.bind(_this);\n      _this.handleFileUpload = _this.handleFileUpload.bind(_this);\n      _this.handleFileRemove = _this.handleFileRemove.bind(_this);\n      _this.setupTinyMCEEditors = _this.setupTinyMCEEditors.bind(_this);\n      _this.onSubTabActivated = _this.onSubTabActivated.bind(_this);\n      _this.validateSelect2Field = _this.validateSelect2Field.bind(_this);\n      _this._initializeSelect2 = _this._initializeSelect2.bind(_this);\n      _this._cacheDOM = _this._cacheDOM.bind(_this);\n    });\n    // Bind methods that will be used as event handlers or callbacks\n    return _this;\n  }\n\n  /**\n   * Bind module-specific events beyond what the parent class handles\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(GeneralSettingsModule, _VerticalTabbedModule);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(GeneralSettingsModule, [{\n    key: \"bindModuleSpecificEvents\",\n    value: function bindModuleSpecificEvents() {\n      var _this2 = this;\n      _superPropGet(GeneralSettingsModule, \"bindModuleSpecificEvents\", this, 3)([]);\n\n      // Only bind events if container exists\n      if (!this.$container || !this.$container.length) {\n        return;\n      }\n\n      // Cache DOM elements\n      this._cacheDOM();\n      this.$('.select-file-button').on('click', this.handleFileUpload);\n      this.$('.remove-file-button').on('click', this.handleFileRemove);\n\n      // Add validation events\n      this.$('#default_markup').on('change input', this.validateMarkup);\n      this.$('#estimate_expiry_days').on('change input', this.validateExpiryDays);\n      this.$('#pdf_template').on('change', this.validateFileInput.bind(this, 'pdf_template'));\n\n      // Select2 field validation\n      if (this.dom.primaryProductCategories) {\n        this.dom.primaryProductCategories.on('change', function () {\n          return _this2.validateSelect2Field('primary_product_categories');\n        });\n      }\n\n      // Listen for sub-tab changes\n      this.$(document).on(\"pe_sub_tab_changed_\".concat(this.settings.tab_id), function (e, subTabId) {\n        _this2.onSubTabActivated(subTabId);\n      });\n\n      // Initialize Select2 when ready\n      this._initializeSelect2();\n    }\n\n    /**\n     * Override for actions when the main \"General\" tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(GeneralSettingsModule, \"onMainTabActivated\", this, 3)([]);\n\n      // Setup the editors when the tab is activated\n      var activeSubTabId = this.getActiveSubTabId();\n      if (activeSubTabId) {\n        this.setupTinyMCEEditors(activeSubTabId);\n\n        // Reinitialize Select2 fields on the settings tab\n        if (activeSubTabId === 'settings') {\n          // Re-cache DOM elements since they might not have been available on initial load\n          this._cacheDOM();\n          // Refresh Select2 components if they're already initialized\n          if (this.dom.primaryProductCategories && this.dom.primaryProductCategories.hasClass(\"select2-hidden-accessible\")) {\n            this.refreshSelect2(this.dom.primaryProductCategories);\n          }\n        }\n      }\n    }\n\n    /**\n     * Get the currently active sub-tab ID\n     */\n  }, {\n    key: \"getActiveSubTabId\",\n    value: function getActiveSubTabId() {\n      if (!this.$container || !this.$container.length) {\n        return this.vtmConfig.defaultSubTabId;\n      }\n      var activeTabContent = this.$container.find('.vertical-tab-content.active, .pe-vtabs-tab-panel.active');\n      if (activeTabContent.length) {\n        return activeTabContent.data('tab-id') || activeTabContent.attr('id');\n      }\n\n      // Try to get from URL\n      var urlParams = new URLSearchParams(window.location.search);\n      var urlSubTab = urlParams.get('sub_tab');\n      if (urlSubTab) {\n        return urlSubTab;\n      }\n\n      // Fallback to default\n      return this.vtmConfig.defaultSubTabId;\n    }\n\n    /**\n     * Called when sub-tab is changed - needs to setup TinyMCE and field validation\n     */\n  }, {\n    key: \"onSubTabActivated\",\n    value: function onSubTabActivated(subTabId) {\n      logger.log(\"Sub-tab activated: \".concat(subTabId));\n\n      // Setup TinyMCE for the active tab\n      this.setupTinyMCEEditors(subTabId);\n\n      // Reinitialize Select2 fields if we're on the settings tab\n      if (subTabId === 'settings') {\n        // Re-cache DOM elements since they might not have been available on initial load\n        this._cacheDOM();\n        this._initializeSelect2();\n      }\n    }\n\n    /**\n     * Initialize TinyMCE editors for the given sub-tab\n     */\n  }, {\n    key: \"setupTinyMCEEditors\",\n    value: function setupTinyMCEEditors(subTabId) {\n      // Map sub-tab IDs to editor fields\n      var editorFields = {\n        'pdf-settings': ['pdf_footer_text', 'pdf_footer_contact_details_content']\n        // Add other sub-tabs with their editor fields\n      };\n\n      // If this sub-tab has editors, initialize them\n      if (editorFields[subTabId]) {\n        logger.log(\"Setting up TinyMCE editors for \".concat(subTabId, \": \").concat(editorFields[subTabId].join(', ')));\n        (0,_utils_tinymce_preserver__WEBPACK_IMPORTED_MODULE_6__.setupTinyMCEHTMLPreservation)(editorFields[subTabId], \"#\".concat(this.settings.mainTabId, \" .vertical-tab-content[data-tab-id=\\\"\").concat(subTabId, \"\\\"]\"));\n      }\n    }\n  }, {\n    key: \"handleFileUpload\",\n    value: function handleFileUpload(e) {\n      var _this3 = this;\n      e.preventDefault();\n      var button = this.$(e.currentTarget);\n      var targetInputSelector = button.data('target-input'); // Use the data-target-input attribute\n      var targetPreviewSelector = button.data('target-preview'); // Use the data-target-preview attribute\n\n      if (this.mediaFrame) {\n        this.mediaFrame.open();\n        return;\n      }\n      this.mediaFrame = wp.media({\n        title: 'Select or Upload PDF Template',\n        button: {\n          text: 'Use this file'\n        },\n        multiple: false,\n        library: {\n          type: 'application/pdf'\n        } // Only allow PDF files\n      });\n      this.mediaFrame.on('select', function () {\n        var attachment = _this3.mediaFrame.state().get('selection').first().toJSON();\n        if (attachment && attachment.id) {\n          // Use the target input selector from the data attribute\n          if (targetInputSelector) {\n            _this3.$(targetInputSelector).val(attachment.id).trigger('change');\n          } else {\n            logger.warn('No target input selector found for file upload');\n          }\n        } else {\n          logger.warn('Invalid attachment selected from media library');\n        }\n\n        // Use the target preview selector from the data attribute\n        var $previewWrapper = targetPreviewSelector ? _this3.$(targetPreviewSelector) : button.siblings('.file-preview-wrapper');\n\n        // Create a simpler preview that matches the design in the second image\n        var fileSize = _this3._formatFileSize(attachment.filesizeInBytes || 0);\n        $previewWrapper.html(\"\\n        <div class=\\\"file-preview\\\">\\n          <span class=\\\"file-icon dashicons dashicons-pdf\\\"></span>\\n          <div class=\\\"file-details\\\">\\n            <span class=\\\"file-name\\\">\\n              <a href=\\\"\".concat(attachment.url, \"\\\" target=\\\"_blank\\\">\\n                \").concat(attachment.filename, \"\\n              </a>\\n               \").concat(fileSize ? \"(\".concat(fileSize, \" PDF Document)\") : '', \"\\n            </span>\\n          </div>\\n        </div>\\n      \"));\n\n        // Add the file info text below the file preview if not already present\n        if (!_this3.$('.upload-instructions').length) {\n          $previewWrapper.after(\"<span class=\\\"upload-instructions\\\">Upload a PDF template file (optional) *<br>Accepted format: application/pdf</span>\");\n        }\n        // Show the remove button\n        button.siblings('.remove-file-button').removeClass('hidden');\n\n        // Update the button text to \"Replace File\"\n        button.text('Replace File');\n      });\n      this.mediaFrame.open();\n    }\n  }, {\n    key: \"handleFileRemove\",\n    value: function handleFileRemove(e) {\n      e.preventDefault();\n      var button = this.$(e.currentTarget);\n      var targetInputSelector = button.data('target-input');\n      var targetPreviewSelector = button.data('target-preview');\n      var uploadButton = button.siblings('.select-file-button');\n      if (targetInputSelector) {\n        this.$(targetInputSelector).val('').trigger('change');\n      }\n      if (targetPreviewSelector) {\n        this.$(targetPreviewSelector).empty();\n      } else {\n        button.siblings('.file-preview-wrapper').empty();\n      }\n\n      // Hide the remove button\n      button.addClass('hidden');\n\n      // Update the text on the upload button from \"Replace File\" to \"Upload File\"\n      if (uploadButton.length) {\n        uploadButton.text('Upload File');\n      }\n\n      // Remove the upload instructions if they were added\n      this.$('.upload-instructions').remove();\n    }\n  }, {\n    key: \"validateMarkup\",\n    value: function validateMarkup(e) {\n      var $input = this.$(e.currentTarget);\n      var value = parseInt($input.val(), 10);\n      var min = parseInt($input.attr('min') || 0, 10);\n      var max = parseInt($input.attr('max') || 100, 10);\n\n      // Use generalSettings.i18n if available, otherwise use this.settings.i18n\n      var i18n = window.generalSettings && window.generalSettings.i18n || this.settings.i18n || {};\n      if (isNaN(value) || value < min || value > max) {\n        this.showFieldError($input, i18n.validationErrorMarkup || \"Value must be between \".concat(min, \" and \").concat(max, \".\"));\n        return false;\n      }\n      this.clearFieldError($input);\n      return true;\n    }\n  }, {\n    key: \"validateExpiryDays\",\n    value: function validateExpiryDays(e) {\n      var $input = this.$(e.currentTarget);\n      var value = parseInt($input.val(), 10);\n      var min = parseInt($input.attr('min') || 1, 10);\n      var max = parseInt($input.attr('max') || 365, 10);\n      var i18n = window.generalSettings && window.generalSettings.i18n || this.settings.i18n || {};\n      if (isNaN(value) || value < min || value > max) {\n        this.showFieldError($input, i18n.validationErrorExpiry || \"Value must be between \".concat(min, \" and \").concat(max, \".\"));\n        return false;\n      }\n      this.clearFieldError($input);\n      return true;\n    }\n\n    /**\n     * Override validateAllFields to save editor content before validation\n     */\n  }, {\n    key: \"validateAllFields\",\n    value: function validateAllFields() {\n      this.saveEditorContent(); // Save editor content before validation\n\n      var isValid = _superPropGet(GeneralSettingsModule, \"validateAllFields\", this, 3)([]);\n\n      // Also validate file inputs\n      if (!this.validateFileInput('pdf_template')) {\n        isValid = false;\n      }\n\n      // Validate select2 fields\n      if (!this.validateSelect2Field('primary_product_categories')) {\n        isValid = false;\n      }\n      return isValid;\n    }\n  }, {\n    key: \"saveEditorContent\",\n    value: function saveEditorContent() {\n      if (typeof tinyMCE !== 'undefined') {\n        var editors = ['pdf_footer_text', 'pdf_footer_contact_details_content'];\n        editors.forEach(function (editorId) {\n          var editor = tinyMCE.get(editorId);\n          if (editor) {\n            editor.save();\n          }\n        });\n      }\n    }\n\n    /**\n     * Validate file input fields\n     * @param {string} fieldId - The ID of the file input field\n     */\n  }, {\n    key: \"validateFileInput\",\n    value: function validateFileInput(fieldId) {\n      var $input = this.$(\"#\".concat(fieldId));\n      var value = $input.val();\n      var isRequired = $input.prop('required') || $input.data('required') === true;\n      var i18n = window.generalSettings && window.generalSettings.i18n || this.settings.i18n || {};\n      if (isRequired && !value) {\n        this.showFieldError($input, i18n.validationErrorRequired || 'This field is required.');\n        return false;\n      }\n      this.clearFieldError($input);\n      return true;\n    }\n\n    /**\n     * Validate a Select2 field\n     * @param {string} fieldId - The ID of the select2 field\n     * @returns {boolean} Whether the field is valid\n     */\n  }, {\n    key: \"validateSelect2Field\",\n    value: function validateSelect2Field(fieldId) {\n      var $select = this.$(\"#\".concat(fieldId));\n      if (!$select.length) {\n        return true;\n      }\n      var isRequired = $select.prop('required') || $select.data('required') === true;\n      var value = $select.val();\n      var isEmpty = !value || Array.isArray(value) && value.length === 0;\n      if (isRequired && isEmpty) {\n        this.showFieldError($select, 'This field is required.');\n        return false;\n      }\n      this.clearFieldError($select);\n      return true;\n    }\n\n    /**\n     * Cache DOM elements for later use\n     * @private\n     */\n  }, {\n    key: \"_cacheDOM\",\n    value: function _cacheDOM() {\n      // Cache the select2 elements\n      if (!this.dom) {\n        this.dom = {};\n      }\n      this.dom.primaryProductCategories = this.$('#primary_product_categories');\n\n      // Log cache status for debugging\n      if (this.dom.primaryProductCategories && this.dom.primaryProductCategories.length) {\n        logger.log('Successfully cached DOM element for primary categories');\n      } else {\n        logger.warn('Failed to cache primary categories DOM element - element not found');\n      }\n    }\n\n    /**\n     * Initialize Select2 dropdowns\n     * @private\n     */\n  }, {\n    key: \"_initializeSelect2\",\n    value: function _initializeSelect2() {\n      var _this4 = this;\n      this.initializeSelect2Dropdowns({\n        elements: [{\n          element: this.dom.primaryProductCategories,\n          placeholderKey: 'primaryProductCategories',\n          fallbackText: 'Select primary product categories',\n          name: 'primary product categories',\n          config: {\n            width: '100%',\n            dropdownAutoWidth: true,\n            minimumResultsForSearch: 0,\n            matcher: function matcher(params, data) {\n              // If there are no params or no search term, return all data\n              if (!params || !params.term) {\n                return data;\n              }\n\n              // Search in the text field\n              if (data.text.toLowerCase().indexOf(params.term.toLowerCase()) > -1) {\n                return data;\n              }\n\n              // Return null if the term doesn't match\n              return null;\n            },\n            templateResult: function templateResult(data) {\n              // Skip custom formatting for the search field\n              if (data.loading || !data.id) {\n                return data.text;\n              }\n\n              // Highlight selected options in the dropdown with hover-like styling\n              if (data.element && _this4.dom.primaryProductCategories.val() && _this4.dom.primaryProductCategories.val().includes(data.id)) {\n                return _this4.$(\"<span style=\\\"color: #fff; background-color: #2271b1; padding: 3px 6px; border-radius: 3px; display: block;\\\">\".concat(data.text, \"</span>\"));\n              }\n              return data.text;\n            }\n          }\n        }],\n        moduleName: 'General Settings'\n      });\n    }\n\n    /**\n     * Format file size in bytes to a human-readable format\n     * @param {number} bytes - Size in bytes\n     * @returns {string} Formatted size (e.g., \"256 KB\")\n     */\n  }, {\n    key: \"_formatFileSize\",\n    value: function _formatFileSize(bytes) {\n      if (bytes === 0) {\n        return '0 Bytes';\n      }\n      var k = 1024;\n      var sizes = ['Bytes', 'KB', 'MB', 'GB'];\n      var i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    }\n  }]);\n}(_common_VerticalTabbedModule__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\njQuery(document).ready(function ($) {\n  // Ensure module is only instantiated if its corresponding UI is present.\n  if ($('#general').length) {\n    window.GeneralSettingsModuleInstance = new GeneralSettingsModule();\n  } else {\n    logger.warn('Container #general not found. GeneralSettingsModule will not be initialized.');\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (GeneralSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9HZW5lcmFsU2V0dGluZ3NNb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN3RTtBQUNsQztBQUU0QjtBQUVsRSxJQUFNRyxNQUFNLEdBQUdGLG9EQUFZLENBQUMsdUJBQXVCLENBQUM7QUFBQyxJQUUvQ0cscUJBQXFCLDBCQUFBQyxxQkFBQTtFQUN6QixTQUFBRCxzQkFBQSxFQUFjO0lBQUEsSUFBQUUsS0FBQTtJQUFBQyxpRkFBQSxPQUFBSCxxQkFBQTtJQUNaLElBQU1JLE1BQU0sR0FBRztNQUNiQyxTQUFTLEVBQUUsU0FBUztNQUNwQkMsZUFBZSxFQUFFLFVBQVU7TUFDM0JDLGdCQUFnQixFQUFFLGNBQWM7TUFDaENDLGlCQUFpQixFQUFFO0lBQ3JCLENBQUM7SUFFRE4sS0FBQSxHQUFBTyxVQUFBLE9BQUFULHFCQUFBLEdBQU1JLE1BQU0sR0FBRSxDQUFDOztJQUdmO0lBQ0FGLEtBQUEsQ0FBS1EsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUViUixLQUFBLENBQUtTLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUNDLEVBQUUsOEJBQUFDLE1BQUEsQ0FBOEJaLEtBQUEsQ0FBS0UsTUFBTSxDQUFDQyxTQUFTLEdBQUksWUFBTTtNQUM5RUgsS0FBQSxDQUFLYSxjQUFjLEdBQUdiLEtBQUEsQ0FBS2EsY0FBYyxDQUFDQyxJQUFJLENBQUFkLEtBQUssQ0FBQztNQUNwREEsS0FBQSxDQUFLZSxrQkFBa0IsR0FBR2YsS0FBQSxDQUFLZSxrQkFBa0IsQ0FBQ0QsSUFBSSxDQUFBZCxLQUFLLENBQUM7TUFDNURBLEtBQUEsQ0FBS2dCLGdCQUFnQixHQUFHaEIsS0FBQSxDQUFLZ0IsZ0JBQWdCLENBQUNGLElBQUksQ0FBQWQsS0FBSyxDQUFDO01BQ3hEQSxLQUFBLENBQUtpQixnQkFBZ0IsR0FBR2pCLEtBQUEsQ0FBS2lCLGdCQUFnQixDQUFDSCxJQUFJ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QUFLLENBQUMsR0FBR0ksSUFBSSxDQUFDM0YsR0FBRyxDQUFDd0YsQ0FBQyxDQUFDLENBQUM7TUFFbkQsT0FBT0ssVUFBVSxDQUFDLENBQUNOLEtBQUssR0FBR0ksSUFBSSxDQUFDRyxHQUFHLENBQUNOLENBQUMsRUFBRUUsQ0FBQyxDQUFDLEVBQUVLLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBR04sS0FBSyxDQUFDQyxDQUFDLENBQUM7SUFDekU7RUFBQztBQUFBLEVBcGJpQ3JKLG9FQUFvQjtBQXVieEQySixNQUFNLENBQUM3SSxRQUFRLENBQUMsQ0FBQzhJLEtBQUssQ0FBQyxVQUFTL0ksQ0FBQyxFQUFFO0VBQ2pDO0VBQ0EsSUFBSUEsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDc0IsTUFBTSxFQUFFO0lBQ3hCbUIsTUFBTSxDQUFDdUcsNkJBQTZCLEdBQUcsSUFBSTNKLHFCQUFxQixDQUFDLENBQUM7RUFDcEUsQ0FBQyxNQUFNO0lBQ0xELE1BQU0sQ0FBQ21GLElBQUksQ0FBQyw4RUFBOEUsQ0FBQztFQUM3RjtBQUNGLENBQUMsQ0FBQztBQUVGLCtEQUFlbEYscUJBQXFCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvZHVjdC1lc3RpbWF0b3IvLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9HZW5lcmFsU2V0dGluZ3NNb2R1bGUuanM/NDVkNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEdlbmVyYWwgU2V0dGluZ3MgTW9kdWxlIEphdmFTY3JpcHRcbiAqXG4gKiBIYW5kbGVzIGZ1bmN0aW9uYWxpdHkgc3BlY2lmaWMgdG8gdGhlIGdlbmVyYWwgc2V0dGluZ3MgdGFiLlxuICogRXh0ZW5kcyBWZXJ0aWNhbFRhYmJlZE1vZHVsZSBmb3IgY29tbW9uIHZlcnRpY2FsIHRhYiBhbmQgZm9ybSBoYW5kbGluZy5cbiAqL1xuaW1wb3J0IHsgc2V0dXBUaW55TUNFSFRNTFByZXNlcnZhdGlvbiB9IGZyb20gJ0B1dGlscy90aW55bWNlLXByZXNlcnZlcic7XG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIgfSBmcm9tICdAdXRpbHMnO1xuXG5pbXBvcnQgVmVydGljYWxUYWJiZWRNb2R1bGUgZnJvbSAnLi4vY29tbW9uL1ZlcnRpY2FsVGFiYmVkTW9kdWxlJztcblxuY29uc3QgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKCdHZW5lcmFsU2V0dGluZ3NNb2R1bGUnKTtcblxuY2xhc3MgR2VuZXJhbFNldHRpbmdzTW9kdWxlIGV4dGVuZHMgVmVydGljYWxUYWJiZWRNb2R1bGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBtYWluVGFiSWQ6ICdnZW5lcmFsJyxcbiAgICAgIGRlZmF1bHRTdWJUYWJJZDogJ3NldHRpbmdzJyxcbiAgICAgIGFqYXhBY3Rpb25QcmVmaXg6ICdzYXZlX2dlbmVyYWwnLFxuICAgICAgbG9jYWxpemVkRGF0YU5hbWU6ICdnZW5lcmFsU2V0dGluZ3MnXG4gICAgfTtcblxuICAgIHN1cGVyKGNvbmZpZyk7IC8vIENhbGxzIEFkbWluVGFibGVNYW5hZ2VyIGNvbnN0cnVjdG9yXG5cblxuICAgIC8vIERPTSBlbGVtZW50cyBjYWNoZVxuICAgIHRoaXMuZG9tID0ge307XG5cbiAgICB0aGlzLiQoZG9jdW1lbnQpLm9uKGBhZG1pbl90YWJsZV9tYW5hZ2VyX3JlYWR5XyR7dGhpcy5jb25maWcubWFpblRhYklkfWAsICgpID0+IHtcbiAgICAgIHRoaXMudmFsaWRhdGVNYXJrdXAgPSB0aGlzLnZhbGlkYXRlTWFya3VwLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLnZhbGlkYXRlRXhwaXJ5RGF5cyA9IHRoaXMudmFsaWRhdGVFeHBpcnlEYXlzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmhhbmRsZUZpbGVVcGxvYWQgPSB0aGlzLmhhbmRsZUZpbGVVcGxvYWQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuaGFuZGxlRmlsZVJlbW92ZSA9IHRoaXMuaGFuZGxlRmlsZVJlbW92ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5zZXR1cFRpbnlNQ0VFZGl0b3JzID0gdGhpcy5zZXR1cFRpbnlNQ0VFZGl0b3JzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLm9uU3ViVGFiQWN0aXZhdGVkID0gdGhpcy5vblN1YlRhYkFjdGl2YXRlZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy52YWxpZGF0ZVNlbGVjdDJGaWVsZCA9IHRoaXMudmFsaWRhdGVTZWxlY3QyRmllbGQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVTZWxlY3QyID0gdGhpcy5faW5pdGlhbGl6ZVNlbGVjdDIuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX2NhY2hlRE9NID0gdGhpcy5fY2FjaGVET00uYmluZCh0aGlzKTtcbiAgICB9KTtcbiAgICAvLyBCaW5kIG1ldGhvZHMgdGhhdCB3aWxsIGJlIHVzZWQgYXMgZXZlbnQgaGFuZGxlcnMgb3IgY2FsbGJhY2tzXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIG1vZHVsZS1zcGVjaWZpYyBldmVudHMgYmV5b25kIHdoYXQgdGhlIHBhcmVudCBjbGFzcyBoYW5kbGVzXG4gICAqL1xuICBiaW5kTW9kdWxlU3BlY2lmaWNFdmVudHMoKSB7XG4gICAgc3VwZXIuYmluZE1vZHVsZVNwZWNpZmljRXZlbnRzKCk7XG5cbiAgICAvLyBPbmx5IGJpbmQgZXZlbnRzIGlmIGNvbnRhaW5lciBleGlzdHNcbiAgICBpZiAoIXRoaXMuJGNvbnRhaW5lciB8fCAhdGhpcy4kY29udGFpbmVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhY2hlIERPTSBlbGVtZW50c1xuICAgIHRoaXMuX2NhY2hlRE9NKCk7XG5cbiAgICB0aGlzLiQoJy5zZWxlY3QtZmlsZS1idXR0b24nKS5vbignY2xpY2snLCB0aGlzLmhhbmRsZUZpbGVVcGxvYWQpO1xuICAgIHRoaXMuJCgnLnJlbW92ZS1maWxlLWJ1dHRvbicpLm9uKCdjbGljaycsIHRoaXMuaGFuZGxlRmlsZVJlbW92ZSk7XG5cbiAgICAvLyBBZGQgdmFsaWRhdGlvbiBldmVudHNcbiAgICB0aGlzLiQoJyNkZWZhdWx0X21hcmt1cCcpLm9uKCdjaGFuZ2UgaW5wdXQnLCB0aGlzLnZhbGlkYXRlTWFya3VwKTtcbiAgICB0aGlzLiQoJyNlc3RpbWF0ZV9leHBpcnlfZGF5cycpLm9uKCdjaGFuZ2UgaW5wdXQnLCB0aGlzLnZhbGlkYXRlRXhwaXJ5RGF5cyk7XG4gICAgdGhpcy4kKCcjcGRmX3RlbXBsYXRlJykub24oJ2NoYW5nZScsIHRoaXMudmFsaWRhdGVGaWxlSW5wdXQuYmluZCh0aGlzLCAncGRmX3RlbXBsYXRlJykpO1xuXG4gICAgLy8gU2VsZWN0MiBmaWVsZCB2YWxpZGF0aW9uXG4gICAgaWYgKHRoaXMuZG9tLnByaW1hcnlQcm9kdWN0Q2F0ZWdvcmllcykge1xuICAgICAgdGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzLm9uKCdjaGFuZ2UnLCAoKSA9PiB0aGlzLnZhbGlkYXRlU2VsZWN0MkZpZWxkKCdwcmltYXJ5X3Byb2R1Y3RfY2F0ZWdvcmllcycpKTtcbiAgICB9XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHN1Yi10YWIgY2hhbmdlc1xuICAgIHRoaXMuJChkb2N1bWVudCkub24oYHBlX3N1Yl90YWJfY2hhbmdlZF8ke3RoaXMuc2V0dGluZ3MudGFiX2lkfWAsIChlLCBzdWJUYWJJZCkgPT4ge1xuICAgICAgdGhpcy5vblN1YlRhYkFjdGl2YXRlZChzdWJUYWJJZCk7XG4gICAgfSk7XG5cbiAgICAvLyBJbml0aWFsaXplIFNlbGVjdDIgd2hlbiByZWFkeVxuICAgIHRoaXMuX2luaXRpYWxpemVTZWxlY3QyKCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgZm9yIGFjdGlvbnMgd2hlbiB0aGUgbWFpbiBcIkdlbmVyYWxcIiB0YWIgaXMgYWN0aXZhdGVkLlxuICAgKi9cbiAgb25NYWluVGFiQWN0aXZhdGVkKCkge1xuICAgIHN1cGVyLm9uTWFpblRhYkFjdGl2YXRlZCgpO1xuXG4gICAgLy8gU2V0dXAgdGhlIGVkaXRvcnMgd2hlbiB0aGUgdGFiIGlzIGFjdGl2YXRlZFxuICAgIGNvbnN0IGFjdGl2ZVN1YlRhYklkID0gdGhpcy5nZXRBY3RpdmVTdWJUYWJJZCgpO1xuICAgIGlmIChhY3RpdmVTdWJUYWJJZCkge1xuICAgICAgdGhpcy5zZXR1cFRpbnlNQ0VFZGl0b3JzKGFjdGl2ZVN1YlRhYklkKTtcblxuICAgICAgLy8gUmVpbml0aWFsaXplIFNlbGVjdDIgZmllbGRzIG9uIHRoZSBzZXR0aW5ncyB0YWJcbiAgICAgIGlmIChhY3RpdmVTdWJUYWJJZCA9PT0gJ3NldHRpbmdzJykge1xuICAgICAgICAvLyBSZS1jYWNoZSBET00gZWxlbWVudHMgc2luY2UgdGhleSBtaWdodCBub3QgaGF2ZSBiZWVuIGF2YWlsYWJsZSBvbiBpbml0aWFsIGxvYWRcbiAgICAgICAgdGhpcy5fY2FjaGVET00oKTtcbiAgICAgICAgLy8gUmVmcmVzaCBTZWxlY3QyIGNvbXBvbmVudHMgaWYgdGhleSdyZSBhbHJlYWR5IGluaXRpYWxpemVkXG4gICAgICAgIGlmICh0aGlzLmRvbS5wcmltYXJ5UHJvZHVjdENhdGVnb3JpZXMgJiYgdGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzLmhhc0NsYXNzKFwic2VsZWN0Mi1oaWRkZW4tYWNjZXNzaWJsZVwiKSkge1xuICAgICAgICAgIHRoaXMucmVmcmVzaFNlbGVjdDIodGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgc3ViLXRhYiBJRFxuICAgKi9cbiAgZ2V0QWN0aXZlU3ViVGFiSWQoKSB7XG4gICAgaWYgKCF0aGlzLiRjb250YWluZXIgfHwgIXRoaXMuJGNvbnRhaW5lci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLnZ0bUNvbmZpZy5kZWZhdWx0U3ViVGFiSWQ7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlVGFiQ29udGVudCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKCcudmVydGljYWwtdGFiLWNvbnRlbnQuYWN0aXZlLCAucGUtdnRhYnMtdGFiLXBhbmVsLmFjdGl2ZScpO1xuICAgIGlmIChhY3RpdmVUYWJDb250ZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhYkNvbnRlbnQuZGF0YSgndGFiLWlkJykgfHwgYWN0aXZlVGFiQ29udGVudC5hdHRyKCdpZCcpO1xuICAgIH1cblxuICAgIC8vIFRyeSB0byBnZXQgZnJvbSBVUkxcbiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgIGNvbnN0IHVybFN1YlRhYiA9IHVybFBhcmFtcy5nZXQoJ3N1Yl90YWInKTtcbiAgICBpZiAodXJsU3ViVGFiKSB7XG4gICAgICByZXR1cm4gdXJsU3ViVGFiO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHRcbiAgICByZXR1cm4gdGhpcy52dG1Db25maWcuZGVmYXVsdFN1YlRhYklkO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHN1Yi10YWIgaXMgY2hhbmdlZCAtIG5lZWRzIHRvIHNldHVwIFRpbnlNQ0UgYW5kIGZpZWxkIHZhbGlkYXRpb25cbiAgICovXG4gIG9uU3ViVGFiQWN0aXZhdGVkKHN1YlRhYklkKSB7XG4gICAgbG9nZ2VyLmxvZyhgU3ViLXRhYiBhY3RpdmF0ZWQ6ICR7c3ViVGFiSWR9YCk7XG5cbiAgICAvLyBTZXR1cCBUaW55TUNFIGZvciB0aGUgYWN0aXZlIHRhYlxuICAgIHRoaXMuc2V0dXBUaW55TUNFRWRpdG9ycyhzdWJUYWJJZCk7XG5cbiAgICAvLyBSZWluaXRpYWxpemUgU2VsZWN0MiBmaWVsZHMgaWYgd2UncmUgb24gdGhlIHNldHRpbmdzIHRhYlxuICAgIGlmIChzdWJUYWJJZCA9PT0gJ3NldHRpbmdzJykge1xuICAgICAgLy8gUmUtY2FjaGUgRE9NIGVsZW1lbnRzIHNpbmNlIHRoZXkgbWlnaHQgbm90IGhhdmUgYmVlbiBhdmFpbGFibGUgb24gaW5pdGlhbCBsb2FkXG4gICAgICB0aGlzLl9jYWNoZURPTSgpO1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZVNlbGVjdDIoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBUaW55TUNFIGVkaXRvcnMgZm9yIHRoZSBnaXZlbiBzdWItdGFiXG4gICAqL1xuICBzZXR1cFRpbnlNQ0VFZGl0b3JzKHN1YlRhYklkKSB7XG4gICAgLy8gTWFwIHN1Yi10YWIgSURzIHRvIGVkaXRvciBmaWVsZHNcbiAgICBjb25zdCBlZGl0b3JGaWVsZHMgPSB7XG4gICAgICAncGRmLXNldHRpbmdzJzogWydwZGZfZm9vdGVyX3RleHQnLCAncGRmX2Zvb3Rlcl9jb250YWN0X2RldGFpbHNfY29udGVudCddLFxuICAgICAgLy8gQWRkIG90aGVyIHN1Yi10YWJzIHdpdGggdGhlaXIgZWRpdG9yIGZpZWxkc1xuICAgIH07XG5cbiAgICAvLyBJZiB0aGlzIHN1Yi10YWIgaGFzIGVkaXRvcnMsIGluaXRpYWxpemUgdGhlbVxuICAgIGlmIChlZGl0b3JGaWVsZHNbc3ViVGFiSWRdKSB7XG4gICAgICBsb2dnZXIubG9nKGBTZXR0aW5nIHVwIFRpbnlNQ0UgZWRpdG9ycyBmb3IgJHtzdWJUYWJJZH06ICR7ZWRpdG9yRmllbGRzW3N1YlRhYklkXS5qb2luKCcsICcpfWApO1xuICAgICAgc2V0dXBUaW55TUNFSFRNTFByZXNlcnZhdGlvbihcbiAgICAgICAgZWRpdG9yRmllbGRzW3N1YlRhYklkXSxcbiAgICAgICAgYCMke3RoaXMuc2V0dGluZ3MubWFpblRhYklkfSAudmVydGljYWwtdGFiLWNvbnRlbnRbZGF0YS10YWItaWQ9XCIke3N1YlRhYklkfVwiXWBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRmlsZVVwbG9hZChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGJ1dHRvbiA9IHRoaXMuJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHRhcmdldElucHV0U2VsZWN0b3IgPSBidXR0b24uZGF0YSgndGFyZ2V0LWlucHV0Jyk7IC8vIFVzZSB0aGUgZGF0YS10YXJnZXQtaW5wdXQgYXR0cmlidXRlXG4gICAgY29uc3QgdGFyZ2V0UHJldmlld1NlbGVjdG9yID0gYnV0dG9uLmRhdGEoJ3RhcmdldC1wcmV2aWV3Jyk7IC8vIFVzZSB0aGUgZGF0YS10YXJnZXQtcHJldmlldyBhdHRyaWJ1dGVcblxuICAgIGlmICh0aGlzLm1lZGlhRnJhbWUpIHtcbiAgICAgIHRoaXMubWVkaWFGcmFtZS5vcGVuKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5tZWRpYUZyYW1lID0gd3AubWVkaWEoe1xuICAgICAgdGl0bGU6ICdTZWxlY3Qgb3IgVXBsb2FkIFBERiBUZW1wbGF0ZScsXG4gICAgICBidXR0b246IHsgdGV4dDogJ1VzZSB0aGlzIGZpbGUnIH0sXG4gICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICBsaWJyYXJ5OiB7IHR5cGU6ICdhcHBsaWNhdGlvbi9wZGYnIH0gLy8gT25seSBhbGxvdyBQREYgZmlsZXNcbiAgICB9KTtcblxuICAgIHRoaXMubWVkaWFGcmFtZS5vbignc2VsZWN0JywgKCkgPT4ge1xuICAgICAgY29uc3QgYXR0YWNobWVudCA9IHRoaXMubWVkaWFGcmFtZS5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJykuZmlyc3QoKS50b0pTT04oKTtcblxuICAgICAgaWYgKGF0dGFjaG1lbnQgJiYgYXR0YWNobWVudC5pZCkge1xuICAgICAgICAvLyBVc2UgdGhlIHRhcmdldCBpbnB1dCBzZWxlY3RvciBmcm9tIHRoZSBkYXRhIGF0dHJpYnV0ZVxuICAgICAgICBpZiAodGFyZ2V0SW5wdXRTZWxlY3Rvcikge1xuICAgICAgICAgIHRoaXMuJCh0YXJnZXRJbnB1dFNlbGVjdG9yKS52YWwoYXR0YWNobWVudC5pZCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oJ05vIHRhcmdldCBpbnB1dCBzZWxlY3RvciBmb3VuZCBmb3IgZmlsZSB1cGxvYWQnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ0ludmFsaWQgYXR0YWNobWVudCBzZWxlY3RlZCBmcm9tIG1lZGlhIGxpYnJhcnknKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIHRoZSB0YXJnZXQgcHJldmlldyBzZWxlY3RvciBmcm9tIHRoZSBkYXRhIGF0dHJpYnV0ZVxuICAgICAgY29uc3QgJHByZXZpZXdXcmFwcGVyID0gdGFyZ2V0UHJldmlld1NlbGVjdG9yID9cbiAgICAgICAgdGhpcy4kKHRhcmdldFByZXZpZXdTZWxlY3RvcikgOlxuICAgICAgICBidXR0b24uc2libGluZ3MoJy5maWxlLXByZXZpZXctd3JhcHBlcicpO1xuXG4gICAgICAvLyBDcmVhdGUgYSBzaW1wbGVyIHByZXZpZXcgdGhhdCBtYXRjaGVzIHRoZSBkZXNpZ24gaW4gdGhlIHNlY29uZCBpbWFnZVxuICAgICAgY29uc3QgZmlsZVNpemUgPSB0aGlzLl9mb3JtYXRGaWxlU2l6ZShhdHRhY2htZW50LmZpbGVzaXplSW5CeXRlcyB8fCAwKTtcbiAgICAgICRwcmV2aWV3V3JhcHBlci5odG1sKGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtcHJldmlld1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1pY29uIGRhc2hpY29ucyBkYXNoaWNvbnMtcGRmXCI+PC9zcGFuPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWRldGFpbHNcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZmlsZS1uYW1lXCI+XG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke2F0dGFjaG1lbnQudXJsfVwiIHRhcmdldD1cIl9ibGFua1wiPlxuICAgICAgICAgICAgICAgICR7YXR0YWNobWVudC5maWxlbmFtZX1cbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgJHtmaWxlU2l6ZSA/IGAoJHtmaWxlU2l6ZX0gUERGIERvY3VtZW50KWAgOiAnJ31cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICBgKTtcblxuICAgICAgLy8gQWRkIHRoZSBmaWxlIGluZm8gdGV4dCBiZWxvdyB0aGUgZmlsZSBwcmV2aWV3IGlmIG5vdCBhbHJlYWR5IHByZXNlbnRcbiAgICAgIGlmICghdGhpcy4kKCcudXBsb2FkLWluc3RydWN0aW9ucycpLmxlbmd0aCkge1xuICAgICAgICAkcHJldmlld1dyYXBwZXIuYWZ0ZXIoYDxzcGFuIGNsYXNzPVwidXBsb2FkLWluc3RydWN0aW9uc1wiPlVwbG9hZCBhIFBERiB0ZW1wbGF0ZSBmaWxlIChvcHRpb25hbCkgKjxicj5BY2NlcHRlZCBmb3JtYXQ6IGFwcGxpY2F0aW9uL3BkZjwvc3Bhbj5gKTtcbiAgICAgIH1cbiAgICAgIC8vIFNob3cgdGhlIHJlbW92ZSBidXR0b25cbiAgICAgIGJ1dHRvbi5zaWJsaW5ncygnLnJlbW92ZS1maWxlLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgLy8gVXBkYXRlIHRoZSBidXR0b24gdGV4dCB0byBcIlJlcGxhY2UgRmlsZVwiXG4gICAgICBidXR0b24udGV4dCgnUmVwbGFjZSBGaWxlJyk7XG4gICAgfSk7XG4gICAgdGhpcy5tZWRpYUZyYW1lLm9wZW4oKTtcbiAgfVxuXG4gIGhhbmRsZUZpbGVSZW1vdmUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLiQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCB0YXJnZXRJbnB1dFNlbGVjdG9yID0gYnV0dG9uLmRhdGEoJ3RhcmdldC1pbnB1dCcpO1xuICAgIGNvbnN0IHRhcmdldFByZXZpZXdTZWxlY3RvciA9IGJ1dHRvbi5kYXRhKCd0YXJnZXQtcHJldmlldycpO1xuICAgIGNvbnN0IHVwbG9hZEJ1dHRvbiA9IGJ1dHRvbi5zaWJsaW5ncygnLnNlbGVjdC1maWxlLWJ1dHRvbicpO1xuXG4gICAgaWYgKHRhcmdldElucHV0U2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuJCh0YXJnZXRJbnB1dFNlbGVjdG9yKS52YWwoJycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgIH1cblxuICAgIGlmICh0YXJnZXRQcmV2aWV3U2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuJCh0YXJnZXRQcmV2aWV3U2VsZWN0b3IpLmVtcHR5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1dHRvbi5zaWJsaW5ncygnLmZpbGUtcHJldmlldy13cmFwcGVyJykuZW1wdHkoKTtcbiAgICB9XG5cbiAgICAvLyBIaWRlIHRoZSByZW1vdmUgYnV0dG9uXG4gICAgYnV0dG9uLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgdGV4dCBvbiB0aGUgdXBsb2FkIGJ1dHRvbiBmcm9tIFwiUmVwbGFjZSBGaWxlXCIgdG8gXCJVcGxvYWQgRmlsZVwiXG4gICAgaWYgKHVwbG9hZEJ1dHRvbi5sZW5ndGgpIHtcbiAgICAgIHVwbG9hZEJ1dHRvbi50ZXh0KCdVcGxvYWQgRmlsZScpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgdXBsb2FkIGluc3RydWN0aW9ucyBpZiB0aGV5IHdlcmUgYWRkZWRcbiAgICB0aGlzLiQoJy51cGxvYWQtaW5zdHJ1Y3Rpb25zJykucmVtb3ZlKCk7XG4gIH1cblxuICB2YWxpZGF0ZU1hcmt1cChlKSB7XG4gICAgY29uc3QgJGlucHV0ID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCgkaW5wdXQudmFsKCksIDEwKTtcbiAgICBjb25zdCBtaW4gPSBwYXJzZUludCgkaW5wdXQuYXR0cignbWluJykgfHwgMCwgMTApO1xuICAgIGNvbnN0IG1heCA9IHBhcnNlSW50KCRpbnB1dC5hdHRyKCdtYXgnKSB8fCAxMDAsIDEwKTtcblxuICAgIC8vIFVzZSBnZW5lcmFsU2V0dGluZ3MuaTE4biBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB1c2UgdGhpcy5zZXR0aW5ncy5pMThuXG4gICAgY29uc3QgaTE4biA9ICh3aW5kb3cuZ2VuZXJhbFNldHRpbmdzICYmIHdpbmRvdy5nZW5lcmFsU2V0dGluZ3MuaTE4bikgfHwgdGhpcy5zZXR0aW5ncy5pMThuIHx8IHt9O1xuXG4gICAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xuICAgICAgdGhpcy5zaG93RmllbGRFcnJvcigkaW5wdXQsIGkxOG4udmFsaWRhdGlvbkVycm9yTWFya3VwIHx8IGBWYWx1ZSBtdXN0IGJlIGJldHdlZW4gJHttaW59IGFuZCAke21heH0uYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRpbnB1dCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YWxpZGF0ZUV4cGlyeURheXMoZSkge1xuICAgIGNvbnN0ICRpbnB1dCA9IHRoaXMuJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoJGlucHV0LnZhbCgpLCAxMCk7XG4gICAgY29uc3QgbWluID0gcGFyc2VJbnQoJGlucHV0LmF0dHIoJ21pbicpIHx8IDEsIDEwKTtcbiAgICBjb25zdCBtYXggPSBwYXJzZUludCgkaW5wdXQuYXR0cignbWF4JykgfHwgMzY1LCAxMCk7XG5cbiAgICBjb25zdCBpMThuID0gKHdpbmRvdy5nZW5lcmFsU2V0dGluZ3MgJiYgd2luZG93LmdlbmVyYWxTZXR0aW5ncy5pMThuKSB8fCB0aGlzLnNldHRpbmdzLmkxOG4gfHwge307XG5cbiAgICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlIDwgbWluIHx8IHZhbHVlID4gbWF4KSB7XG4gICAgICB0aGlzLnNob3dGaWVsZEVycm9yKCRpbnB1dCwgaTE4bi52YWxpZGF0aW9uRXJyb3JFeHBpcnkgfHwgYFZhbHVlIG11c3QgYmUgYmV0d2VlbiAke21pbn0gYW5kICR7bWF4fS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5jbGVhckZpZWxkRXJyb3IoJGlucHV0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSB2YWxpZGF0ZUFsbEZpZWxkcyB0byBzYXZlIGVkaXRvciBjb250ZW50IGJlZm9yZSB2YWxpZGF0aW9uXG4gICAqL1xuICB2YWxpZGF0ZUFsbEZpZWxkcygpIHtcbiAgICB0aGlzLnNhdmVFZGl0b3JDb250ZW50KCk7IC8vIFNhdmUgZWRpdG9yIGNvbnRlbnQgYmVmb3JlIHZhbGlkYXRpb25cblxuICAgIGxldCBpc1ZhbGlkID0gc3VwZXIudmFsaWRhdGVBbGxGaWVsZHMoKTtcblxuICAgIC8vIEFsc28gdmFsaWRhdGUgZmlsZSBpbnB1dHNcbiAgICBpZiAoIXRoaXMudmFsaWRhdGVGaWxlSW5wdXQoJ3BkZl90ZW1wbGF0ZScpKSB7XG4gICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgc2VsZWN0MiBmaWVsZHNcbiAgICBpZiAoIXRoaXMudmFsaWRhdGVTZWxlY3QyRmllbGQoJ3ByaW1hcnlfcHJvZHVjdF9jYXRlZ29yaWVzJykpIHtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfVxuXG4gIHNhdmVFZGl0b3JDb250ZW50KCkge1xuICAgIGlmICh0eXBlb2YgdGlueU1DRSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGVkaXRvcnMgPSBbJ3BkZl9mb290ZXJfdGV4dCcsICdwZGZfZm9vdGVyX2NvbnRhY3RfZGV0YWlsc19jb250ZW50J107XG4gICAgICBlZGl0b3JzLmZvckVhY2goKGVkaXRvcklkKSA9PiB7XG4gICAgICAgIGNvbnN0IGVkaXRvciA9IHRpbnlNQ0UuZ2V0KGVkaXRvcklkKTtcbiAgICAgICAgaWYgKGVkaXRvcikge1xuICAgICAgICAgIGVkaXRvci5zYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBmaWxlIGlucHV0IGZpZWxkc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRJZCAtIFRoZSBJRCBvZiB0aGUgZmlsZSBpbnB1dCBmaWVsZFxuICAgKi9cbiAgdmFsaWRhdGVGaWxlSW5wdXQoZmllbGRJZCkge1xuICAgIGNvbnN0ICRpbnB1dCA9IHRoaXMuJChgIyR7ZmllbGRJZH1gKTtcbiAgICBjb25zdCB2YWx1ZSA9ICRpbnB1dC52YWwoKTtcbiAgICBjb25zdCBpc1JlcXVpcmVkID0gJGlucHV0LnByb3AoJ3JlcXVpcmVkJykgfHwgJGlucHV0LmRhdGEoJ3JlcXVpcmVkJykgPT09IHRydWU7XG5cbiAgICBjb25zdCBpMThuID0gKHdpbmRvdy5nZW5lcmFsU2V0dGluZ3MgJiYgd2luZG93LmdlbmVyYWxTZXR0aW5ncy5pMThuKSB8fCB0aGlzLnNldHRpbmdzLmkxOG4gfHwge307XG5cbiAgICBpZiAoaXNSZXF1aXJlZCAmJiAhdmFsdWUpIHtcbiAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IoJGlucHV0LCBpMThuLnZhbGlkYXRpb25FcnJvclJlcXVpcmVkIHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkLicpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRpbnB1dCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSBhIFNlbGVjdDIgZmllbGRcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkSWQgLSBUaGUgSUQgb2YgdGhlIHNlbGVjdDIgZmllbGRcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGZpZWxkIGlzIHZhbGlkXG4gICAqL1xuICB2YWxpZGF0ZVNlbGVjdDJGaWVsZChmaWVsZElkKSB7XG4gICAgY29uc3QgJHNlbGVjdCA9IHRoaXMuJChgIyR7ZmllbGRJZH1gKTtcbiAgICBpZiAoISRzZWxlY3QubGVuZ3RoKSB7cmV0dXJuIHRydWU7IH1cblxuICAgIGNvbnN0IGlzUmVxdWlyZWQgPSAkc2VsZWN0LnByb3AoJ3JlcXVpcmVkJykgfHwgJHNlbGVjdC5kYXRhKCdyZXF1aXJlZCcpID09PSB0cnVlO1xuICAgIGNvbnN0IHZhbHVlID0gJHNlbGVjdC52YWwoKTtcbiAgICBjb25zdCBpc0VtcHR5ID0gIXZhbHVlIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApO1xuXG4gICAgaWYgKGlzUmVxdWlyZWQgJiYgaXNFbXB0eSkge1xuICAgICAgdGhpcy5zaG93RmllbGRFcnJvcigkc2VsZWN0LCAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyRmllbGRFcnJvcigkc2VsZWN0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWNoZSBET00gZWxlbWVudHMgZm9yIGxhdGVyIHVzZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NhY2hlRE9NKCkge1xuICAgIC8vIENhY2hlIHRoZSBzZWxlY3QyIGVsZW1lbnRzXG4gICAgaWYgKCF0aGlzLmRvbSkge1xuICAgICAgdGhpcy5kb20gPSB7fTtcbiAgICB9XG4gICAgdGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzID0gdGhpcy4kKCcjcHJpbWFyeV9wcm9kdWN0X2NhdGVnb3JpZXMnKTtcblxuICAgIC8vIExvZyBjYWNoZSBzdGF0dXMgZm9yIGRlYnVnZ2luZ1xuICAgIGlmICh0aGlzLmRvbS5wcmltYXJ5UHJvZHVjdENhdGVnb3JpZXMgJiYgdGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzLmxlbmd0aCkge1xuICAgICAgbG9nZ2VyLmxvZygnU3VjY2Vzc2Z1bGx5IGNhY2hlZCBET00gZWxlbWVudCBmb3IgcHJpbWFyeSBjYXRlZ29yaWVzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci53YXJuKCdGYWlsZWQgdG8gY2FjaGUgcHJpbWFyeSBjYXRlZ29yaWVzIERPTSBlbGVtZW50IC0gZWxlbWVudCBub3QgZm91bmQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBTZWxlY3QyIGRyb3Bkb3duc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXRpYWxpemVTZWxlY3QyKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZVNlbGVjdDJEcm9wZG93bnMoe1xuICAgICAgZWxlbWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZG9tLnByaW1hcnlQcm9kdWN0Q2F0ZWdvcmllcyxcbiAgICAgICAgICBwbGFjZWhvbGRlcktleTogJ3ByaW1hcnlQcm9kdWN0Q2F0ZWdvcmllcycsXG4gICAgICAgICAgZmFsbGJhY2tUZXh0OiAnU2VsZWN0IHByaW1hcnkgcHJvZHVjdCBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBuYW1lOiAncHJpbWFyeSBwcm9kdWN0IGNhdGVnb3JpZXMnLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgIGRyb3Bkb3duQXV0b1dpZHRoOiB0cnVlLFxuICAgICAgICAgICAgbWluaW11bVJlc3VsdHNGb3JTZWFyY2g6IDAsXG4gICAgICAgICAgICBtYXRjaGVyOiAocGFyYW1zLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBubyBwYXJhbXMgb3Igbm8gc2VhcmNoIHRlcm0sIHJldHVybiBhbGwgZGF0YVxuICAgICAgICAgICAgICBpZiAoIXBhcmFtcyB8fCAhcGFyYW1zLnRlcm0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2VhcmNoIGluIHRoZSB0ZXh0IGZpZWxkXG4gICAgICAgICAgICAgIGlmIChkYXRhLnRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHBhcmFtcy50ZXJtLnRvTG93ZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHRlcm0gZG9lc24ndCBtYXRjaFxuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZW1wbGF0ZVJlc3VsdDogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgLy8gU2tpcCBjdXN0b20gZm9ybWF0dGluZyBmb3IgdGhlIHNlYXJjaCBmaWVsZFxuICAgICAgICAgICAgICBpZiAoZGF0YS5sb2FkaW5nIHx8ICFkYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEudGV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IHNlbGVjdGVkIG9wdGlvbnMgaW4gdGhlIGRyb3Bkb3duIHdpdGggaG92ZXItbGlrZSBzdHlsaW5nXG4gICAgICAgICAgICAgIGlmIChkYXRhLmVsZW1lbnQgJiYgdGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzLnZhbCgpICYmIFxuICAgICAgICAgICAgICAgICAgdGhpcy5kb20ucHJpbWFyeVByb2R1Y3RDYXRlZ29yaWVzLnZhbCgpLmluY2x1ZGVzKGRhdGEuaWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJChgPHNwYW4gc3R5bGU9XCJjb2xvcjogI2ZmZjsgYmFja2dyb3VuZC1jb2xvcjogIzIyNzFiMTsgcGFkZGluZzogM3B4IDZweDsgYm9yZGVyLXJhZGl1czogM3B4OyBkaXNwbGF5OiBibG9jaztcIj4ke2RhdGEudGV4dH08L3NwYW4+YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGRhdGEudGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBtb2R1bGVOYW1lOiAnR2VuZXJhbCBTZXR0aW5ncydcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgZmlsZSBzaXplIGluIGJ5dGVzIHRvIGEgaHVtYW4tcmVhZGFibGUgZm9ybWF0XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBieXRlcyAtIFNpemUgaW4gYnl0ZXNcbiAgICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIHNpemUgKGUuZy4sIFwiMjU2IEtCXCIpXG4gICAqL1xuICBfZm9ybWF0RmlsZVNpemUoYnl0ZXMpIHtcbiAgICBpZiAoYnl0ZXMgPT09IDApIHtyZXR1cm4gJzAgQnl0ZXMnO31cblxuICAgIGNvbnN0IGsgPSAxMDI0O1xuICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQiddO1xuICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcblxuICAgIHJldHVybiBwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKDIpKSArICcgJyArIHNpemVzW2ldO1xuICB9XG59XG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICAvLyBFbnN1cmUgbW9kdWxlIGlzIG9ubHkgaW5zdGFudGlhdGVkIGlmIGl0cyBjb3JyZXNwb25kaW5nIFVJIGlzIHByZXNlbnQuXG4gIGlmICgkKCcjZ2VuZXJhbCcpLmxlbmd0aCkge1xuICAgIHdpbmRvdy5HZW5lcmFsU2V0dGluZ3NNb2R1bGVJbnN0YW5jZSA9IG5ldyBHZW5lcmFsU2V0dGluZ3NNb2R1bGUoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIud2FybignQ29udGFpbmVyICNnZW5lcmFsIG5vdCBmb3VuZC4gR2VuZXJhbFNldHRpbmdzTW9kdWxlIHdpbGwgbm90IGJlIGluaXRpYWxpemVkLicpO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgR2VuZXJhbFNldHRpbmdzTW9kdWxlO1xuIl0sIm5hbWVzIjpbInNldHVwVGlueU1DRUhUTUxQcmVzZXJ2YXRpb24iLCJjcmVhdGVMb2dnZXIiLCJWZXJ0aWNhbFRhYmJlZE1vZHVsZSIsImxvZ2dlciIsIkdlbmVyYWxTZXR0aW5nc01vZHVsZSIsIl9WZXJ0aWNhbFRhYmJlZE1vZHVsZSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiY29uZmlnIiwibWFpblRhYklkIiwiZGVmYXVsdFN1YlRhYklkIiwiYWpheEFjdGlvblByZWZpeCIsImxvY2FsaXplZERhdGFOYW1lIiwiX2NhbGxTdXBlciIsImRvbSIsIiQiLCJkb2N1bWVudCIsIm9uIiwiY29uY2F0IiwidmFsaWRhdGVNYXJrdXAiLCJiaW5kIiwidmFsaWRhdGVFeHBpcnlEYXlzIiwiaGFuZGxlRmlsZVVwbG9hZCIsImhhbmRsZUZpbGVSZW1vdmUiLCJzZXR1cFRpbnlNQ0VFZGl0b3JzIiwib25TdWJUYWJBY3RpdmF0ZWQiLCJ2YWxpZGF0ZVNlbGVjdDJGaWVsZCIsIl9pbml0aWFsaXplU2VsZWN0MiIsIl9jYWNoZURPTSIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwiYmluZE1vZHVsZVNwZWNpZmljRXZlbnRzIiwiX3RoaXMyIiwiX3N1cGVyUHJvcEdldCIsIiRjb250YWluZXIiLCJsZW5ndGgiLCJ2YWxpZGF0ZUZpbGVJbnB1dCIsInByaW1hcnlQcm9kdWN0Q2F0ZWdvcmllcyIsInNldHRpbmdzIiwidGFiX2lkIiwiZSIsInN1YlRhYklkIiwib25NYWluVGFiQWN0aXZhdGVkIiwiYWN0aXZlU3ViVGFiSWQiLCJnZXRBY3RpdmVTdWJUYWJJZCIsImhhc0NsYXNzIiwicmVmcmVzaFNlbGVjdDIiLCJ2dG1Db25maWciLCJhY3RpdmVUYWJDb250ZW50IiwiZmluZCIsImRhdGEiLCJhdHRyIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJ1cmxTdWJUYWIiLCJnZXQiLCJsb2ciLCJlZGl0b3JGaWVsZHMiLCJqb2luIiwiX3RoaXMzIiwicHJldmVudERlZmF1bHQiLCJidXR0b24iLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0SW5wdXRTZWxlY3RvciIsInRhcmdldFByZXZpZXdTZWxlY3RvciIsIm1lZGlhRnJhbWUiLCJvcGVuIiwid3AiLCJtZWRpYSIsInRpdGxlIiwidGV4dCIsIm11bHRpcGxlIiwibGlicmFyeSIsInR5cGUiLCJhdHRhY2htZW50Iiwic3RhdGUiLCJmaXJzdCIsInRvSlNPTiIsImlkIiwidmFsIiwidHJpZ2dlciIsIndhcm4iLCIkcHJldmlld1dyYXBwZXIiLCJzaWJsaW5ncyIsImZpbGVTaXplIiwiX2Zvcm1hdEZpbGVTaXplIiwiZmlsZXNpemVJbkJ5dGVzIiwiaHRtbCIsInVybCIsImZpbGVuYW1lIiwiYWZ0ZXIiLCJyZW1vdmVDbGFzcyIsInVwbG9hZEJ1dHRvbiIsImVtcHR5IiwiYWRkQ2xhc3MiLCJyZW1vdmUiLCIkaW5wdXQiLCJwYXJzZUludCIsIm1pbiIsIm1heCIsImkxOG4iLCJnZW5lcmFsU2V0dGluZ3MiLCJpc05hTiIsInNob3dGaWVsZEVycm9yIiwidmFsaWRhdGlvbkVycm9yTWFya3VwIiwiY2xlYXJGaWVsZEVycm9yIiwidmFsaWRhdGlvbkVycm9yRXhwaXJ5IiwidmFsaWRhdGVBbGxGaWVsZHMiLCJzYXZlRWRpdG9yQ29udGVudCIsImlzVmFsaWQiLCJ0aW55TUNFIiwiZWRpdG9ycyIsImZvckVhY2giLCJlZGl0b3JJZCIsImVkaXRvciIsInNhdmUiLCJmaWVsZElkIiwiaXNSZXF1aXJlZCIsInByb3AiLCJ2YWxpZGF0aW9uRXJyb3JSZXF1aXJlZCIsIiRzZWxlY3QiLCJpc0VtcHR5IiwiQXJyYXkiLCJpc0FycmF5IiwiX3RoaXM0IiwiaW5pdGlhbGl6ZVNlbGVjdDJEcm9wZG93bnMiLCJlbGVtZW50cyIsImVsZW1lbnQiLCJwbGFjZWhvbGRlcktleSIsImZhbGxiYWNrVGV4dCIsIm5hbWUiLCJ3aWR0aCIsImRyb3Bkb3duQXV0b1dpZHRoIiwibWluaW11bVJlc3VsdHNGb3JTZWFyY2giLCJtYXRjaGVyIiwicGFyYW1zIiwidGVybSIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInRlbXBsYXRlUmVzdWx0IiwibG9hZGluZyIsImluY2x1ZGVzIiwibW9kdWxlTmFtZSIsImJ5dGVzIiwiayIsInNpemVzIiwiaSIsIk1hdGgiLCJmbG9vciIsInBhcnNlRmxvYXQiLCJwb3ciLCJ0b0ZpeGVkIiwialF1ZXJ5IiwicmVhZHkiLCJHZW5lcmFsU2V0dGluZ3NNb2R1bGVJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin/modules/GeneralSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/LabelSettingsModule.js":
/*!*****************************************************!*\
  !*** ./src/js/admin/modules/LabelSettingsModule.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_VerticalTabbedModule__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/VerticalTabbedModule */ \"./src/js/admin/common/VerticalTabbedModule.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n/**\n * Label Settings JavaScript\n *\n * Handles functionality specific to the label settings tab.\n * Extends VerticalTabbedModule for common vertical tab and form handling.\n *\n * This module relies on abstract base classes for common functionality,\n * selectors, and internationalization strings.\n */\n\n\nvar logger = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('LabelSettings');\nvar LabelSettingsModule = /*#__PURE__*/function (_VerticalTabbedModule) {\n  function LabelSettingsModule() {\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, LabelSettingsModule);\n    return _callSuper(this, LabelSettingsModule, [{\n      mainTabId: 'labels',\n      defaultSubTabId: 'labels-general',\n      ajaxActionPrefix: 'save_labels',\n      localizedDataName: 'labelsSettings'\n    }]);\n  }\n\n  /**\n   * Override to bind module-specific events.\n   * Common events are bound by the parent class.\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(LabelSettingsModule, _VerticalTabbedModule);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(LabelSettingsModule, [{\n    key: \"bindModuleSpecificEvents\",\n    value: function bindModuleSpecificEvents() {\n      _superPropGet(LabelSettingsModule, \"bindModuleSpecificEvents\", this, 3)([]);\n      if (!this.$container || !this.$container.length) {\n        return;\n      }\n\n      // No additional specific events needed for this module\n    }\n\n    /**\n     * Override for actions when the main \"Labels\" tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(LabelSettingsModule, \"onMainTabActivated\", this, 3)([]);\n      // No additional actions needed when the Labels tab is activated\n    }\n  }]);\n}(_common_VerticalTabbedModule__WEBPACK_IMPORTED_MODULE_7__[\"default\"]); // Initialize the module\njQuery(document).ready(function ($) {\n  // Pass $ to use it directly\n  // Ensure the main container for this module exists before instantiating\n  if ($('#labels').length) {\n    // Use $ directly\n    // Ensure only one instance is created\n    if (!window.ProductEstimatorLabelSettingsModuleInstance) {\n      try {\n        window.ProductEstimatorLabelSettingsModuleInstance = new LabelSettingsModule();\n      } catch (error) {\n        if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n          window.ProductEstimatorSettingsInstance.showNotice('Failed to initialize Label Settings. Check console for errors.', 'error');\n        }\n      }\n    }\n  } else {\n    logger.warn('Container #labels not found. LabelSettingsModule will not be initialized.');\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (LabelSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9MYWJlbFNldHRpbmdzTW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNzQztBQUU0QjtBQUVsRSxJQUFNRSxNQUFNLEdBQUdGLG9EQUFZLENBQUMsZUFBZSxDQUFDO0FBQUMsSUFFdkNHLG1CQUFtQiwwQkFBQUMscUJBQUE7RUFDdkIsU0FBQUQsb0JBQUEsRUFBYztJQUFBRSxpRkFBQSxPQUFBRixtQkFBQTtJQUFBLE9BQUFHLFVBQUEsT0FBQUgsbUJBQUEsR0FDTjtNQUNKSSxTQUFTLEVBQUUsUUFBUTtNQUNuQkMsZUFBZSxFQUFFLGdCQUFnQjtNQUNqQ0MsZ0JBQWdCLEVBQUUsYUFBYTtNQUMvQkMsaUJBQWlCLEVBQUU7SUFDckIsQ0FBQztFQUNIOztFQUVBO0FBQ0Y7QUFDQTtBQUNBO0VBSEVDLDJFQUFBLENBQUFSLG1CQUFBLEVBQUFDLHFCQUFBO0VBQUEsT0FBQVEsOEVBQUEsQ0FBQVQsbUJBQUE7SUFBQVUsR0FBQTtJQUFBQyxLQUFBLEVBSUEsU0FBQUMsd0JBQXdCQSxDQUFBLEVBQUc7TUFDekJDLGFBQUEsQ0FBQWIsbUJBQUE7TUFFQSxJQUFJLENBQUMsSUFBSSxDQUFDYyxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUNBLFVBQVUsQ0FBQ0MsTUFBTSxFQUFFO1FBQy9DO01BQ0Y7O01BRUE7SUFDRjs7SUFFQTtBQUNGO0FBQ0E7RUFGRTtJQUFBTCxHQUFBO0lBQUFDLEtBQUEsRUFHQSxTQUFBSyxrQkFBa0JBLENBQUEsRUFBRztNQUNuQkgsYUFBQSxDQUFBYixtQkFBQTtNQUNBO0lBQ0Y7RUFBQztBQUFBLEVBOUIrQkYsb0VBQW9CLEdBaUN0RDtBQUNBbUIsTUFBTSxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsS0FBSyxDQUFDLFVBQVNDLENBQUMsRUFBRTtFQUFFO0VBQ0E7RUFDbkMsSUFBSUEsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDTCxNQUFNLEVBQUU7SUFBRTtJQUN6QjtJQUNBLElBQUksQ0FBQ00sTUFBTSxDQUFDQywyQ0FBMkMsRUFBRTtNQUN2RCxJQUFJO1FBQ0ZELE1BQU0sQ0FBQ0MsMkNBQTJDLEdBQUcsSUFBSXRCLG1CQUFtQixDQUFDLENBQUM7TUFDaEYsQ0FBQyxDQUFDLE9BQU91QixLQUFLLEVBQUU7UUFDZCxJQUFJRixNQUFNLENBQUNHLGdDQUFnQyxJQUFJLE9BQU9ILE1BQU0sQ0FBQ0csZ0NBQWdDLENBQUNDLFVBQVUsS0FBSyxVQUFVLEVBQUU7VUFDdkhKLE1BQU0sQ0FBQ0csZ0NBQWdDLENBQUNDLFVBQVUsQ0FBQyxnRUFBZ0UsRUFBRSxPQUFPLENBQUM7UUFDL0g7TUFDRjtJQUNGO0VBQ0YsQ0FBQyxNQUFNO0lBQ0wxQixNQUFNLENBQUMyQixJQUFJLENBQUMsMkVBQTJFLENBQUM7RUFDMUY7QUFDRixDQUFDLENBQUM7QUFFRiwrREFBZTFCLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2R1Y3QtZXN0aW1hdG9yLy4vc3JjL2pzL2FkbWluL21vZHVsZXMvTGFiZWxTZXR0aW5nc01vZHVsZS5qcz9hN2QxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGFiZWwgU2V0dGluZ3MgSmF2YVNjcmlwdFxuICpcbiAqIEhhbmRsZXMgZnVuY3Rpb25hbGl0eSBzcGVjaWZpYyB0byB0aGUgbGFiZWwgc2V0dGluZ3MgdGFiLlxuICogRXh0ZW5kcyBWZXJ0aWNhbFRhYmJlZE1vZHVsZSBmb3IgY29tbW9uIHZlcnRpY2FsIHRhYiBhbmQgZm9ybSBoYW5kbGluZy5cbiAqXG4gKiBUaGlzIG1vZHVsZSByZWxpZXMgb24gYWJzdHJhY3QgYmFzZSBjbGFzc2VzIGZvciBjb21tb24gZnVuY3Rpb25hbGl0eSxcbiAqIHNlbGVjdG9ycywgYW5kIGludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3MuXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0B1dGlscyc7XG5cbmltcG9ydCBWZXJ0aWNhbFRhYmJlZE1vZHVsZSBmcm9tICcuLi9jb21tb24vVmVydGljYWxUYWJiZWRNb2R1bGUnO1xuXG5jb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ0xhYmVsU2V0dGluZ3MnKTtcblxuY2xhc3MgTGFiZWxTZXR0aW5nc01vZHVsZSBleHRlbmRzIFZlcnRpY2FsVGFiYmVkTW9kdWxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgbWFpblRhYklkOiAnbGFiZWxzJyxcbiAgICAgIGRlZmF1bHRTdWJUYWJJZDogJ2xhYmVscy1nZW5lcmFsJyxcbiAgICAgIGFqYXhBY3Rpb25QcmVmaXg6ICdzYXZlX2xhYmVscycsXG4gICAgICBsb2NhbGl6ZWREYXRhTmFtZTogJ2xhYmVsc1NldHRpbmdzJ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRvIGJpbmQgbW9kdWxlLXNwZWNpZmljIGV2ZW50cy5cbiAgICogQ29tbW9uIGV2ZW50cyBhcmUgYm91bmQgYnkgdGhlIHBhcmVudCBjbGFzcy5cbiAgICovXG4gIGJpbmRNb2R1bGVTcGVjaWZpY0V2ZW50cygpIHtcbiAgICBzdXBlci5iaW5kTW9kdWxlU3BlY2lmaWNFdmVudHMoKTtcblxuICAgIGlmICghdGhpcy4kY29udGFpbmVyIHx8ICF0aGlzLiRjb250YWluZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIE5vIGFkZGl0aW9uYWwgc3BlY2lmaWMgZXZlbnRzIG5lZWRlZCBmb3IgdGhpcyBtb2R1bGVcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBmb3IgYWN0aW9ucyB3aGVuIHRoZSBtYWluIFwiTGFiZWxzXCIgdGFiIGlzIGFjdGl2YXRlZC5cbiAgICovXG4gIG9uTWFpblRhYkFjdGl2YXRlZCgpIHtcbiAgICBzdXBlci5vbk1haW5UYWJBY3RpdmF0ZWQoKTtcbiAgICAvLyBObyBhZGRpdGlvbmFsIGFjdGlvbnMgbmVlZGVkIHdoZW4gdGhlIExhYmVscyB0YWIgaXMgYWN0aXZhdGVkXG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSB0aGUgbW9kdWxlXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHsgLy8gUGFzcyAkIHRvIHVzZSBpdCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgbWFpbiBjb250YWluZXIgZm9yIHRoaXMgbW9kdWxlIGV4aXN0cyBiZWZvcmUgaW5zdGFudGlhdGluZ1xuICBpZiAoJCgnI2xhYmVscycpLmxlbmd0aCkgeyAvLyBVc2UgJCBkaXJlY3RseVxuICAgIC8vIEVuc3VyZSBvbmx5IG9uZSBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAgaWYgKCF3aW5kb3cuUHJvZHVjdEVzdGltYXRvckxhYmVsU2V0dGluZ3NNb2R1bGVJbnN0YW5jZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JMYWJlbFNldHRpbmdzTW9kdWxlSW5zdGFuY2UgPSBuZXcgTGFiZWxTZXR0aW5nc01vZHVsZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2Uuc2hvd05vdGljZSgnRmFpbGVkIHRvIGluaXRpYWxpemUgTGFiZWwgU2V0dGluZ3MuIENoZWNrIGNvbnNvbGUgZm9yIGVycm9ycy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIud2FybignQ29udGFpbmVyICNsYWJlbHMgbm90IGZvdW5kLiBMYWJlbFNldHRpbmdzTW9kdWxlIHdpbGwgbm90IGJlIGluaXRpYWxpemVkLicpO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTGFiZWxTZXR0aW5nc01vZHVsZTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVMb2dnZXIiLCJWZXJ0aWNhbFRhYmJlZE1vZHVsZSIsImxvZ2dlciIsIkxhYmVsU2V0dGluZ3NNb2R1bGUiLCJfVmVydGljYWxUYWJiZWRNb2R1bGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJfY2FsbFN1cGVyIiwibWFpblRhYklkIiwiZGVmYXVsdFN1YlRhYklkIiwiYWpheEFjdGlvblByZWZpeCIsImxvY2FsaXplZERhdGFOYW1lIiwiX2luaGVyaXRzIiwiX2NyZWF0ZUNsYXNzIiwia2V5IiwidmFsdWUiLCJiaW5kTW9kdWxlU3BlY2lmaWNFdmVudHMiLCJfc3VwZXJQcm9wR2V0IiwiJGNvbnRhaW5lciIsImxlbmd0aCIsIm9uTWFpblRhYkFjdGl2YXRlZCIsImpRdWVyeSIsImRvY3VtZW50IiwicmVhZHkiLCIkIiwid2luZG93IiwiUHJvZHVjdEVzdGltYXRvckxhYmVsU2V0dGluZ3NNb2R1bGVJbnN0YW5jZSIsImVycm9yIiwiUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2UiLCJzaG93Tm90aWNlIiwid2FybiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin/modules/LabelSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/NetsuiteSettingsModule.js":
/*!********************************************************!*\
  !*** ./src/js/admin/modules/NetsuiteSettingsModule.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils_ajax__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @utils/ajax */ \"./src/js/utils/ajax.js\");\n/* harmony import */ var _utils_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils/dom */ \"./src/js/utils/dom.js\");\n/* harmony import */ var _common_ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/ProductEstimatorSettings */ \"./src/js/admin/common/ProductEstimatorSettings.js\");\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\n/**\n * NetSuite Settings JavaScript\n *\n * Handles functionality specific to the NetSuite integration settings tab.\n */\n // Specific import from original\n // Specific import from original\n\n // Adjust path as needed\nvar NetsuiteSettingsModule = /*#__PURE__*/function (_ProductEstimatorSett) {\n  /**\n   * Initialize the module\n   */\n  function NetsuiteSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, NetsuiteSettingsModule);\n    _this = _callSuper(this, NetsuiteSettingsModule, [{\n      isModule: true,\n      settingsObjectName: 'netsuiteSettings',\n      defaultTabId: 'netsuite'\n    }]);\n\n    // Bind methods\n    _this.testNetsuiteConnection = _this.testNetsuiteConnection.bind(_this);\n    _this.toggleNetsuiteFields = _this.toggleNetsuiteFields.bind(_this);\n    _this.validateUrl = _this.validateUrl.bind(_this);\n    _this.validateRequestLimit = _this.validateRequestLimit.bind(_this);\n    _this.validateCacheTime = _this.validateCacheTime.bind(_this);\n    _this.handleTabChanged = _this.handleTabChanged.bind(_this);\n    return _this;\n  }\n\n  /**\n   * Module-specific initialization.\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(NetsuiteSettingsModule, _ProductEstimatorSett);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(NetsuiteSettingsModule, [{\n    key: \"moduleInit\",\n    value: function moduleInit() {\n      this.bindEvents();\n      this.setupDependentFields(); // Call after DOM is ready and elements are available\n    }\n\n    /**\n     * Bind event handlers\n     */\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.$(document).on('product_estimator_tab_changed', this.handleTabChanged);\n      this.$('#test-netsuite-connection').on('click', this.testNetsuiteConnection);\n      this.$('#netsuite_enabled').on('change', this.toggleNetsuiteFields);\n      this.$('#netsuite_api_url, #netsuite_token_url').on('blur', this.validateUrl); // Use blur for validation after input\n      this.$('#netsuite_request_limit').on('blur', this.validateRequestLimit);\n      this.$('#netsuite_cache_time').on('blur', this.validateCacheTime);\n    }\n  }, {\n    key: \"setupDependentFields\",\n    value: function setupDependentFields() {\n      this.toggleNetsuiteFields(); // Initial toggle based on current state\n    }\n  }, {\n    key: \"toggleNetsuiteFields\",\n    value: function toggleNetsuiteFields() {\n      var enabled = this.$('#netsuite_enabled').is(':checked');\n      var $fields = this.$('#netsuite_client_id, #netsuite_client_secret, #netsuite_api_url, #netsuite_token_url, #netsuite_request_limit, #netsuite_cache_time').closest('tr');\n      var $testButtonContainer = this.$('#test-netsuite-connection').closest('p'); // Or other container\n\n      if (enabled) {\n        $fields.fadeIn(200);\n        $testButtonContainer.fadeIn(200);\n      } else {\n        $fields.fadeOut(200);\n        $testButtonContainer.fadeOut(200);\n      }\n    }\n  }, {\n    key: \"testNetsuiteConnection\",\n    value: function testNetsuiteConnection() {\n      var $button = this.$('#test-netsuite-connection');\n      var $result = this.$('#connection-result'); // Assuming this element exists\n\n      if ($button.prop('disabled')) return;\n      var i18n = this.settings.i18n || window.netsuiteSettings && window.netsuiteSettings.i18n || {};\n      $button.prop('disabled', true);\n      $result.html(\"<span style=\\\"color:#666;\\\">\".concat(i18n.testing || 'Testing connection...', \"</span>\"));\n      (0,_utils_ajax__WEBPACK_IMPORTED_MODULE_5__.ajaxRequest)({\n        // Using imported ajaxRequest directly as in original\n        url: this.settings.ajaxUrl,\n        // Use ajaxUrl from this.settings\n        type: 'POST',\n        data: {\n          action: 'test_netsuite_connection',\n          // Ensure this action is correct\n          nonce: this.settings.nonce // Use nonce from this.settings\n        }\n      }).then(function (response) {\n        // Assuming response is { success: true/false, data: { message: \"...\" } } or { message: \"...\" }\n        var message = response.data && response.data.message ? response.data.message : response.message;\n        $result.html(\"<span style=\\\"color:green;\\\">\".concat(message || 'Connection successful.', \"</span>\"));\n      }).catch(function (error) {\n        var errorMessage = error && error.message ? error.message : i18n.error || 'Error';\n        $result.html(\"<span style=\\\"color:red;\\\">\".concat(errorMessage, \"</span>\"));\n      }).finally(function () {\n        $button.prop('disabled', false);\n      });\n    }\n  }, {\n    key: \"handleTabChanged\",\n    value: function handleTabChanged(e, tabId) {\n      if (tabId === this.settings.tab_id) {\n        this.toggleNetsuiteFields(); // Refresh field visibility when tab becomes active\n      }\n      this.clearSubTabFromUrl();\n    }\n  }, {\n    key: \"validateUrl\",\n    value: function validateUrl(e) {\n      var $field = this.$(e.currentTarget);\n      var value = $field.val().trim();\n      var i18n = this.settings.i18n || window.netsuiteSettings && window.netsuiteSettings.i18n || {};\n      if (value && !this.isValidUrl(value)) {\n        this.showFieldError($field, i18n.invalidUrl || 'Please enter a valid URL.');\n        return false;\n      }\n      this.clearFieldError($field);\n      return true;\n    }\n  }, {\n    key: \"isValidUrl\",\n    value: function isValidUrl(url) {\n      try {\n        new URL(url);\n        return true;\n      } catch (_) {\n        return false;\n      }\n    }\n  }, {\n    key: \"validateRequestLimit\",\n    value: function validateRequestLimit(e) {\n      var $field = this.$(e.currentTarget);\n      var value = parseInt($field.val(), 10);\n      var i18n = this.settings.i18n || window.netsuiteSettings && window.netsuiteSettings.i18n || {};\n      if (isNaN(value) || value < 1 || value > 100) {\n        // Example range\n        this.showFieldError($field, i18n.requestLimitError || 'Request limit must be between 1 and 100.');\n        return false;\n      }\n      this.clearFieldError($field);\n      return true;\n    }\n  }, {\n    key: \"validateCacheTime\",\n    value: function validateCacheTime(e) {\n      var $field = this.$(e.currentTarget);\n      var value = parseInt($field.val(), 10);\n      var i18n = this.settings.i18n || window.netsuiteSettings && window.netsuiteSettings.i18n || {};\n      if (isNaN(value) || value < 0) {\n        // Example: must be non-negative\n        this.showFieldError($field, i18n.cacheTimeError || 'Cache time must be at least 0.');\n        return false;\n      }\n      this.clearFieldError($field);\n      return true;\n    }\n\n    // showFieldError and clearFieldError are inherited.\n  }, {\n    key: \"addInfoSection\",\n    value: function addInfoSection(message) {\n      // Example of using imported createElement\n      var $settingsTable = this.$('#netsuite-settings-table'); // Ensure this ID exists\n      if (!$settingsTable.length || !message) return;\n      this.$('.netsuite-info-section').remove(); // Remove existing\n\n      var infoSection = (0,_utils_dom__WEBPACK_IMPORTED_MODULE_6__.createElement)('div', {\n        // createElement from @utils/dom\n        className: 'netsuite-info-section notice notice-info',\n        style: {\n          padding: '10px',\n          marginBottom: '15px'\n        },\n        innerHTML: message // Assuming message can be HTML\n      });\n      $settingsTable.before(infoSection);\n    }\n  }]);\n}(_common_ProductEstimatorSettings__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\njQuery(document).ready(function () {\n  if (jQuery('#netsuite').length) {\n    // Assuming 'netsuite' is the ID of the tab content\n    window.NetsuiteSettingsModuleInstance = new NetsuiteSettingsModule();\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (NetsuiteSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9OZXRzdWl0ZVNldHRpbmdzTW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzBDLENBQUM7QUFDQSxDQUFDOztBQUU4QixDQUFDO0FBQUEsSUFFckVHLHNCQUFzQiwwQkFBQUMscUJBQUE7RUFDMUI7QUFDRjtBQUNBO0VBQ0UsU0FBQUQsdUJBQUEsRUFBYztJQUFBLElBQUFFLEtBQUE7SUFBQUMsaUZBQUEsT0FBQUgsc0JBQUE7SUFDWkUsS0FBQSxHQUFBRSxVQUFBLE9BQUFKLHNCQUFBLEdBQU07TUFDSkssUUFBUSxFQUFFLElBQUk7TUFDZEMsa0JBQWtCLEVBQUUsa0JBQWtCO01BQ3RDQyxZQUFZLEVBQUU7SUFDaEIsQ0FBQzs7SUFFRDtJQUNBTCxLQUFBLENBQUtNLHNCQUFzQixHQUFHTixLQUFBLENBQUtNLHNCQUFzQixDQUFDQyxJQUFJLENBQUFQLEtBQUssQ0FBQztJQUNwRUEsS0FBQSxDQUFLUSxvQkFBb0IsR0FBR1IsS0FBQSxDQUFLUSxvQkFBb0IsQ0FBQ0QsSUFBSSxDQUFBUCxLQUFLLENBQUM7SUFDaEVBLEtBQUEsQ0FBS1MsV0FBVyxHQUFHVCxLQUFBLENBQUtTLFdBQVcsQ0FBQ0YsSUFBSSxDQUFBUCxLQUFLLENBQUM7SUFDOUNBLEtBQUEsQ0FBS1Usb0JBQW9CLEdBQUdWLEtBQUEsQ0FBS1Usb0JBQW9CLENBQUNILElBQUksQ0FBQVAsS0FBSyxDQUFDO0lBQ2hFQSxLQUFBLENBQUtXLGlCQUFpQixHQUFHWCxLQUFBLENBQUtXLGlCQUFpQixDQUFDSixJQUFJLENBQUFQLEtBQUssQ0FBQztJQUMxREEsS0FBQSxDQUFLWSxnQkFBZ0IsR0FBR1osS0FBQSxDQUFLWSxnQkFBZ0IsQ0FBQ0wsSUFBSSxDQUFBUCxLQUFLLENBQUM7SUFBQyxPQUFBQSxLQUFBO0VBQzNEOztFQUVBO0FBQ0Y7QUFDQTtFQUZFYSwyRUFBQSxDQUFBZixzQkFBQSxF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QUM7RUFDdEU7QUFDRixDQUFDLENBQUM7QUFFRiwrREFBZUEsc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvZHVjdC1lc3RpbWF0b3IvLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9OZXRzdWl0ZVNldHRpbmdzTW9kdWxlLmpzPzhkZmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOZXRTdWl0ZSBTZXR0aW5ncyBKYXZhU2NyaXB0XG4gKlxuICogSGFuZGxlcyBmdW5jdGlvbmFsaXR5IHNwZWNpZmljIHRvIHRoZSBOZXRTdWl0ZSBpbnRlZ3JhdGlvbiBzZXR0aW5ncyB0YWIuXG4gKi9cbmltcG9ydCB7IGFqYXhSZXF1ZXN0IH0gZnJvbSAnQHV0aWxzL2FqYXgnOyAvLyBTcGVjaWZpYyBpbXBvcnQgZnJvbSBvcmlnaW5hbFxuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ0B1dGlscy9kb20nOyAvLyBTcGVjaWZpYyBpbXBvcnQgZnJvbSBvcmlnaW5hbFxuXG5pbXBvcnQgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIGZyb20gJy4uL2NvbW1vbi9Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MnOyAvLyBBZGp1c3QgcGF0aCBhcyBuZWVkZWRcblxuY2xhc3MgTmV0c3VpdGVTZXR0aW5nc01vZHVsZSBleHRlbmRzIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBtb2R1bGVcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKHtcbiAgICAgIGlzTW9kdWxlOiB0cnVlLFxuICAgICAgc2V0dGluZ3NPYmplY3ROYW1lOiAnbmV0c3VpdGVTZXR0aW5ncycsXG4gICAgICBkZWZhdWx0VGFiSWQ6ICduZXRzdWl0ZScsXG4gICAgfSk7XG5cbiAgICAvLyBCaW5kIG1ldGhvZHNcbiAgICB0aGlzLnRlc3ROZXRzdWl0ZUNvbm5lY3Rpb24gPSB0aGlzLnRlc3ROZXRzdWl0ZUNvbm5lY3Rpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLnRvZ2dsZU5ldHN1aXRlRmllbGRzID0gdGhpcy50b2dnbGVOZXRzdWl0ZUZpZWxkcy5iaW5kKHRoaXMpO1xuICAgIHRoaXMudmFsaWRhdGVVcmwgPSB0aGlzLnZhbGlkYXRlVXJsLmJpbmQodGhpcyk7XG4gICAgdGhpcy52YWxpZGF0ZVJlcXVlc3RMaW1pdCA9IHRoaXMudmFsaWRhdGVSZXF1ZXN0TGltaXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLnZhbGlkYXRlQ2FjaGVUaW1lID0gdGhpcy52YWxpZGF0ZUNhY2hlVGltZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlVGFiQ2hhbmdlZCA9IHRoaXMuaGFuZGxlVGFiQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vZHVsZS1zcGVjaWZpYyBpbml0aWFsaXphdGlvbi5cbiAgICovXG4gIG1vZHVsZUluaXQoKSB7XG4gICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgdGhpcy5zZXR1cERlcGVuZGVudEZpZWxkcygpOyAvLyBDYWxsIGFmdGVyIERPTSBpcyByZWFkeSBhbmQgZWxlbWVudHMgYXJlIGF2YWlsYWJsZVxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnQgaGFuZGxlcnNcbiAgICovXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgdGhpcy4kKGRvY3VtZW50KS5vbigncHJvZHVjdF9lc3RpbWF0b3JfdGFiX2NoYW5nZWQnLCB0aGlzLmhhbmRsZVRhYkNoYW5nZWQpO1xuICAgIHRoaXMuJCgnI3Rlc3QtbmV0c3VpdGUtY29ubmVjdGlvbicpLm9uKCdjbGljaycsIHRoaXMudGVzdE5ldHN1aXRlQ29ubmVjdGlvbik7XG4gICAgdGhpcy4kKCcjbmV0c3VpdGVfZW5hYmxlZCcpLm9uKCdjaGFuZ2UnLCB0aGlzLnRvZ2dsZU5ldHN1aXRlRmllbGRzKTtcbiAgICB0aGlzLiQoJyNuZXRzdWl0ZV9hcGlfdXJsLCAjbmV0c3VpdGVfdG9rZW5fdXJsJykub24oJ2JsdXInLCB0aGlzLnZhbGlkYXRlVXJsKTsgLy8gVXNlIGJsdXIgZm9yIHZhbGlkYXRpb24gYWZ0ZXIgaW5wdXRcbiAgICB0aGlzLiQoJyNuZXRzdWl0ZV9yZXF1ZXN0X2xpbWl0Jykub24oJ2JsdXInLCB0aGlzLnZhbGlkYXRlUmVxdWVzdExpbWl0KTtcbiAgICB0aGlzLiQoJyNuZXRzdWl0ZV9jYWNoZV90aW1lJykub24oJ2JsdXInLCB0aGlzLnZhbGlkYXRlQ2FjaGVUaW1lKTtcbiAgfVxuXG4gIHNldHVwRGVwZW5kZW50RmllbGRzKCkge1xuICAgIHRoaXMudG9nZ2xlTmV0c3VpdGVGaWVsZHMoKTsgLy8gSW5pdGlhbCB0b2dnbGUgYmFzZWQgb24gY3VycmVudCBzdGF0ZVxuICB9XG5cbiAgdG9nZ2xlTmV0c3VpdGVGaWVsZHMoKSB7XG4gICAgY29uc3QgZW5hYmxlZCA9IHRoaXMuJCgnI25ldHN1aXRlX2VuYWJsZWQnKS5pcygnOmNoZWNrZWQnKTtcbiAgICBjb25zdCAkZmllbGRzID0gdGhpcy4kKCcjbmV0c3VpdGVfY2xpZW50X2lkLCAjbmV0c3VpdGVfY2xpZW50X3NlY3JldCwgI25ldHN1aXRlX2FwaV91cmwsICNuZXRzdWl0ZV90b2tlbl91cmwsICNuZXRzdWl0ZV9yZXF1ZXN0X2xpbWl0LCAjbmV0c3VpdGVfY2FjaGVfdGltZScpXG4gICAgICAuY2xvc2VzdCgndHInKTtcbiAgICBjb25zdCAkdGVzdEJ1dHRvbkNvbnRhaW5lciA9IHRoaXMuJCgnI3Rlc3QtbmV0c3VpdGUtY29ubmVjdGlvbicpLmNsb3Nlc3QoJ3AnKTsgLy8gT3Igb3RoZXIgY29udGFpbmVyXG5cbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgJGZpZWxkcy5mYWRlSW4oMjAwKTtcbiAgICAgICR0ZXN0QnV0dG9uQ29udGFpbmVyLmZhZGVJbigyMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAkZmllbGRzLmZhZGVPdXQoMjAwKTtcbiAgICAgICR0ZXN0QnV0dG9uQ29udGFpbmVyLmZhZGVPdXQoMjAwKTtcbiAgICB9XG4gIH1cblxuICB0ZXN0TmV0c3VpdGVDb25uZWN0aW9uKCkge1xuICAgIGNvbnN0ICRidXR0b24gPSB0aGlzLiQoJyN0ZXN0LW5ldHN1aXRlLWNvbm5lY3Rpb24nKTtcbiAgICBjb25zdCAkcmVzdWx0ID0gdGhpcy4kKCcjY29ubmVjdGlvbi1yZXN1bHQnKTsgLy8gQXNzdW1pbmcgdGhpcyBlbGVtZW50IGV4aXN0c1xuXG4gICAgaWYgKCRidXR0b24ucHJvcCgnZGlzYWJsZWQnKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgaTE4biA9IHRoaXMuc2V0dGluZ3MuaTE4biB8fCAod2luZG93Lm5ldHN1aXRlU2V0dGluZ3MgJiYgd2luZG93Lm5ldHN1aXRlU2V0dGluZ3MuaTE4bikgfHwge307XG4gICAgJGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICRyZXN1bHQuaHRtbChgPHNwYW4gc3R5bGU9XCJjb2xvcjojNjY2O1wiPiR7aTE4bi50ZXN0aW5nIHx8ICdUZXN0aW5nIGNvbm5lY3Rpb24uLi4nfTwvc3Bhbj5gKTtcblxuICAgIGFqYXhSZXF1ZXN0KHsgLy8gVXNpbmcgaW1wb3J0ZWQgYWpheFJlcXVlc3QgZGlyZWN0bHkgYXMgaW4gb3JpZ2luYWxcbiAgICAgIHVybDogdGhpcy5zZXR0aW5ncy5hamF4VXJsLCAvLyBVc2UgYWpheFVybCBmcm9tIHRoaXMuc2V0dGluZ3NcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aW9uOiAndGVzdF9uZXRzdWl0ZV9jb25uZWN0aW9uJywgLy8gRW5zdXJlIHRoaXMgYWN0aW9uIGlzIGNvcnJlY3RcbiAgICAgICAgbm9uY2U6IHRoaXMuc2V0dGluZ3Mubm9uY2UgLy8gVXNlIG5vbmNlIGZyb20gdGhpcy5zZXR0aW5nc1xuICAgICAgfVxuICAgIH0pXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIC8vIEFzc3VtaW5nIHJlc3BvbnNlIGlzIHsgc3VjY2VzczogdHJ1ZS9mYWxzZSwgZGF0YTogeyBtZXNzYWdlOiBcIi4uLlwiIH0gfSBvciB7IG1lc3NhZ2U6IFwiLi4uXCIgfVxuICAgICAgICBjb25zdCBtZXNzYWdlID0gKHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5tZXNzYWdlKSA/IHJlc3BvbnNlLmRhdGEubWVzc2FnZSA6IHJlc3BvbnNlLm1lc3NhZ2U7XG4gICAgICAgICRyZXN1bHQuaHRtbChgPHNwYW4gc3R5bGU9XCJjb2xvcjpncmVlbjtcIj4ke21lc3NhZ2UgfHwgJ0Nvbm5lY3Rpb24gc3VjY2Vzc2Z1bC4nfTwvc3Bhbj5gKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSkgPyBlcnJvci5tZXNzYWdlIDogKGkxOG4uZXJyb3IgfHwgJ0Vycm9yJyk7XG4gICAgICAgICRyZXN1bHQuaHRtbChgPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+JHtlcnJvck1lc3NhZ2V9PC9zcGFuPmApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgJGJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlVGFiQ2hhbmdlZChlLCB0YWJJZCkge1xuICAgIGlmICh0YWJJZCA9PT0gdGhpcy5zZXR0aW5ncy50YWJfaWQpIHtcbiAgICAgIHRoaXMudG9nZ2xlTmV0c3VpdGVGaWVsZHMoKTsgLy8gUmVmcmVzaCBmaWVsZCB2aXNpYmlsaXR5IHdoZW4gdGFiIGJlY29tZXMgYWN0aXZlXG4gICAgfVxuICAgIHRoaXMuY2xlYXJTdWJUYWJGcm9tVXJsKCk7XG4gIH1cblxuICB2YWxpZGF0ZVVybChlKSB7XG4gICAgY29uc3QgJGZpZWxkID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgdmFsdWUgPSAkZmllbGQudmFsKCkudHJpbSgpO1xuICAgIGNvbnN0IGkxOG4gPSB0aGlzLnNldHRpbmdzLmkxOG4gfHwgKHdpbmRvdy5uZXRzdWl0ZVNldHRpbmdzICYmIHdpbmRvdy5uZXRzdWl0ZVNldHRpbmdzLmkxOG4pIHx8IHt9O1xuXG4gICAgaWYgKHZhbHVlICYmICF0aGlzLmlzVmFsaWRVcmwodmFsdWUpKSB7XG4gICAgICB0aGlzLnNob3dGaWVsZEVycm9yKCRmaWVsZCwgaTE4bi5pbnZhbGlkVXJsIHx8ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRmaWVsZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpc1ZhbGlkVXJsKHVybCkge1xuICAgIHRyeSB7XG4gICAgICBuZXcgVVJMKHVybCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChfKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVSZXF1ZXN0TGltaXQoZSkge1xuICAgIGNvbnN0ICRmaWVsZCA9IHRoaXMuJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoJGZpZWxkLnZhbCgpLCAxMCk7XG4gICAgY29uc3QgaTE4biA9IHRoaXMuc2V0dGluZ3MuaTE4biB8fCAod2luZG93Lm5ldHN1aXRlU2V0dGluZ3MgJiYgd2luZG93Lm5ldHN1aXRlU2V0dGluZ3MuaTE4bikgfHwge307XG5cblxuICAgIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPCAxIHx8IHZhbHVlID4gMTAwKSB7IC8vIEV4YW1wbGUgcmFuZ2VcbiAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IoJGZpZWxkLCBpMThuLnJlcXVlc3RMaW1pdEVycm9yIHx8ICdSZXF1ZXN0IGxpbWl0IG11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMDAuJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRmaWVsZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YWxpZGF0ZUNhY2hlVGltZShlKSB7XG4gICAgY29uc3QgJGZpZWxkID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCgkZmllbGQudmFsKCksIDEwKTtcbiAgICBjb25zdCBpMThuID0gdGhpcy5zZXR0aW5ncy5pMThuIHx8ICh3aW5kb3cubmV0c3VpdGVTZXR0aW5ncyAmJiB3aW5kb3cubmV0c3VpdGVTZXR0aW5ncy5pMThuKSB8fCB7fTtcblxuICAgIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPCAwKSB7IC8vIEV4YW1wbGU6IG11c3QgYmUgbm9uLW5lZ2F0aXZlXG4gICAgICB0aGlzLnNob3dGaWVsZEVycm9yKCRmaWVsZCwgaTE4bi5jYWNoZVRpbWVFcnJvciB8fCAnQ2FjaGUgdGltZSBtdXN0IGJlIGF0IGxlYXN0IDAuJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRmaWVsZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzaG93RmllbGRFcnJvciBhbmQgY2xlYXJGaWVsZEVycm9yIGFyZSBpbmhlcml0ZWQuXG5cbiAgYWRkSW5mb1NlY3Rpb24obWVzc2FnZSkgeyAvLyBFeGFtcGxlIG9mIHVzaW5nIGltcG9ydGVkIGNyZWF0ZUVsZW1lbnRcbiAgICBjb25zdCAkc2V0dGluZ3NUYWJsZSA9IHRoaXMuJCgnI25ldHN1aXRlLXNldHRpbmdzLXRhYmxlJyk7IC8vIEVuc3VyZSB0aGlzIElEIGV4aXN0c1xuICAgIGlmICghJHNldHRpbmdzVGFibGUubGVuZ3RoIHx8ICFtZXNzYWdlKSByZXR1cm47XG5cbiAgICB0aGlzLiQoJy5uZXRzdWl0ZS1pbmZvLXNlY3Rpb24nKS5yZW1vdmUoKTsgLy8gUmVtb3ZlIGV4aXN0aW5nXG5cbiAgICBjb25zdCBpbmZvU2VjdGlvbiA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgLy8gY3JlYXRlRWxlbWVudCBmcm9tIEB1dGlscy9kb21cbiAgICAgIGNsYXNzTmFtZTogJ25ldHN1aXRlLWluZm8tc2VjdGlvbiBub3RpY2Ugbm90aWNlLWluZm8nLFxuICAgICAgc3R5bGU6IHsgcGFkZGluZzogJzEwcHgnLCBtYXJnaW5Cb3R0b206ICcxNXB4JyB9LFxuICAgICAgaW5uZXJIVE1MOiBtZXNzYWdlIC8vIEFzc3VtaW5nIG1lc3NhZ2UgY2FuIGJlIEhUTUxcbiAgICB9KTtcblxuICAgICRzZXR0aW5nc1RhYmxlLmJlZm9yZShpbmZvU2VjdGlvbik7XG4gIH1cbn1cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgaWYgKGpRdWVyeSgnI25ldHN1aXRlJykubGVuZ3RoKSB7IC8vIEFzc3VtaW5nICduZXRzdWl0ZScgaXMgdGhlIElEIG9mIHRoZSB0YWIgY29udGVudFxuICAgIHdpbmRvdy5OZXRzdWl0ZVNldHRpbmdzTW9kdWxlSW5zdGFuY2UgPSBuZXcgTmV0c3VpdGVTZXR0aW5nc01vZHVsZSgpO1xuICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTmV0c3VpdGVTZXR0aW5nc01vZHVsZTtcbiJdLCJuYW1lcyI6WyJhamF4UmVxdWVzdCIsImNyZWF0ZUVsZW1lbnQiLCJQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MiLCJOZXRzdWl0ZVNldHRpbmdzTW9kdWxlIiwiX1Byb2R1Y3RFc3RpbWF0b3JTZXR0IiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJfY2FsbFN1cGVyIiwiaXNNb2R1bGUiLCJzZXR0aW5nc09iamVjdE5hbWUiLCJkZWZhdWx0VGFiSWQiLCJ0ZXN0TmV0c3VpdGVDb25uZWN0aW9uIiwiYmluZCIsInRvZ2dsZU5ldHN1aXRlRmllbGRzIiwidmFsaWRhdGVVcmwiLCJ2YWxpZGF0ZVJlcXVlc3RMaW1pdCIsInZhbGlkYXRlQ2FjaGVUaW1lIiwiaGFuZGxlVGFiQ2hhbmdlZCIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwibW9kdWxlSW5pdCIsImJpbmRFdmVudHMiLCJzZXR1cERlcGVuZGVudEZpZWxkcyIsIiQiLCJkb2N1bWVudCIsIm9uIiwiZW5hYmxlZCIsImlzIiwiJGZpZWxkcyIsImNsb3Nlc3QiLCIkdGVzdEJ1dHRvbkNvbnRhaW5lciIsImZhZGVJbiIsImZhZGVPdXQiLCIkYnV0dG9uIiwiJHJlc3VsdCIsInByb3AiLCJpMThuIiwic2V0dGluZ3MiLCJ3aW5kb3ciLCJuZXRzdWl0ZVNldHRpbmdzIiwiaHRtbCIsImNvbmNhdCIsInRlc3RpbmciLCJ1cmwiLCJhamF4VXJsIiwidHlwZSIsImRhdGEiLCJhY3Rpb24iLCJub25jZSIsInRoZW4iLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJjYXRjaCIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwiZmluYWxseSIsImUiLCJ0YWJJZCIsInRhYl9pZCIsImNsZWFyU3ViVGFiRnJvbVVybCIsIiRmaWVsZCIsImN1cnJlbnRUYXJnZXQiLCJ2YWwiLCJ0cmltIiwiaXNWYWxpZFVybCIsInNob3dGaWVsZEVycm9yIiwiaW52YWxpZFVybCIsImNsZWFyRmllbGRFcnJvciIsIlVSTCIsIl8iLCJwYXJzZUludCIsImlzTmFOIiwicmVxdWVzdExpbWl0RXJyb3IiLCJjYWNoZVRpbWVFcnJvciIsImFkZEluZm9TZWN0aW9uIiwiJHNldHRpbmdzVGFibGUiLCJsZW5ndGgiLCJyZW1vdmUiLCJpbmZvU2VjdGlvbiIsImNsYXNzTmFtZSIsInN0eWxlIiwicGFkZGluZyIsIm1hcmdpbkJvdHRvbSIsImlubmVySFRNTCIsImJlZm9yZSIsImpRdWVyeSIsInJlYWR5IiwiTmV0c3VpdGVTZXR0aW5nc01vZHVsZUluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/modules/NetsuiteSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/NotificationSettingsModule.js":
/*!************************************************************!*\
  !*** ./src/js/admin/modules/NotificationSettingsModule.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_VerticalTabbedModule__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/VerticalTabbedModule */ \"./src/js/admin/common/VerticalTabbedModule.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n/**\n * Notification Settings JavaScript\n * Extends VerticalTabbedModule for common vertical tab and form handling.\n */\n // Import utilities needed for this module\n// import { setupTinyMCEHTMLPreservation } from '@utils/tinymce-preserver'; // If still needed specifically here\n\n // Adjust path as needed\nvar NotificationSettingsModule = /*#__PURE__*/function (_VerticalTabbedModule) {\n  function NotificationSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, NotificationSettingsModule);\n    _this = _callSuper(this, NotificationSettingsModule, [{\n      mainTabId: 'notifications',\n      defaultSubTabId: 'notifications-general',\n      // Default vertical tab\n      ajaxActionPrefix: 'save_notifications',\n      // Results in 'save_notifications_settings'\n      localizedDataName: 'notificationSettings'\n    }]);\n    _this.mediaFrame = null; // Specific to notifications for image uploads\n    return _this;\n  }\n\n  /**\n   * Override to bind module-specific events.\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(NotificationSettingsModule, _VerticalTabbedModule);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(NotificationSettingsModule, [{\n    key: \"bindModuleSpecificEvents\",\n    value: function bindModuleSpecificEvents() {\n      _superPropGet(NotificationSettingsModule, \"bindModuleSpecificEvents\", this, 3)([]);\n      if (!this.$container || !this.$container.length) return;\n      this.$container.on('change', '#enable_notifications', this.handleToggleAllNotifications.bind(this));\n      this.$container.on('change', 'input[id^=\"notification_\"][id$=\"_enabled\"]', this.handleToggleSingleNotification.bind(this));\n      this.$container.on('click', '.image-upload-button', this.handleImageUpload.bind(this));\n      this.$container.on('click', '.image-remove-button', this.handleImageRemove.bind(this));\n      this.$container.on('change', 'input[type=\"email\"]', this.handleEmailValidation.bind(this)); // e.g. #from_email\n    }\n\n    /**\n     * Override for actions when the main \"Notifications\" tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(NotificationSettingsModule, \"onMainTabActivated\", this, 3)([]);\n      this.setupDependentFieldsState(); // Initial state for toggles\n      this.setupNotificationEditors(); // e.g. TinyMCE\n      // this.setupMediaUploader(); // Media uploader is more general, could be in init if not already.\n      // Or ensure it's setup if it relies on tab being visible.\n    }\n  }, {\n    key: \"setupNotificationEditors\",\n    value: function setupNotificationEditors() {\n      if (!this.$container || !this.localizedData) return;\n      // Example: If using setupTinyMCEHTMLPreservation for specific editors in notifications\n      // const editorIds = this.localizedData.notification_types.map(type => `notification_${type}_content`);\n      // setupTinyMCEHTMLPreservation(editorIds, `#${this.config.mainTabId}`);\n    }\n  }, {\n    key: \"setupDependentFieldsState\",\n    value: function setupDependentFieldsState() {\n      var _this2 = this;\n      if (!this.$container || !this.$container.length) return;\n      this.handleToggleAllNotifications(); // Initial check for global toggle\n\n      // Initial check for individual notification toggles\n      this.$container.find('input[id^=\"notification_\"][id$=\"_enabled\"]').each(function (i, el) {\n        var $toggle = jQuery(el);\n        _this2.toggleSingleNotificationFields($toggle);\n      });\n    }\n  }, {\n    key: \"handleToggleAllNotifications\",\n    value: function handleToggleAllNotifications() {\n      var _this3 = this;\n      if (!this.$container || !this.$container.length) return;\n      var $globalEnableCheckbox = this.$container.find('#enable_notifications');\n      if (!$globalEnableCheckbox.length) {\n        return;\n      }\n      var isEnabled = $globalEnableCheckbox.is(':checked');\n      var $verticalTabsNavList = this.$container.find('.pe-vtabs-nav-list, .vertical-tabs-nav');\n      var $allNotificationTypeForms = this.$container.find('.pe-vtabs-tab-form[data-tab-id*=\"notification_type_\"]');\n      if (isEnabled) {\n        $verticalTabsNavList.removeClass('pe-vtabs-nav-disabled'); // Use class from admin-vertical-tabs.css\n        // Enable fields in specific notification type forms, but respect their individual toggles\n        this.$container.find('input[id^=\"notification_\"][id$=\"_enabled\"]').each(function (i, el) {\n          _this3.toggleSingleNotificationFields(jQuery(el));\n        });\n      } else {\n        $verticalTabsNavList.addClass('pe-vtabs-nav-disabled');\n        // Disable all fields in all notification type forms\n        $allNotificationTypeForms.find('input, textarea, button, select').not('.save-settings').prop('disabled', true);\n        $allNotificationTypeForms.find('.wp-editor-area').each(function () {\n          var editor = tinyMCE.get(jQuery(this).attr('id'));\n          if (editor) editor.setMode('readonly');\n        });\n      }\n    }\n  }, {\n    key: \"handleToggleSingleNotification\",\n    value: function handleToggleSingleNotification(e) {\n      this.toggleSingleNotificationFields(jQuery(e.currentTarget));\n    }\n  }, {\n    key: \"toggleSingleNotificationFields\",\n    value: function toggleSingleNotificationFields($toggleCheckbox) {\n      if (!this.$container || !this.$container.length) return;\n      var $ = jQuery;\n      var isChecked = $toggleCheckbox.is(':checked');\n      var formDataType = $toggleCheckbox.attr('id').replace('notification_', '').replace('_enabled', '');\n      var $form = this.$container.find(\".pe-vtabs-tab-form[data-sub-tab-id=\\\"notification-type-\".concat(formDataType, \"\\\"]\"));\n      if (!$form.length) {\n        return;\n      }\n\n      // Only proceed if global notifications are enabled\n      var $globalEnableCheckbox = this.$container.find('#enable_notifications');\n      if ($globalEnableCheckbox.length && !$globalEnableCheckbox.is(':checked')) {\n        // Fields should remain disabled by handleToggleAllNotifications\n        return;\n      }\n      $form.find('input, textarea, button, select').not($toggleCheckbox) // Don't disable the toggle itself\n      .not('.save-settings') // Don't disable the save button\n      .prop('disabled', !isChecked);\n      $form.find('.wp-editor-area').each(function () {\n        var editor = tinyMCE.get($(this).attr('id'));\n        if (editor) {\n          editor.setMode(isChecked ? 'design' : 'readonly');\n        }\n      });\n    }\n  }, {\n    key: \"handleImageUpload\",\n    value: function handleImageUpload(e) {\n      var _this4 = this;\n      e.preventDefault();\n      var $button = jQuery(e.currentTarget);\n      var fieldId = $button.data('field-id'); // e.g., 'company_logo'\n\n      if (this.mediaFrame) {\n        this.mediaFrame.off('select');\n      } else {\n        if (typeof wp === 'undefined' || !wp.media) {\n          return;\n        }\n        this.mediaFrame = wp.media({\n          title: this.localizedData.i18n.selectImage || 'Select Image',\n          button: {\n            text: this.localizedData.i18n.useThisImage || 'Use this image'\n          },\n          multiple: false,\n          library: {\n            type: 'image'\n          }\n        });\n      }\n      this.mediaFrame.on('select', function () {\n        var attachment = _this4.mediaFrame.state().get('selection').first().toJSON();\n        var $fieldInput = _this4.$container.find(\"#\".concat(fieldId));\n        var $previewWrapper = $fieldInput.closest('td').find('.image-preview-wrapper'); // Find relative to the input\n        var $removeButton = $fieldInput.closest('td').find('.image-remove-button');\n        $fieldInput.val(attachment.id).trigger('change');\n        $previewWrapper.html(\"<img src=\\\"\".concat(attachment.sizes.thumbnail ? attachment.sizes.thumbnail.url : attachment.url, \"\\\" alt=\\\"Preview\\\" />\"));\n        $removeButton.removeClass('hidden');\n      });\n      this.mediaFrame.open();\n    }\n  }, {\n    key: \"handleImageRemove\",\n    value: function handleImageRemove(e) {\n      e.preventDefault();\n      var $button = jQuery(e.currentTarget);\n      var fieldId = $button.data('field-id');\n      var $fieldInput = this.$container.find(\"#\".concat(fieldId));\n      var $previewWrapper = $fieldInput.closest('td').find('.image-preview-wrapper');\n      $fieldInput.val('').trigger('change');\n      $previewWrapper.empty();\n      $button.addClass('hidden');\n    }\n  }, {\n    key: \"handleEmailValidation\",\n    value: function handleEmailValidation(e) {\n      var $field = jQuery(e.target);\n      if (!$field.closest(this.$container).length) return;\n      var email = $field.val().trim();\n      var i18n = this.localizedData && this.localizedData.i18n || {};\n      if (email && !_utils__WEBPACK_IMPORTED_MODULE_6__.validation.validateEmail(email)) {\n        this.showFieldError($field, i18n.validationErrorEmail || 'Please enter a valid email address.');\n        return false;\n      }\n      this.clearFieldError($field);\n      return true;\n    }\n  }]);\n}(_common_VerticalTabbedModule__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\njQuery(document).ready(function () {\n  if (jQuery('#notifications').length) {\n    window.ProductEstimatorNotificationSettingsModule = new NotificationSettingsModule();\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (NotificationSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9Ob3RpZmljYXRpb25TZXR0aW5nc01vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNvQyxDQUFDO0FBQ3JDOztBQUVrRSxDQUFDO0FBQUEsSUFFN0RFLDBCQUEwQiwwQkFBQUMscUJBQUE7RUFDOUIsU0FBQUQsMkJBQUEsRUFBYztJQUFBLElBQUFFLEtBQUE7SUFBQUMsaUZBQUEsT0FBQUgsMEJBQUE7SUFDWkUsS0FBQSxHQUFBRSxVQUFBLE9BQUFKLDBCQUFBLEdBQU07TUFDSkssU0FBUyxFQUFFLGVBQWU7TUFDMUJDLGVBQWUsRUFBRSx1QkFBdUI7TUFBRTtNQUMxQ0MsZ0JBQWdCLEVBQUUsb0JBQW9CO01BQUU7TUFDeENDLGlCQUFpQixFQUFFO0lBQ3JCLENBQUM7SUFFRE4sS0FBQSxDQUFLTyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFBQSxPQUFBUCxLQUFBO0VBQzFCOztFQUVBO0FBQ0Y7QUFDQTtFQUZFUSwyRUFBQSxDQUFBViwwQkFBQSxFQUFBQyxxQkFBQTtFQUFBLE9BQUFVLDhFQUFBLENBQUFYLDBCQUFBO0lBQUFZLEdBQUE7SUFBQUMsS0FBQSxFQUdBLFNBQUFDLHdCQUF3QkEsQ0FBQSxFQUFHO01BQ3pCQyxhQUFBLENBQUFmLDBCQUFBO01BQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ2dCLFVBQVUsSUFBSSxDQUFDLElBQUksQ0FBQ0EsVUFBVSxDQUFDQyxNQUFNLEVBQUU7TUFFakQsSUFBSSxDQUFDRCxVQUFVLENBQUNFLEVBQUUsQ0FBQyxRQUFRLEVBQUUsdUJBQXVCLEVBQUUsSUFBSSxDQUFDQyw0QkFBNEIsQ0FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO01BQ25HLElBQUksQ0FBQ0osVUFBVSxDQUFDRSxFQUFFLENBQUMsUUFBUSxFQUFFLDRDQUE0QyxFQUFFLElBQUksQ0FBQ0csOEJBQThCLENBQUNELElBQUksQ0FBQyxJQUFJ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USxDQUFDLFFBQVEsQ0FBQztJQUM1QjtFQUFDO0lBQUFoQyxHQUFBO0lBQUFDLEtBQUEsRUFFRCxTQUFBVyxxQkFBcUJBLENBQUM0QixDQUFDLEVBQUU7TUFDdkIsSUFBTTJDLE1BQU0sR0FBRzVELE1BQU0sQ0FBQ2lCLENBQUMsQ0FBQzRDLE1BQU0sQ0FBQztNQUMvQixJQUFJLENBQUNELE1BQU0sQ0FBQ1gsT0FBTyxDQUFDLElBQUksQ0FBQ3BFLFVBQVUsQ0FBQyxDQUFDQyxNQUFNLEVBQUU7TUFFN0MsSUFBTWdGLEtBQUssR0FBR0YsTUFBTSxDQUFDVCxHQUFHLENBQUMsQ0FBQyxDQUFDWSxJQUFJLENBQUMsQ0FBQztNQUNqQyxJQUFNNUIsSUFBSSxHQUFJLElBQUksQ0FBQzFDLGFBQWEsSUFBSSxJQUFJLENBQUNBLGFBQWEsQ0FBQzBDLElBQUksSUFBSyxDQUFDLENBQUM7TUFDbEUsSUFBSTJCLEtBQUssSUFBSSxDQUFDbkcsNERBQXdCLENBQUNtRyxLQUFLLENBQUMsRUFBRTtRQUM3QyxJQUFJLENBQUNHLGNBQWMsQ0FBQ0wsTUFBTSxFQUFFekIsSUFBSSxDQUFDK0Isb0JBQW9CLElBQUkscUNBQXFDLENBQUM7UUFDL0YsT0FBTyxLQUFLO01BQ2Q7TUFDQSxJQUFJLENBQUNDLGVBQWUsQ0FBQ1AsTUFBTSxDQUFDO01BQzVCLE9BQU8sSUFBSTtJQUNiO0VBQUM7QUFBQSxFQWpMc0NoRyxvRUFBb0I7QUFvTDdEb0MsTUFBTSxDQUFDb0UsUUFBUSxDQUFDLENBQUNDLEtBQUssQ0FBQyxZQUFXO0VBQ2hDLElBQUlyRSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQ2xCLE1BQU0sRUFBRTtJQUNuQ3dGLE1BQU0sQ0FBQ0MsMENBQTBDLEdBQUcsSUFBSTFHLDBCQUEwQixDQUFDLENBQUM7RUFDdEY7QUFDRixDQUFDLENBQUM7QUFFRiwrREFBZUEsMEJBQTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvZHVjdC1lc3RpbWF0b3IvLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9Ob3RpZmljYXRpb25TZXR0aW5nc01vZHVsZS5qcz8zNWNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTm90aWZpY2F0aW9uIFNldHRpbmdzIEphdmFTY3JpcHRcbiAqIEV4dGVuZHMgVmVydGljYWxUYWJiZWRNb2R1bGUgZm9yIGNvbW1vbiB2ZXJ0aWNhbCB0YWIgYW5kIGZvcm0gaGFuZGxpbmcuXG4gKi9cbmltcG9ydCB7IHZhbGlkYXRpb24gfSBmcm9tICdAdXRpbHMnOyAvLyBJbXBvcnQgdXRpbGl0aWVzIG5lZWRlZCBmb3IgdGhpcyBtb2R1bGVcbi8vIGltcG9ydCB7IHNldHVwVGlueU1DRUhUTUxQcmVzZXJ2YXRpb24gfSBmcm9tICdAdXRpbHMvdGlueW1jZS1wcmVzZXJ2ZXInOyAvLyBJZiBzdGlsbCBuZWVkZWQgc3BlY2lmaWNhbGx5IGhlcmVcblxuaW1wb3J0IFZlcnRpY2FsVGFiYmVkTW9kdWxlIGZyb20gJy4uL2NvbW1vbi9WZXJ0aWNhbFRhYmJlZE1vZHVsZSc7IC8vIEFkanVzdCBwYXRoIGFzIG5lZWRlZFxuXG5jbGFzcyBOb3RpZmljYXRpb25TZXR0aW5nc01vZHVsZSBleHRlbmRzIFZlcnRpY2FsVGFiYmVkTW9kdWxlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoe1xuICAgICAgbWFpblRhYklkOiAnbm90aWZpY2F0aW9ucycsXG4gICAgICBkZWZhdWx0U3ViVGFiSWQ6ICdub3RpZmljYXRpb25zLWdlbmVyYWwnLCAvLyBEZWZhdWx0IHZlcnRpY2FsIHRhYlxuICAgICAgYWpheEFjdGlvblByZWZpeDogJ3NhdmVfbm90aWZpY2F0aW9ucycsIC8vIFJlc3VsdHMgaW4gJ3NhdmVfbm90aWZpY2F0aW9uc19zZXR0aW5ncydcbiAgICAgIGxvY2FsaXplZERhdGFOYW1lOiAnbm90aWZpY2F0aW9uU2V0dGluZ3MnXG4gICAgfSk7XG5cbiAgICB0aGlzLm1lZGlhRnJhbWUgPSBudWxsOyAvLyBTcGVjaWZpYyB0byBub3RpZmljYXRpb25zIGZvciBpbWFnZSB1cGxvYWRzXG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgdG8gYmluZCBtb2R1bGUtc3BlY2lmaWMgZXZlbnRzLlxuICAgKi9cbiAgYmluZE1vZHVsZVNwZWNpZmljRXZlbnRzKCkge1xuICAgIHN1cGVyLmJpbmRNb2R1bGVTcGVjaWZpY0V2ZW50cygpO1xuICAgIGlmICghdGhpcy4kY29udGFpbmVyIHx8ICF0aGlzLiRjb250YWluZXIubGVuZ3RoKSByZXR1cm47XG5cbiAgICB0aGlzLiRjb250YWluZXIub24oJ2NoYW5nZScsICcjZW5hYmxlX25vdGlmaWNhdGlvbnMnLCB0aGlzLmhhbmRsZVRvZ2dsZUFsbE5vdGlmaWNhdGlvbnMuYmluZCh0aGlzKSk7XG4gICAgdGhpcy4kY29udGFpbmVyLm9uKCdjaGFuZ2UnLCAnaW5wdXRbaWRePVwibm90aWZpY2F0aW9uX1wiXVtpZCQ9XCJfZW5hYmxlZFwiXScsIHRoaXMuaGFuZGxlVG9nZ2xlU2luZ2xlTm90aWZpY2F0aW9uLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCAnLmltYWdlLXVwbG9hZC1idXR0b24nLCB0aGlzLmhhbmRsZUltYWdlVXBsb2FkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCAnLmltYWdlLXJlbW92ZS1idXR0b24nLCB0aGlzLmhhbmRsZUltYWdlUmVtb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2hhbmdlJywgJ2lucHV0W3R5cGU9XCJlbWFpbFwiXScsIHRoaXMuaGFuZGxlRW1haWxWYWxpZGF0aW9uLmJpbmQodGhpcykpOyAvLyBlLmcuICNmcm9tX2VtYWlsXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBmb3IgYWN0aW9ucyB3aGVuIHRoZSBtYWluIFwiTm90aWZpY2F0aW9uc1wiIHRhYiBpcyBhY3RpdmF0ZWQuXG4gICAqL1xuICBvbk1haW5UYWJBY3RpdmF0ZWQoKSB7XG4gICAgc3VwZXIub25NYWluVGFiQWN0aXZhdGVkKCk7XG4gICAgdGhpcy5zZXR1cERlcGVuZGVudEZpZWxkc1N0YXRlKCk7IC8vIEluaXRpYWwgc3RhdGUgZm9yIHRvZ2dsZXNcbiAgICB0aGlzLnNldHVwTm90aWZpY2F0aW9uRWRpdG9ycygpOyAvLyBlLmcuIFRpbnlNQ0VcbiAgICAvLyB0aGlzLnNldHVwTWVkaWFVcGxvYWRlcigpOyAvLyBNZWRpYSB1cGxvYWRlciBpcyBtb3JlIGdlbmVyYWwsIGNvdWxkIGJlIGluIGluaXQgaWYgbm90IGFscmVhZHkuXG4gICAgLy8gT3IgZW5zdXJlIGl0J3Mgc2V0dXAgaWYgaXQgcmVsaWVzIG9uIHRhYiBiZWluZyB2aXNpYmxlLlxuICB9XG5cbiAgc2V0dXBOb3RpZmljYXRpb25FZGl0b3JzKCkge1xuICAgIGlmICghdGhpcy4kY29udGFpbmVyIHx8ICF0aGlzLmxvY2FsaXplZERhdGEpIHJldHVybjtcbiAgICAvLyBFeGFtcGxlOiBJZiB1c2luZyBzZXR1cFRpbnlNQ0VIVE1MUHJlc2VydmF0aW9uIGZvciBzcGVjaWZpYyBlZGl0b3JzIGluIG5vdGlmaWNhdGlvbnNcbiAgICAvLyBjb25zdCBlZGl0b3JJZHMgPSB0aGlzLmxvY2FsaXplZERhdGEubm90aWZpY2F0aW9uX3R5cGVzLm1hcCh0eXBlID0+IGBub3RpZmljYXRpb25fJHt0eXBlfV9jb250ZW50YCk7XG4gICAgLy8gc2V0dXBUaW55TUNFSFRNTFByZXNlcnZhdGlvbihlZGl0b3JJZHMsIGAjJHt0aGlzLmNvbmZpZy5tYWluVGFiSWR9YCk7XG4gIH1cblxuICBzZXR1cERlcGVuZGVudEZpZWxkc1N0YXRlKCkge1xuICAgIGlmICghdGhpcy4kY29udGFpbmVyIHx8ICF0aGlzLiRjb250YWluZXIubGVuZ3RoKSByZXR1cm47XG4gICAgdGhpcy5oYW5kbGVUb2dnbGVBbGxOb3RpZmljYXRpb25zKCk7IC8vIEluaXRpYWwgY2hlY2sgZm9yIGdsb2JhbCB0b2dnbGVcblxuICAgIC8vIEluaXRpYWwgY2hlY2sgZm9yIGluZGl2aWR1YWwgbm90aWZpY2F0aW9uIHRvZ2dsZXNcbiAgICB0aGlzLiRjb250YWluZXIuZmluZCgnaW5wdXRbaWRePVwibm90aWZpY2F0aW9uX1wiXVtpZCQ9XCJfZW5hYmxlZFwiXScpLmVhY2goKGksIGVsKSA9PiB7XG4gICAgICBjb25zdCAkdG9nZ2xlID0galF1ZXJ5KGVsKTtcbiAgICAgIHRoaXMudG9nZ2xlU2luZ2xlTm90aWZpY2F0aW9uRmllbGRzKCR0b2dnbGUpO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlVG9nZ2xlQWxsTm90aWZpY2F0aW9ucygpIHtcbiAgICBpZiAoIXRoaXMuJGNvbnRhaW5lciB8fCAhdGhpcy4kY29udGFpbmVyLmxlbmd0aCkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0ICRnbG9iYWxFbmFibGVDaGVja2JveCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKCcjZW5hYmxlX25vdGlmaWNhdGlvbnMnKTtcbiAgICBpZiAoISRnbG9iYWxFbmFibGVDaGVja2JveC5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXNFbmFibGVkID0gJGdsb2JhbEVuYWJsZUNoZWNrYm94LmlzKCc6Y2hlY2tlZCcpO1xuICAgIGNvbnN0ICR2ZXJ0aWNhbFRhYnNOYXZMaXN0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQoJy5wZS12dGFicy1uYXYtbGlzdCwgLnZlcnRpY2FsLXRhYnMtbmF2Jyk7XG4gICAgY29uc3QgJGFsbE5vdGlmaWNhdGlvblR5cGVGb3JtcyA9IHRoaXMuJGNvbnRhaW5lci5maW5kKCcucGUtdnRhYnMtdGFiLWZvcm1bZGF0YS10YWItaWQqPVwibm90aWZpY2F0aW9uX3R5cGVfXCJdJyk7XG5cblxuICAgIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgICR2ZXJ0aWNhbFRhYnNOYXZMaXN0LnJlbW92ZUNsYXNzKCdwZS12dGFicy1uYXYtZGlzYWJsZWQnKTsgLy8gVXNlIGNsYXNzIGZyb20gYWRtaW4tdmVydGljYWwtdGFicy5jc3NcbiAgICAgIC8vIEVuYWJsZSBmaWVsZHMgaW4gc3BlY2lmaWMgbm90aWZpY2F0aW9uIHR5cGUgZm9ybXMsIGJ1dCByZXNwZWN0IHRoZWlyIGluZGl2aWR1YWwgdG9nZ2xlc1xuICAgICAgdGhpcy4kY29udGFpbmVyLmZpbmQoJ2lucHV0W2lkXj1cIm5vdGlmaWNhdGlvbl9cIl1baWQkPVwiX2VuYWJsZWRcIl0nKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgICAgICB0aGlzLnRvZ2dsZVNpbmdsZU5vdGlmaWNhdGlvbkZpZWxkcyhqUXVlcnkoZWwpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkdmVydGljYWxUYWJzTmF2TGlzdC5hZGRDbGFzcygncGUtdnRhYnMtbmF2LWRpc2FibGVkJyk7XG4gICAgICAvLyBEaXNhYmxlIGFsbCBmaWVsZHMgaW4gYWxsIG5vdGlmaWNhdGlvbiB0eXBlIGZvcm1zXG4gICAgICAkYWxsTm90aWZpY2F0aW9uVHlwZUZvcm1zLmZpbmQoJ2lucHV0LCB0ZXh0YXJlYSwgYnV0dG9uLCBzZWxlY3QnKS5ub3QoJy5zYXZlLXNldHRpbmdzJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICRhbGxOb3RpZmljYXRpb25UeXBlRm9ybXMuZmluZCgnLndwLWVkaXRvci1hcmVhJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yID0gdGlueU1DRS5nZXQoalF1ZXJ5KHRoaXMpLmF0dHIoJ2lkJykpO1xuICAgICAgICBpZiAoZWRpdG9yKSBlZGl0b3Iuc2V0TW9kZSgncmVhZG9ubHknKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVRvZ2dsZVNpbmdsZU5vdGlmaWNhdGlvbihlKSB7XG4gICAgdGhpcy50b2dnbGVTaW5nbGVOb3RpZmljYXRpb25GaWVsZHMoalF1ZXJ5KGUuY3VycmVudFRhcmdldCkpO1xuICB9XG5cbiAgdG9nZ2xlU2luZ2xlTm90aWZpY2F0aW9uRmllbGRzKCR0b2dnbGVDaGVja2JveCkge1xuICAgIGlmICghdGhpcy4kY29udGFpbmVyIHx8ICF0aGlzLiRjb250YWluZXIubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgJCA9IGpRdWVyeTtcbiAgICBjb25zdCBpc0NoZWNrZWQgPSAkdG9nZ2xlQ2hlY2tib3guaXMoJzpjaGVja2VkJyk7XG4gICAgY29uc3QgZm9ybURhdGFUeXBlID0gJHRvZ2dsZUNoZWNrYm94LmF0dHIoJ2lkJykucmVwbGFjZSgnbm90aWZpY2F0aW9uXycsICcnKS5yZXBsYWNlKCdfZW5hYmxlZCcsICcnKTtcbiAgICBjb25zdCAkZm9ybSA9IHRoaXMuJGNvbnRhaW5lci5maW5kKGAucGUtdnRhYnMtdGFiLWZvcm1bZGF0YS1zdWItdGFiLWlkPVwibm90aWZpY2F0aW9uLXR5cGUtJHtmb3JtRGF0YVR5cGV9XCJdYCk7XG5cbiAgICBpZiAoISRmb3JtLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9ubHkgcHJvY2VlZCBpZiBnbG9iYWwgbm90aWZpY2F0aW9ucyBhcmUgZW5hYmxlZFxuICAgIGNvbnN0ICRnbG9iYWxFbmFibGVDaGVja2JveCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKCcjZW5hYmxlX25vdGlmaWNhdGlvbnMnKTtcbiAgICBpZiAoJGdsb2JhbEVuYWJsZUNoZWNrYm94Lmxlbmd0aCAmJiAhJGdsb2JhbEVuYWJsZUNoZWNrYm94LmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAvLyBGaWVsZHMgc2hvdWxkIHJlbWFpbiBkaXNhYmxlZCBieSBoYW5kbGVUb2dnbGVBbGxOb3RpZmljYXRpb25zXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgJGZvcm0uZmluZCgnaW5wdXQsIHRleHRhcmVhLCBidXR0b24sIHNlbGVjdCcpXG4gICAgICAubm90KCR0b2dnbGVDaGVja2JveCkgLy8gRG9uJ3QgZGlzYWJsZSB0aGUgdG9nZ2xlIGl0c2VsZlxuICAgICAgLm5vdCgnLnNhdmUtc2V0dGluZ3MnKSAvLyBEb24ndCBkaXNhYmxlIHRoZSBzYXZlIGJ1dHRvblxuICAgICAgLnByb3AoJ2Rpc2FibGVkJywgIWlzQ2hlY2tlZCk7XG5cbiAgICAkZm9ybS5maW5kKCcud3AtZWRpdG9yLWFyZWEnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgZWRpdG9yID0gdGlueU1DRS5nZXQoJCh0aGlzKS5hdHRyKCdpZCcpKTtcbiAgICAgIGlmIChlZGl0b3IpIHtcbiAgICAgICAgZWRpdG9yLnNldE1vZGUoaXNDaGVja2VkID8gJ2Rlc2lnbicgOiAncmVhZG9ubHknKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG5cbiAgaGFuZGxlSW1hZ2VVcGxvYWQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkYnV0dG9uID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgZmllbGRJZCA9ICRidXR0b24uZGF0YSgnZmllbGQtaWQnKTsgLy8gZS5nLiwgJ2NvbXBhbnlfbG9nbydcblxuICAgIGlmICh0aGlzLm1lZGlhRnJhbWUpIHtcbiAgICAgIHRoaXMubWVkaWFGcmFtZS5vZmYoJ3NlbGVjdCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHdwID09PSAndW5kZWZpbmVkJyB8fCAhd3AubWVkaWEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5tZWRpYUZyYW1lID0gd3AubWVkaWEoe1xuICAgICAgICB0aXRsZTogdGhpcy5sb2NhbGl6ZWREYXRhLmkxOG4uc2VsZWN0SW1hZ2UgfHwgJ1NlbGVjdCBJbWFnZScsXG4gICAgICAgIGJ1dHRvbjogeyB0ZXh0OiB0aGlzLmxvY2FsaXplZERhdGEuaTE4bi51c2VUaGlzSW1hZ2UgfHwgJ1VzZSB0aGlzIGltYWdlJyB9LFxuICAgICAgICBtdWx0aXBsZTogZmFsc2UsXG4gICAgICAgIGxpYnJhcnk6IHsgdHlwZTogJ2ltYWdlJyB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm1lZGlhRnJhbWUub24oJ3NlbGVjdCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSB0aGlzLm1lZGlhRnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpLmZpcnN0KCkudG9KU09OKCk7XG4gICAgICBjb25zdCAkZmllbGRJbnB1dCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKGAjJHtmaWVsZElkfWApO1xuICAgICAgY29uc3QgJHByZXZpZXdXcmFwcGVyID0gJGZpZWxkSW5wdXQuY2xvc2VzdCgndGQnKS5maW5kKCcuaW1hZ2UtcHJldmlldy13cmFwcGVyJyk7IC8vIEZpbmQgcmVsYXRpdmUgdG8gdGhlIGlucHV0XG4gICAgICBjb25zdCAkcmVtb3ZlQnV0dG9uID0gJGZpZWxkSW5wdXQuY2xvc2VzdCgndGQnKS5maW5kKCcuaW1hZ2UtcmVtb3ZlLWJ1dHRvbicpO1xuXG4gICAgICAkZmllbGRJbnB1dC52YWwoYXR0YWNobWVudC5pZCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAkcHJldmlld1dyYXBwZXIuaHRtbChgPGltZyBzcmM9XCIke2F0dGFjaG1lbnQuc2l6ZXMudGh1bWJuYWlsID8gYXR0YWNobWVudC5zaXplcy50aHVtYm5haWwudXJsIDogYXR0YWNobWVudC51cmx9XCIgYWx0PVwiUHJldmlld1wiIC8+YCk7XG4gICAgICAkcmVtb3ZlQnV0dG9uLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICB9KTtcbiAgICB0aGlzLm1lZGlhRnJhbWUub3BlbigpO1xuICB9XG5cbiAgaGFuZGxlSW1hZ2VSZW1vdmUoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCAkYnV0dG9uID0galF1ZXJ5KGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgZmllbGRJZCA9ICRidXR0b24uZGF0YSgnZmllbGQtaWQnKTtcbiAgICBjb25zdCAkZmllbGRJbnB1dCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKGAjJHtmaWVsZElkfWApO1xuICAgIGNvbnN0ICRwcmV2aWV3V3JhcHBlciA9ICRmaWVsZElucHV0LmNsb3Nlc3QoJ3RkJykuZmluZCgnLmltYWdlLXByZXZpZXctd3JhcHBlcicpO1xuXG4gICAgJGZpZWxkSW5wdXQudmFsKCcnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAkcHJldmlld1dyYXBwZXIuZW1wdHkoKTtcbiAgICAkYnV0dG9uLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgfVxuXG4gIGhhbmRsZUVtYWlsVmFsaWRhdGlvbihlKSB7XG4gICAgY29uc3QgJGZpZWxkID0galF1ZXJ5KGUudGFyZ2V0KTtcbiAgICBpZiAoISRmaWVsZC5jbG9zZXN0KHRoaXMuJGNvbnRhaW5lcikubGVuZ3RoKSByZXR1cm47XG5cbiAgICBjb25zdCBlbWFpbCA9ICRmaWVsZC52YWwoKS50cmltKCk7XG4gICAgY29uc3QgaTE4biA9ICh0aGlzLmxvY2FsaXplZERhdGEgJiYgdGhpcy5sb2NhbGl6ZWREYXRhLmkxOG4pIHx8IHt9O1xuICAgIGlmIChlbWFpbCAmJiAhdmFsaWRhdGlvbi52YWxpZGF0ZUVtYWlsKGVtYWlsKSkge1xuICAgICAgdGhpcy5zaG93RmllbGRFcnJvcigkZmllbGQsIGkxOG4udmFsaWRhdGlvbkVycm9yRW1haWwgfHwgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKCRmaWVsZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgaWYgKGpRdWVyeSgnI25vdGlmaWNhdGlvbnMnKS5sZW5ndGgpIHtcbiAgICB3aW5kb3cuUHJvZHVjdEVzdGltYXRvck5vdGlmaWNhdGlvblNldHRpbmdzTW9kdWxlID0gbmV3IE5vdGlmaWNhdGlvblNldHRpbmdzTW9kdWxlKCk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBOb3RpZmljYXRpb25TZXR0aW5nc01vZHVsZTtcbiJdLCJuYW1lcyI6WyJ2YWxpZGF0aW9uIiwiVmVydGljYWxUYWJiZWRNb2R1bGUiLCJOb3RpZmljYXRpb25TZXR0aW5nc01vZHVsZSIsIl9WZXJ0aWNhbFRhYmJlZE1vZHVsZSIsIl90aGlzIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2NhbGxTdXBlciIsIm1haW5UYWJJZCIsImRlZmF1bHRTdWJUYWJJZCIsImFqYXhBY3Rpb25QcmVmaXgiLCJsb2NhbGl6ZWREYXRhTmFtZSIsIm1lZGlhRnJhbWUiLCJfaW5oZXJpdHMiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsImJpbmRNb2R1bGVTcGVjaWZpY0V2ZW50cyIsIl9zdXBlclByb3BHZXQiLCIkY29udGFpbmVyIiwibGVuZ3RoIiwib24iLCJoYW5kbGVUb2dnbGVBbGxOb3RpZmljYXRpb25zIiwiYmluZCIsImhhbmRsZVRvZ2dsZVNpbmdsZU5vdGlmaWNhdGlvbiIsImhhbmRsZUltYWdlVXBsb2FkIiwiaGFuZGxlSW1hZ2VSZW1vdmUiLCJoYW5kbGVFbWFpbFZhbGlkYXRpb24iLCJvbk1haW5UYWJBY3RpdmF0ZWQiLCJzZXR1cERlcGVuZGVudEZpZWxkc1N0YXRlIiwic2V0dXBOb3RpZmljYXRpb25FZGl0b3JzIiwibG9jYWxpemVkRGF0YSIsIl90aGlzMiIsImZpbmQiLCJlYWNoIiwiaSIsImVsIiwiJHRvZ2dsZSIsImpRdWVyeSIsInRvZ2dsZVNpbmdsZU5vdGlmaWNhdGlvbkZpZWxkcyIsIl90aGlzMyIsIiRnbG9iYWxFbmFibGVDaGVja2JveCIsImlzRW5hYmxlZCIsImlzIiwiJHZlcnRpY2FsVGFic05hdkxpc3QiLCIkYWxsTm90aWZpY2F0aW9uVHlwZUZvcm1zIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIm5vdCIsInByb3AiLCJlZGl0b3IiLCJ0aW55TUNFIiwiZ2V0IiwiYXR0ciIsInNldE1vZGUiLCJlIiwiY3VycmVudFRhcmdldCIsIiR0b2dnbGVDaGVja2JveCIsIiQiLCJpc0NoZWNrZWQiLCJmb3JtRGF0YVR5cGUiLCJyZXBsYWNlIiwiJGZvcm0iLCJjb25jYXQiLCJfdGhpczQiLCJwcmV2ZW50RGVmYXVsdCIsIiRidXR0b24iLCJmaWVsZElkIiwiZGF0YSIsIm9mZiIsIndwIiwibWVkaWEiLCJ0aXRsZSIsImkxOG4iLCJzZWxlY3RJbWFnZSIsImJ1dHRvbiIsInRleHQiLCJ1c2VUaGlzSW1hZ2UiLCJtdWx0aXBsZSIsImxpYnJhcnkiLCJ0eXBlIiwiYXR0YWNobWVudCIsInN0YXRlIiwiZmlyc3QiLCJ0b0pTT04iLCIkZmllbGRJbnB1dCIsIiRwcmV2aWV3V3JhcHBlciIsImNsb3Nlc3QiLCIkcmVtb3ZlQnV0dG9uIiwidmFsIiwiaWQiLCJ0cmlnZ2VyIiwiaHRtbCIsInNpemVzIiwidGh1bWJuYWlsIiwidXJsIiwib3BlbiIsImVtcHR5IiwiJGZpZWxkIiwidGFyZ2V0IiwiZW1haWwiLCJ0cmltIiwidmFsaWRhdGVFbWFpbCIsInNob3dGaWVsZEVycm9yIiwidmFsaWRhdGlvbkVycm9yRW1haWwiLCJjbGVhckZpZWxkRXJyb3IiLCJkb2N1bWVudCIsInJlYWR5Iiwid2luZG93IiwiUHJvZHVjdEVzdGltYXRvck5vdGlmaWNhdGlvblNldHRpbmdzTW9kdWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/modules/NotificationSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/PricingRulesSettingsModule.js":
/*!************************************************************!*\
  !*** ./src/js/admin/modules/PricingRulesSettingsModule.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/AdminTableManager */ \"./src/js/admin/common/AdminTableManager.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n/**\n * Pricing Rules Settings JavaScript\n *\n * Handles functionality specific to the pricing rules settings tab.\n * Extends AdminTableManager for common table and form management.\n */\n\n\nvar PricingRulesSettingsModule = /*#__PURE__*/function (_AdminTableManager) {\n  /**\n   * Constructor for PricingRulesSettingsModule.\n   */\n  function PricingRulesSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, PricingRulesSettingsModule);\n    var config = {\n      mainTabId: 'pricing_rules',\n      defaultSubTabId: 'pricing_rules_table',\n      // Specify default sub-tab ID to match PHP definitions\n      localizedDataName: 'pricingRulesSettings'\n      // AdminTableManager passes this to VerticalTabbedModule,\n      // which passes relevant parts to ProductEstimatorSettings.\n    };\n    _this = _callSuper(this, PricingRulesSettingsModule, [config]); // Calls AdminTableManager constructor\n\n    // this.logger is initialized by AdminTableManager\n    // this.settings is populated by ProductEstimatorSettings via the super chain\n\n    // Defer DOM-dependent specific initializations until the base AdminTableManager signals it's ready\n    _this.$(document).on(\"admin_table_manager_ready_\".concat(_this.config.mainTabId), function () {\n      _this._cachePricingRulesDOM();\n      _this._bindSpecificEvents();\n      _this._initializeSelect2();\n    });\n    return _this;\n  }\n\n  /**\n   * Cache DOM elements specific to Pricing Rules, beyond what AdminTableManager caches.\n   * @private\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(PricingRulesSettingsModule, _AdminTableManager);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(PricingRulesSettingsModule, [{\n    key: \"_cachePricingRulesDOM\",\n    value: function _cachePricingRulesDOM() {\n      // this.dom is initialized by AdminTableManager. Add Pricing Rules specific elements.\n      if (this.settings && this.settings.selectors) {\n        var prSelectors = this.settings.selectors;\n        this.dom.categoriesSelect = this.$container.find(prSelectors.categoriesSelect);\n        this.dom.pricingMethodSelect = this.$container.find(prSelectors.pricingMethodSelect);\n        this.dom.pricingSourceSelect = this.$container.find(prSelectors.pricingSourceSelect);\n      } else {\n        this.logger.warn('PricingRulesSettingsModule: settings or selectors not available for DOM caching');\n      }\n    }\n\n    /**\n     * Bind events specific to Pricing Rules.\n     * This is called after the `admin_table_manager_ready` event.\n     * @private\n     */\n  }, {\n    key: \"_bindSpecificEvents\",\n    value: function _bindSpecificEvents() {\n      // Ensure this.dom elements are available (cached by _cachePricingRulesDOM or base)\n      if (!this.dom.form || !this.dom.form.length) {\n        return;\n      }\n    }\n\n    /**\n     * Initialize Select2 components.\n     * This is called after the `admin_table_manager_ready` event.\n     * @private\n     */\n  }, {\n    key: \"_initializeSelect2\",\n    value: function _initializeSelect2() {\n      this.initializeSelect2Dropdowns({\n        elements: [{\n          element: this.dom.categoriesSelect,\n          placeholderKey: 'selectCategories',\n          fallbackText: 'Select categories',\n          name: 'categories',\n          config: {\n            clearInitial: true\n          }\n        }],\n        moduleName: 'Pricing Rules'\n      });\n    }\n\n    /**\n     * Overridden from VerticalTabbedModule. Called when the \"Pricing Rules\" main tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(PricingRulesSettingsModule, \"onMainTabActivated\", this, 3)([]); // Call parent method\n\n      // Refresh Select2 components if they're already initialized\n      if (this.dom.categoriesSelect && this.dom.categoriesSelect.hasClass(\"select2-hidden-accessible\")) {\n        this.refreshSelect2(this.dom.categoriesSelect);\n      }\n    }\n\n    /**\n     * Override AdminTableManager.resetForm to include Pricing Rules specific fields.\n     */\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      var _this$dom$categoriesS, _this$dom$pricingMeth, _this$dom$pricingSour;\n      _superPropGet(PricingRulesSettingsModule, \"resetForm\", this, 3)([]); // Call base class method first\n\n      // Reset Pricing Rules specific fields\n      (_this$dom$categoriesS = this.dom.categoriesSelect) === null || _this$dom$categoriesS === void 0 || _this$dom$categoriesS.val(null).trigger('change.select2'); // Clear Select2\n      (_this$dom$pricingMeth = this.dom.pricingMethodSelect) === null || _this$dom$pricingMeth === void 0 || _this$dom$pricingMeth.val('');\n      (_this$dom$pricingSour = this.dom.pricingSourceSelect) === null || _this$dom$pricingSour === void 0 || _this$dom$pricingSour.val('');\n    }\n\n    /**\n     * Override AdminTableManager.populateFormWithData for Pricing Rules specific fields.\n     * @param {object} itemData - The data for the pricing rule item to populate the form with\n     * @override\n     */\n  }, {\n    key: \"populateFormWithData\",\n    value: function populateFormWithData(itemData) {\n      var _this2 = this;\n      _superPropGet(PricingRulesSettingsModule, \"populateFormWithData\", this, 3)([itemData]); // Sets item ID, calls base logic\n\n      var categories = itemData.categories || [];\n      var pricingMethod = itemData.pricing_method || '';\n      var pricingSource = itemData.pricing_source || '';\n\n      // Use setTimeout to allow dependent field visibility changes to complete\n      setTimeout(function () {\n        var _this2$dom$categories, _this2$dom$pricingMet, _this2$dom$pricingSou;\n        (_this2$dom$categories = _this2.dom.categoriesSelect) === null || _this2$dom$categories === void 0 || _this2$dom$categories.val(categories).trigger('change.select2');\n        (_this2$dom$pricingMet = _this2.dom.pricingMethodSelect) === null || _this2$dom$pricingMet === void 0 || _this2$dom$pricingMet.val(pricingMethod);\n        (_this2$dom$pricingSou = _this2.dom.pricingSourceSelect) === null || _this2$dom$pricingSou === void 0 || _this2$dom$pricingSou.val(pricingSource);\n        _this2.formModified = false; // Reset modified flag after populating\n      }, 150); // Small delay\n    }\n\n    /**\n     * Override AdminTableManager.validateForm for Pricing Rules specific validation.\n     * @returns {boolean} True if the form passes validation, false otherwise\n     * @override\n     */\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this$dom$categoriesS2, _this$dom$pricingMeth2, _this$dom$pricingSour2, _this$dom$categoriesS3;\n      var isValid = _superPropGet(PricingRulesSettingsModule, \"validateForm\", this, 3)([]); // Perform base validation first\n\n      // Get values\n      var categories = (_this$dom$categoriesS2 = this.dom.categoriesSelect) === null || _this$dom$categoriesS2 === void 0 ? void 0 : _this$dom$categoriesS2.val(); // Returns array for multi-select\n      var pricingMethod = (_this$dom$pricingMeth2 = this.dom.pricingMethodSelect) === null || _this$dom$pricingMeth2 === void 0 ? void 0 : _this$dom$pricingMeth2.val();\n      var pricingSource = (_this$dom$pricingSour2 = this.dom.pricingSourceSelect) === null || _this$dom$pricingSour2 === void 0 ? void 0 : _this$dom$pricingSour2.val();\n\n      // i18n messages from this.settings.i18n\n      var i18n = this.settings.i18n || {};\n\n      // Clear previous specific errors\n      this.clearFieldError((_this$dom$categoriesS3 = this.dom.categoriesSelect) === null || _this$dom$categoriesS3 === void 0 ? void 0 : _this$dom$categoriesS3.next('.select2-container'));\n      this.clearFieldError(this.dom.pricingMethodSelect);\n      this.clearFieldError(this.dom.pricingSourceSelect);\n      if (!categories || categories.length === 0) {\n        var _this$dom$categoriesS4;\n        this.showFieldError((_this$dom$categoriesS4 = this.dom.categoriesSelect) === null || _this$dom$categoriesS4 === void 0 ? void 0 : _this$dom$categoriesS4.next('.select2-container'), i18n.selectCategories || 'Please select categories.');\n        isValid = false;\n      }\n      if (!pricingMethod) {\n        this.showFieldError(this.dom.pricingMethodSelect, i18n.selectPricingMethod || 'Please select a pricing method.');\n        isValid = false;\n      }\n      if (!pricingSource) {\n        this.showFieldError(this.dom.pricingSourceSelect, i18n.selectPricingSource || 'Please select a pricing source.');\n        isValid = false;\n      }\n      return isValid;\n    }\n\n    /**\n     * Custom column population method for 'categories' column\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_categories\",\n    value: function populateColumn_categories($cell, itemData) {\n      $cell.text(itemData.category_names || 'N/A');\n    }\n\n    /**\n     * Custom column population method for 'pricing_method' column\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_pricing_method\",\n    value: function populateColumn_pricing_method($cell, itemData) {\n      $cell.text(itemData.pricing_label || 'N/A');\n    }\n  }]);\n}(_common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"]); // Initialize the module when the DOM is ready and its main tab container exists.\njQuery(document).ready(function ($) {\n  var mainTabId = 'pricing_rules'; // Specific to this module\n  var localizedDataObjectName = 'pricingRulesSettings'; // Global settings object name\n\n  if ($(\"#\".concat(mainTabId)).length) {\n    // Check if the global localized data for this module is available\n    if (window[localizedDataObjectName]) {\n      // Instantiate the module once\n      if (!window.PricingRulesSettingsModuleInstance) {\n        try {\n          // Create a properly configured instance with the correct defaultSubTabId\n          window.PricingRulesSettingsModuleInstance = new PricingRulesSettingsModule();\n        } catch (error) {\n          var errorLogger = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('PricingRulesInit');\n          errorLogger.error('Error instantiating PricingRulesSettingsModule:', error);\n          // Use the global notice system if ProductEstimatorSettings is available\n          if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n            window.ProductEstimatorSettingsInstance.showNotice('Failed to initialize Pricing Rules settings. Check console for errors.', 'error');\n          }\n        }\n      }\n    } else {\n      var _errorLogger = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('PricingRulesInit');\n      _errorLogger.error(\"Localized data object \\\"\".concat(localizedDataObjectName, \"\\\" not found for tab: \").concat(mainTabId, \". Module cannot be initialized.\"));\n      if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n        window.ProductEstimatorSettingsInstance.showNotice(\"Configuration data for Pricing Rules (\\\"\".concat(localizedDataObjectName, \"\\\") is missing. Module disabled.\"), 'error');\n      }\n    }\n  } else {\n    var warnLogger = (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('PricingRulesInit');\n    warnLogger.warn(\"Main container #\".concat(mainTabId, \" not found. PricingRulesSettingsModule will not be initialized.\"));\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (PricingRulesSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9QcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0M7QUFFc0I7QUFBQSxJQUV0REUsMEJBQTBCLDBCQUFBQyxrQkFBQTtFQUM5QjtBQUNGO0FBQ0E7RUFDRSxTQUFBRCwyQkFBQSxFQUFjO0lBQUEsSUFBQUUsS0FBQTtJQUFBQyxpRkFBQSxPQUFBSCwwQkFBQTtJQUNaLElBQU1JLE1BQU0sR0FBRztNQUNiQyxTQUFTLEVBQUUsZUFBZTtNQUMxQkMsZUFBZSxFQUFFLHFCQUFxQjtNQUFFO01BQ3hDQyxpQkFBaUIsRUFBRTtNQUNuQjtNQUNBO0lBQ0YsQ0FBQztJQUNETCxLQUFBLEdBQUFNLFVBQUEsT0FBQVIsMEJBQUEsR0FBTUksTUFBTSxHQUFFLENBQUM7O0lBR2Y7SUFDQTs7SUFFQTtJQUNBRixLQUFBLENBQUtPLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUNDLEVBQUUsOEJBQUFDLE1BQUEsQ0FBOEJWLEtBQUEsQ0FBS0UsTUFBTSxDQUFDQyxTQUFTLEdBQUksWUFBTTtNQUM5RUgsS0FBQSxDQUFLVyxxQkFBcUIsQ0FBQyxDQUFDO01BQzVCWCxLQUFBLENBQUtZLG1CQUFtQixDQUFDLENBQUM7TUFDMUJaLEtBQUEsQ0FBS2Esa0JBQWtCLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUM7SUFBQyxPQUFBYixLQUFBO0VBRUw7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7RUFIRWMsMkVBQUEsQ0FBQWhCLDBCQUFBLEVBQUFDLGtCQUFBO0VBQUEsT0FBQWdCLDhFQUFBLENBQUFqQiwwQkFBQTtJQUFBa0IsR0FBQTtJQUFBQyxLQUFBLEVBSUEsU0FBQU4scUJBQXFCQSxDQUFBLEVBQUc7TUFDdEI7TUFDQSxJQUFJLElBQUksQ0FBQ08sUUFBUSxJQUFJLElBQUksQ0FBQ0EsUUFBUSxDQUFDQyxTQUFTLEVBQUU7UUFD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QUFPLENBQUM7TUFDaks7SUFDRjtFQUNGLENBQUMsTUFBTTtJQUNMLElBQU1PLFVBQVUsR0FBRy9GLG9EQUFZLENBQUMsa0JBQWtCLENBQUM7SUFDbkQrRixVQUFVLENBQUMvRCxJQUFJLG9CQUFBbEIsTUFBQSxDQUFvQlAsU0FBUyxvRUFBaUUsQ0FBQztFQUNoSDtBQUNGLENBQUMsQ0FBQztBQUVGLCtEQUFlTCwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kdWN0LWVzdGltYXRvci8uL3NyYy9qcy9hZG1pbi9tb2R1bGVzL1ByaWNpbmdSdWxlc1NldHRpbmdzTW9kdWxlLmpzPzg3NTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQcmljaW5nIFJ1bGVzIFNldHRpbmdzIEphdmFTY3JpcHRcbiAqXG4gKiBIYW5kbGVzIGZ1bmN0aW9uYWxpdHkgc3BlY2lmaWMgdG8gdGhlIHByaWNpbmcgcnVsZXMgc2V0dGluZ3MgdGFiLlxuICogRXh0ZW5kcyBBZG1pblRhYmxlTWFuYWdlciBmb3IgY29tbW9uIHRhYmxlIGFuZCBmb3JtIG1hbmFnZW1lbnQuXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0B1dGlscyc7XG5cbmltcG9ydCBBZG1pblRhYmxlTWFuYWdlciBmcm9tICcuLi9jb21tb24vQWRtaW5UYWJsZU1hbmFnZXInO1xuXG5jbGFzcyBQcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZSBleHRlbmRzIEFkbWluVGFibGVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBQcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgIG1haW5UYWJJZDogJ3ByaWNpbmdfcnVsZXMnLFxuICAgICAgZGVmYXVsdFN1YlRhYklkOiAncHJpY2luZ19ydWxlc190YWJsZScsIC8vIFNwZWNpZnkgZGVmYXVsdCBzdWItdGFiIElEIHRvIG1hdGNoIFBIUCBkZWZpbml0aW9uc1xuICAgICAgbG9jYWxpemVkRGF0YU5hbWU6ICdwcmljaW5nUnVsZXNTZXR0aW5ncydcbiAgICAgIC8vIEFkbWluVGFibGVNYW5hZ2VyIHBhc3NlcyB0aGlzIHRvIFZlcnRpY2FsVGFiYmVkTW9kdWxlLFxuICAgICAgLy8gd2hpY2ggcGFzc2VzIHJlbGV2YW50IHBhcnRzIHRvIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5cbiAgICB9O1xuICAgIHN1cGVyKGNvbmZpZyk7IC8vIENhbGxzIEFkbWluVGFibGVNYW5hZ2VyIGNvbnN0cnVjdG9yXG5cblxuICAgIC8vIHRoaXMubG9nZ2VyIGlzIGluaXRpYWxpemVkIGJ5IEFkbWluVGFibGVNYW5hZ2VyXG4gICAgLy8gdGhpcy5zZXR0aW5ncyBpcyBwb3B1bGF0ZWQgYnkgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIHZpYSB0aGUgc3VwZXIgY2hhaW5cblxuICAgIC8vIERlZmVyIERPTS1kZXBlbmRlbnQgc3BlY2lmaWMgaW5pdGlhbGl6YXRpb25zIHVudGlsIHRoZSBiYXNlIEFkbWluVGFibGVNYW5hZ2VyIHNpZ25hbHMgaXQncyByZWFkeVxuICAgIHRoaXMuJChkb2N1bWVudCkub24oYGFkbWluX3RhYmxlX21hbmFnZXJfcmVhZHlfJHt0aGlzLmNvbmZpZy5tYWluVGFiSWR9YCwgKCkgPT4ge1xuICAgICAgdGhpcy5fY2FjaGVQcmljaW5nUnVsZXNET00oKTtcbiAgICAgIHRoaXMuX2JpbmRTcGVjaWZpY0V2ZW50cygpO1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZVNlbGVjdDIoKTtcbiAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIERPTSBlbGVtZW50cyBzcGVjaWZpYyB0byBQcmljaW5nIFJ1bGVzLCBiZXlvbmQgd2hhdCBBZG1pblRhYmxlTWFuYWdlciBjYWNoZXMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2FjaGVQcmljaW5nUnVsZXNET00oKSB7XG4gICAgLy8gdGhpcy5kb20gaXMgaW5pdGlhbGl6ZWQgYnkgQWRtaW5UYWJsZU1hbmFnZXIuIEFkZCBQcmljaW5nIFJ1bGVzIHNwZWNpZmljIGVsZW1lbnRzLlxuICAgIGlmICh0aGlzLnNldHRpbmdzICYmIHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzKSB7XG4gICAgICBjb25zdCBwclNlbGVjdG9ycyA9IHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzO1xuICAgICAgdGhpcy5kb20uY2F0ZWdvcmllc1NlbGVjdCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHByU2VsZWN0b3JzLmNhdGVnb3JpZXNTZWxlY3QpO1xuICAgICAgdGhpcy5kb20ucHJpY2luZ01ldGhvZFNlbGVjdCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHByU2VsZWN0b3JzLnByaWNpbmdNZXRob2RTZWxlY3QpO1xuICAgICAgdGhpcy5kb20ucHJpY2luZ1NvdXJjZVNlbGVjdCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHByU2VsZWN0b3JzLnByaWNpbmdTb3VyY2VTZWxlY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdQcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZTogc2V0dGluZ3Mgb3Igc2VsZWN0b3JzIG5vdCBhdmFpbGFibGUgZm9yIERPTSBjYWNoaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnRzIHNwZWNpZmljIHRvIFByaWNpbmcgUnVsZXMuXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHRoZSBgYWRtaW5fdGFibGVfbWFuYWdlcl9yZWFkeWAgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYmluZFNwZWNpZmljRXZlbnRzKCkge1xuICAgIC8vIEVuc3VyZSB0aGlzLmRvbSBlbGVtZW50cyBhcmUgYXZhaWxhYmxlIChjYWNoZWQgYnkgX2NhY2hlUHJpY2luZ1J1bGVzRE9NIG9yIGJhc2UpXG4gICAgaWYgKCF0aGlzLmRvbS5mb3JtIHx8ICF0aGlzLmRvbS5mb3JtLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgU2VsZWN0MiBjb21wb25lbnRzLlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB0aGUgYGFkbWluX3RhYmxlX21hbmFnZXJfcmVhZHlgIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXRpYWxpemVTZWxlY3QyKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZVNlbGVjdDJEcm9wZG93bnMoe1xuICAgICAgZWxlbWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZG9tLmNhdGVnb3JpZXNTZWxlY3QsXG4gICAgICAgICAgcGxhY2Vob2xkZXJLZXk6ICdzZWxlY3RDYXRlZ29yaWVzJyxcbiAgICAgICAgICBmYWxsYmFja1RleHQ6ICdTZWxlY3QgY2F0ZWdvcmllcycsXG4gICAgICAgICAgbmFtZTogJ2NhdGVnb3JpZXMnLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgY2xlYXJJbml0aWFsOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbW9kdWxlTmFtZTogJ1ByaWNpbmcgUnVsZXMnXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGRlbiBmcm9tIFZlcnRpY2FsVGFiYmVkTW9kdWxlLiBDYWxsZWQgd2hlbiB0aGUgXCJQcmljaW5nIFJ1bGVzXCIgbWFpbiB0YWIgaXMgYWN0aXZhdGVkLlxuICAgKi9cbiAgb25NYWluVGFiQWN0aXZhdGVkKCkge1xuICAgIHN1cGVyLm9uTWFpblRhYkFjdGl2YXRlZCgpOyAvLyBDYWxsIHBhcmVudCBtZXRob2RcblxuICAgIC8vIFJlZnJlc2ggU2VsZWN0MiBjb21wb25lbnRzIGlmIHRoZXkncmUgYWxyZWFkeSBpbml0aWFsaXplZFxuICAgIGlmICh0aGlzLmRvbS5jYXRlZ29yaWVzU2VsZWN0ICYmIHRoaXMuZG9tLmNhdGVnb3JpZXNTZWxlY3QuaGFzQ2xhc3MoXCJzZWxlY3QyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpKSB7XG4gICAgICB0aGlzLnJlZnJlc2hTZWxlY3QyKHRoaXMuZG9tLmNhdGVnb3JpZXNTZWxlY3QpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBBZG1pblRhYmxlTWFuYWdlci5yZXNldEZvcm0gdG8gaW5jbHVkZSBQcmljaW5nIFJ1bGVzIHNwZWNpZmljIGZpZWxkcy5cbiAgICovXG4gIHJlc2V0Rm9ybSgpIHtcbiAgICBzdXBlci5yZXNldEZvcm0oKTsgLy8gQ2FsbCBiYXNlIGNsYXNzIG1ldGhvZCBmaXJzdFxuXG4gICAgLy8gUmVzZXQgUHJpY2luZyBSdWxlcyBzcGVjaWZpYyBmaWVsZHNcbiAgICB0aGlzLmRvbS5jYXRlZ29yaWVzU2VsZWN0Py52YWwobnVsbCkudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTsgLy8gQ2xlYXIgU2VsZWN0MlxuICAgIHRoaXMuZG9tLnByaWNpbmdNZXRob2RTZWxlY3Q/LnZhbCgnJyk7XG4gICAgdGhpcy5kb20ucHJpY2luZ1NvdXJjZVNlbGVjdD8udmFsKCcnKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIEFkbWluVGFibGVNYW5hZ2VyLnBvcHVsYXRlRm9ybVdpdGhEYXRhIGZvciBQcmljaW5nIFJ1bGVzIHNwZWNpZmljIGZpZWxkcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1EYXRhIC0gVGhlIGRhdGEgZm9yIHRoZSBwcmljaW5nIHJ1bGUgaXRlbSB0byBwb3B1bGF0ZSB0aGUgZm9ybSB3aXRoXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wdWxhdGVGb3JtV2l0aERhdGEoaXRlbURhdGEpIHtcbiAgICBzdXBlci5wb3B1bGF0ZUZvcm1XaXRoRGF0YShpdGVtRGF0YSk7IC8vIFNldHMgaXRlbSBJRCwgY2FsbHMgYmFzZSBsb2dpY1xuXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGl0ZW1EYXRhLmNhdGVnb3JpZXMgfHwgW107XG4gICAgY29uc3QgcHJpY2luZ01ldGhvZCA9IGl0ZW1EYXRhLnByaWNpbmdfbWV0aG9kIHx8ICcnO1xuICAgIGNvbnN0IHByaWNpbmdTb3VyY2UgPSBpdGVtRGF0YS5wcmljaW5nX3NvdXJjZSB8fCAnJztcblxuICAgIC8vIFVzZSBzZXRUaW1lb3V0IHRvIGFsbG93IGRlcGVuZGVudCBmaWVsZCB2aXNpYmlsaXR5IGNoYW5nZXMgdG8gY29tcGxldGVcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZG9tLmNhdGVnb3JpZXNTZWxlY3Q/LnZhbChjYXRlZ29yaWVzKS50cmlnZ2VyKCdjaGFuZ2Uuc2VsZWN0MicpO1xuICAgICAgdGhpcy5kb20ucHJpY2luZ01ldGhvZFNlbGVjdD8udmFsKHByaWNpbmdNZXRob2QpO1xuICAgICAgdGhpcy5kb20ucHJpY2luZ1NvdXJjZVNlbGVjdD8udmFsKHByaWNpbmdTb3VyY2UpO1xuXG4gICAgICB0aGlzLmZvcm1Nb2RpZmllZCA9IGZhbHNlOyAvLyBSZXNldCBtb2RpZmllZCBmbGFnIGFmdGVyIHBvcHVsYXRpbmdcbiAgICB9LCAxNTApOyAvLyBTbWFsbCBkZWxheVxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIEFkbWluVGFibGVNYW5hZ2VyLnZhbGlkYXRlRm9ybSBmb3IgUHJpY2luZyBSdWxlcyBzcGVjaWZpYyB2YWxpZGF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZm9ybSBwYXNzZXMgdmFsaWRhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGxldCBpc1ZhbGlkID0gc3VwZXIudmFsaWRhdGVGb3JtKCk7IC8vIFBlcmZvcm0gYmFzZSB2YWxpZGF0aW9uIGZpcnN0XG5cbiAgICAvLyBHZXQgdmFsdWVzXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IHRoaXMuZG9tLmNhdGVnb3JpZXNTZWxlY3Q/LnZhbCgpOyAvLyBSZXR1cm5zIGFycmF5IGZvciBtdWx0aS1zZWxlY3RcbiAgICBjb25zdCBwcmljaW5nTWV0aG9kID0gdGhpcy5kb20ucHJpY2luZ01ldGhvZFNlbGVjdD8udmFsKCk7XG4gICAgY29uc3QgcHJpY2luZ1NvdXJjZSA9IHRoaXMuZG9tLnByaWNpbmdTb3VyY2VTZWxlY3Q/LnZhbCgpO1xuXG4gICAgLy8gaTE4biBtZXNzYWdlcyBmcm9tIHRoaXMuc2V0dGluZ3MuaTE4blxuICAgIGNvbnN0IGkxOG4gPSB0aGlzLnNldHRpbmdzLmkxOG4gfHwge307XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBzcGVjaWZpYyBlcnJvcnNcbiAgICB0aGlzLmNsZWFyRmllbGRFcnJvcih0aGlzLmRvbS5jYXRlZ29yaWVzU2VsZWN0Py5uZXh0KCcuc2VsZWN0Mi1jb250YWluZXInKSk7XG4gICAgdGhpcy5jbGVhckZpZWxkRXJyb3IodGhpcy5kb20ucHJpY2luZ01ldGhvZFNlbGVjdCk7XG4gICAgdGhpcy5jbGVhckZpZWxkRXJyb3IodGhpcy5kb20ucHJpY2luZ1NvdXJjZVNlbGVjdCk7XG5cbiAgICBpZiAoIWNhdGVnb3JpZXMgfHwgY2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IodGhpcy5kb20uY2F0ZWdvcmllc1NlbGVjdD8ubmV4dCgnLnNlbGVjdDItY29udGFpbmVyJyksIGkxOG4uc2VsZWN0Q2F0ZWdvcmllcyB8fCAnUGxlYXNlIHNlbGVjdCBjYXRlZ29yaWVzLicpO1xuICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghcHJpY2luZ01ldGhvZCkge1xuICAgICAgdGhpcy5zaG93RmllbGRFcnJvcih0aGlzLmRvbS5wcmljaW5nTWV0aG9kU2VsZWN0LCBpMThuLnNlbGVjdFByaWNpbmdNZXRob2QgfHwgJ1BsZWFzZSBzZWxlY3QgYSBwcmljaW5nIG1ldGhvZC4nKTtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXByaWNpbmdTb3VyY2UpIHtcbiAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IodGhpcy5kb20ucHJpY2luZ1NvdXJjZVNlbGVjdCwgaTE4bi5zZWxlY3RQcmljaW5nU291cmNlIHx8ICdQbGVhc2Ugc2VsZWN0IGEgcHJpY2luZyBzb3VyY2UuJyk7XG4gICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzVmFsaWQ7XG4gIH1cblxuICAvKipcbiAgICogQ3VzdG9tIGNvbHVtbiBwb3B1bGF0aW9uIG1ldGhvZCBmb3IgJ2NhdGVnb3JpZXMnIGNvbHVtblxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGNlbGwgLSBUaGUgdGFibGUgY2VsbCBlbGVtZW50IHRvIHBvcHVsYXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtRGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgY3VycmVudCByb3dcbiAgICovXG4gIHBvcHVsYXRlQ29sdW1uX2NhdGVnb3JpZXMoJGNlbGwsIGl0ZW1EYXRhKSB7XG4gICAgJGNlbGwudGV4dChpdGVtRGF0YS5jYXRlZ29yeV9uYW1lcyB8fCAnTi9BJyk7XG4gIH1cblxuICAvKipcbiAgICogQ3VzdG9tIGNvbHVtbiBwb3B1bGF0aW9uIG1ldGhvZCBmb3IgJ3ByaWNpbmdfbWV0aG9kJyBjb2x1bW5cbiAgICogQHBhcmFtIHtqUXVlcnl9ICRjZWxsIC0gVGhlIHRhYmxlIGNlbGwgZWxlbWVudCB0byBwb3B1bGF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gaXRlbURhdGEgLSBUaGUgZGF0YSBmb3IgdGhlIGN1cnJlbnQgcm93XG4gICAqL1xuICBwb3B1bGF0ZUNvbHVtbl9wcmljaW5nX21ldGhvZCgkY2VsbCwgaXRlbURhdGEpIHtcbiAgICAkY2VsbC50ZXh0KGl0ZW1EYXRhLnByaWNpbmdfbGFiZWwgfHwgJ04vQScpO1xuICB9XG59XG5cbi8vIEluaXRpYWxpemUgdGhlIG1vZHVsZSB3aGVuIHRoZSBET00gaXMgcmVhZHkgYW5kIGl0cyBtYWluIHRhYiBjb250YWluZXIgZXhpc3RzLlxualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoJCkge1xuICBjb25zdCBtYWluVGFiSWQgPSAncHJpY2luZ19ydWxlcyc7IC8vIFNwZWNpZmljIHRvIHRoaXMgbW9kdWxlXG4gIGNvbnN0IGxvY2FsaXplZERhdGFPYmplY3ROYW1lID0gJ3ByaWNpbmdSdWxlc1NldHRpbmdzJzsgLy8gR2xvYmFsIHNldHRpbmdzIG9iamVjdCBuYW1lXG5cbiAgaWYgKCQoYCMke21haW5UYWJJZH1gKS5sZW5ndGgpIHtcbiAgICAvLyBDaGVjayBpZiB0aGUgZ2xvYmFsIGxvY2FsaXplZCBkYXRhIGZvciB0aGlzIG1vZHVsZSBpcyBhdmFpbGFibGVcbiAgICBpZiAod2luZG93W2xvY2FsaXplZERhdGFPYmplY3ROYW1lXSkge1xuICAgICAgLy8gSW5zdGFudGlhdGUgdGhlIG1vZHVsZSBvbmNlXG4gICAgICBpZiAoIXdpbmRvdy5QcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZUluc3RhbmNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQ3JlYXRlIGEgcHJvcGVybHkgY29uZmlndXJlZCBpbnN0YW5jZSB3aXRoIHRoZSBjb3JyZWN0IGRlZmF1bHRTdWJUYWJJZFxuICAgICAgICAgIHdpbmRvdy5QcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZUluc3RhbmNlID0gbmV3IFByaWNpbmdSdWxlc1NldHRpbmdzTW9kdWxlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JMb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ1ByaWNpbmdSdWxlc0luaXQnKTtcbiAgICAgICAgICBlcnJvckxvZ2dlci5lcnJvcignRXJyb3IgaW5zdGFudGlhdGluZyBQcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZTonLCBlcnJvcik7XG4gICAgICAgICAgLy8gVXNlIHRoZSBnbG9iYWwgbm90aWNlIHN5c3RlbSBpZiBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZS5zaG93Tm90aWNlKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBQcmljaW5nIFJ1bGVzIHNldHRpbmdzLiBDaGVjayBjb25zb2xlIGZvciBlcnJvcnMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGVycm9yTG9nZ2VyID0gY3JlYXRlTG9nZ2VyKCdQcmljaW5nUnVsZXNJbml0Jyk7XG4gICAgICBlcnJvckxvZ2dlci5lcnJvcihgTG9jYWxpemVkIGRhdGEgb2JqZWN0IFwiJHtsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZX1cIiBub3QgZm91bmQgZm9yIHRhYjogJHttYWluVGFiSWR9LiBNb2R1bGUgY2Fubm90IGJlIGluaXRpYWxpemVkLmApO1xuICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoYENvbmZpZ3VyYXRpb24gZGF0YSBmb3IgUHJpY2luZyBSdWxlcyAoXCIke2xvY2FsaXplZERhdGFPYmplY3ROYW1lfVwiKSBpcyBtaXNzaW5nLiBNb2R1bGUgZGlzYWJsZWQuYCwgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnN0IHdhcm5Mb2dnZXIgPSBjcmVhdGVMb2dnZXIoJ1ByaWNpbmdSdWxlc0luaXQnKTtcbiAgICB3YXJuTG9nZ2VyLndhcm4oYE1haW4gY29udGFpbmVyICMke21haW5UYWJJZH0gbm90IGZvdW5kLiBQcmljaW5nUnVsZXNTZXR0aW5nc01vZHVsZSB3aWxsIG5vdCBiZSBpbml0aWFsaXplZC5gKTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFByaWNpbmdSdWxlc1NldHRpbmdzTW9kdWxlO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUxvZ2dlciIsIkFkbWluVGFibGVNYW5hZ2VyIiwiUHJpY2luZ1J1bGVzU2V0dGluZ3NNb2R1bGUiLCJfQWRtaW5UYWJsZU1hbmFnZXIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsImNvbmZpZyIsIm1haW5UYWJJZCIsImRlZmF1bHRTdWJUYWJJZCIsImxvY2FsaXplZERhdGFOYW1lIiwiX2NhbGxTdXBlciIsIiQiLCJkb2N1bWVudCIsIm9uIiwiY29uY2F0IiwiX2NhY2hlUHJpY2luZ1J1bGVzRE9NIiwiX2JpbmRTcGVjaWZpY0V2ZW50cyIsIl9pbml0aWFsaXplU2VsZWN0MiIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwic2V0dGluZ3MiLCJzZWxlY3RvcnMiLCJwclNlbGVjdG9ycyIsImRvbSIsImNhdGVnb3JpZXNTZWxlY3QiLCIkY29udGFpbmVyIiwiZmluZCIsInByaWNpbmdNZXRob2RTZWxlY3QiLCJwcmljaW5nU291cmNlU2VsZWN0IiwibG9nZ2VyIiwid2FybiIsImZvcm0iLCJsZW5ndGgiLCJpbml0aWFsaXplU2VsZWN0MkRyb3Bkb3ducyIsImVsZW1lbnRzIiwiZWxlbWVudCIsInBsYWNlaG9sZGVyS2V5IiwiZmFsbGJhY2tUZXh0IiwibmFtZSIsImNsZWFySW5pdGlhbCIsIm1vZHVsZU5hbWUiLCJvbk1haW5UYWJBY3RpdmF0ZWQiLCJfc3VwZXJQcm9wR2V0IiwiaGFzQ2xhc3MiLCJyZWZyZXNoU2VsZWN0MiIsInJlc2V0Rm9ybSIsIl90aGlzJGRvbSRjYXRlZ29yaWVzUyIsIl90aGlzJGRvbSRwcmljaW5nTWV0aCIsIl90aGlzJGRvbSRwcmljaW5nU291ciIsInZhbCIsInRyaWdnZXIiLCJwb3B1bGF0ZUZvcm1XaXRoRGF0YSIsIml0ZW1EYXRhIiwiX3RoaXMyIiwiY2F0ZWdvcmllcyIsInByaWNpbmdNZXRob2QiLCJwcmljaW5nX21ldGhvZCIsInByaWNpbmdTb3VyY2UiLCJwcmljaW5nX3NvdXJjZSIsInNldFRpbWVvdXQiLCJfdGhpczIkZG9tJGNhdGVnb3JpZXMiLCJfdGhpczIkZG9tJHByaWNpbmdNZXQiLCJfdGhpczIkZG9tJHByaWNpbmdTb3UiLCJmb3JtTW9kaWZpZWQiLCJ2YWxpZGF0ZUZvcm0iLCJfdGhpcyRkb20kY2F0ZWdvcmllc1MyIiwiX3RoaXMkZG9tJHByaWNpbmdNZXRoMiIsIl90aGlzJGRvbSRwcmljaW5nU291cjIiLCJfdGhpcyRkb20kY2F0ZWdvcmllc1MzIiwiaXNWYWxpZCIsImkxOG4iLCJjbGVhckZpZWxkRXJyb3IiLCJuZXh0IiwiX3RoaXMkZG9tJGNhdGVnb3JpZXNTNCIsInNob3dGaWVsZEVycm9yIiwic2VsZWN0Q2F0ZWdvcmllcyIsInNlbGVjdFByaWNpbmdNZXRob2QiLCJzZWxlY3RQcmljaW5nU291cmNlIiwicG9wdWxhdGVDb2x1bW5fY2F0ZWdvcmllcyIsIiRjZWxsIiwidGV4dCIsImNhdGVnb3J5X25hbWVzIiwicG9wdWxhdGVDb2x1bW5fcHJpY2luZ19tZXRob2QiLCJwcmljaW5nX2xhYmVsIiwialF1ZXJ5IiwicmVhZHkiLCJsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZSIsIndpbmRvdyIsIlByaWNpbmdSdWxlc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UiLCJlcnJvciIsImVycm9yTG9nZ2VyIiwiUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2UiLCJzaG93Tm90aWNlIiwid2FybkxvZ2dlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin/modules/PricingRulesSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/ProductAdditionsSettingsModule.js":
/*!****************************************************************!*\
  !*** ./src/js/admin/modules/ProductAdditionsSettingsModule.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/AdminTableManager */ \"./src/js/admin/common/AdminTableManager.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n// File: admin/js/modules/ProductAdditionsSettingsModule.js\n\n/**\n * Product Additions Settings JavaScript\n *\n * Handles functionality specific to the product additions settings tab.\n * Extends AdminTableManager for common table and form management.\n */\n // Import utilities needed for this module\n\n // Adjust path as needed\nvar ProductAdditionsSettingsModule = /*#__PURE__*/function (_AdminTableManager) {\n  /**\n   * Constructor for ProductAdditionsSettingsModule.\n   */\n  function ProductAdditionsSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, ProductAdditionsSettingsModule);\n    var config = {\n      mainTabId: 'product_additions',\n      localizedDataName: 'productAdditionsSettings'\n      // AdminTableManager passes this to VerticalTabbedModule,\n      // which passes relevant parts to ProductEstimatorSettings.\n    };\n    _this = _callSuper(this, ProductAdditionsSettingsModule, [config]); // Calls AdminTableManager constructor\n\n    // We can access feature flags via this.settings.feature_flags\n    // This is used in _handleRelationTypeChange to show/hide fields\n\n    // this.logger is initialized by AdminTableManager.\n    // this.settings (formerly this.localizedData in VTM/ATM context before PES refactor)\n    // is populated by ProductEstimatorSettings via the super chain.\n    // this.config from AdminTableManager holds the original config passed here.\n\n    _this.productSearchTimeout = null;\n\n    // Defer DOM-dependent specific initializations until the base AdminTableManager signals it's ready.\n    // The event name uses this.config.mainTabId.\n    // Note: this.config.mainTabId is from the config passed to super(), available after super() call.\n    _this.$(document).on(\"admin_table_manager_ready_\".concat(_this.config.mainTabId), function () {\n      _this._cacheProductAdditionsDOM();\n      _this._bindSpecificEvents();\n      _this._initializeSelect2();\n    });\n    return _this;\n  }\n\n  /**\n   * Cache DOM elements specific to Product Additions, beyond what AdminTableManager caches.\n   * This is called after AdminTableManager's cacheDOM.\n   * @private\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ProductAdditionsSettingsModule, _AdminTableManager);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ProductAdditionsSettingsModule, [{\n    key: \"_cacheProductAdditionsDOM\",\n    value: function _cacheProductAdditionsDOM() {\n      // this.dom is initialized by AdminTableManager. Add Product Additions specific elements.\n      // Ensure selectors are defined in your localizedData (productAdditionsSettings)\n      // e.g., productAdditionsSettings.selectors.relationTypeSelect\n      if (this.settings && this.settings.selectors) {\n        // this.settings is from ProductEstimatorSettings base\n        var paSelectors = this.settings.selectors; // Assuming selectors are flat in this.settings\n        this.dom.relationTypeSelect = this.$container.find(paSelectors.relationTypeSelect);\n        this.dom.sourceCategorySelect = this.$container.find(paSelectors.sourceCategorySelect);\n        this.dom.targetCategorySelect = this.$container.find(paSelectors.targetCategorySelect);\n        this.dom.targetCategoryRow = this.$container.find(paSelectors.targetCategoryRow);\n        this.dom.productSearchInput = this.$container.find(paSelectors.productSearchInput);\n        this.dom.productSearchRow = this.$container.find(paSelectors.productSearchRow);\n        this.dom.productSearchResults = this.$container.find(paSelectors.productSearchResults);\n        this.dom.selectedProductIdInput = this.$container.find(paSelectors.selectedProductIdInput);\n        this.dom.selectedProductDisplay = this.$container.find(paSelectors.selectedProductDisplay);\n        this.dom.clearProductButton = this.$container.find(paSelectors.clearProductButton);\n        this.dom.noteTextInput = this.$container.find(paSelectors.noteTextInput);\n        this.dom.noteRow = this.$container.find(paSelectors.noteRow);\n      } else {\n        this.logger.warn('ProductAdditionsSettingsModule: Settings or selectors not available for DOM caching');\n      }\n    }\n\n    /**\n     * Bind events specific to Product Additions.\n     * This is called after the `admin_table_manager_ready` event.\n     * @private\n     */\n  }, {\n    key: \"_bindSpecificEvents\",\n    value: function _bindSpecificEvents() {\n      var _this$dom$relationTyp, _this$dom$targetCateg, _this$dom$productSear, _this$dom$clearProduc;\n      // Ensure this.dom elements are available (cached by _cacheProductAdditionsDOM or base)\n      if (!this.dom.form || !this.dom.form.length) {\n        return;\n      }\n      this.dom.form.on('click.productAdditions', '.product-result-item', this._handleProductResultClick.bind(this));\n      (_this$dom$relationTyp = this.dom.relationTypeSelect) === null || _this$dom$relationTyp === void 0 || _this$dom$relationTyp.on('change.productAdditions', this._handleRelationTypeChange.bind(this));\n      (_this$dom$targetCateg = this.dom.targetCategorySelect) === null || _this$dom$targetCateg === void 0 || _this$dom$targetCateg.on('change.productAdditions', this._handleTargetCategoryChange.bind(this));\n      (_this$dom$productSear = this.dom.productSearchInput) === null || _this$dom$productSear === void 0 || _this$dom$productSear.on('keyup.productAdditions', this._handleProductSearchKeyup.bind(this));\n      (_this$dom$clearProduc = this.dom.clearProductButton) === null || _this$dom$clearProduc === void 0 || _this$dom$clearProduc.on('click.productAdditions', this._handleClearProduct.bind(this));\n    }\n\n    /**\n     * Initialize Select2 components.\n     * This is called after the `admin_table_manager_ready` event.\n     * @private\n     */\n  }, {\n    key: \"_initializeSelect2\",\n    value: function _initializeSelect2() {\n      this.initializeSelect2Dropdowns({\n        elements: [{\n          element: this.dom.sourceCategorySelect,\n          placeholderKey: 'selectSourceCategories',\n          fallbackText: 'Select source categories',\n          name: 'source categories',\n          config: {\n            clearInitial: true\n          }\n        }, {\n          element: this.dom.targetCategorySelect,\n          placeholderKey: 'selectTargetCategory',\n          fallbackText: 'Select a category',\n          name: 'target category',\n          config: {\n            clearInitial: true\n          }\n        }],\n        moduleName: 'Product Additions'\n      });\n    }\n\n    /**\n     * Overridden from VerticalTabbedModule. Called when the \"Product Additions\" main tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(ProductAdditionsSettingsModule, \"onMainTabActivated\", this, 3)([]); // Call parent method\n\n      // Refresh Select2 components if they're already initialized\n      if (this.dom.sourceCategorySelect && this.dom.sourceCategorySelect.hasClass(\"select2-hidden-accessible\")) {\n        this.refreshSelect2(this.dom.sourceCategorySelect);\n      }\n      if (this.dom.targetCategorySelect && this.dom.targetCategorySelect.hasClass(\"select2-hidden-accessible\")) {\n        this.refreshSelect2(this.dom.targetCategorySelect);\n      }\n\n      // The inherited VerticalTabbedModule.handleMainTabChanged calls setupVerticalTabs,\n      // which correctly handles the sub_tab in the URL. No manual sub_tab clearing needed here.\n    }\n\n    /**\n     * Handles changes in the relation type select dropdown.\n     * Shows/hides appropriate fields based on the selected relation type.\n     * @private\n     */\n  }, {\n    key: \"_handleRelationTypeChange\",\n    value: function _handleRelationTypeChange() {\n      var _this$dom$relationTyp2, _this$dom$targetCateg2, _this$dom$productSear2, _this$dom$noteRow, _this$dom$targetCateg3, _this$dom$noteTextInp;\n      var actionType = (_this$dom$relationTyp2 = this.dom.relationTypeSelect) === null || _this$dom$relationTyp2 === void 0 ? void 0 : _this$dom$relationTyp2.val();\n\n      // Check feature flags to determine UI behavior\n\n      (_this$dom$targetCateg2 = this.dom.targetCategoryRow) === null || _this$dom$targetCateg2 === void 0 || _this$dom$targetCateg2.hide();\n      (_this$dom$productSear2 = this.dom.productSearchRow) === null || _this$dom$productSear2 === void 0 || _this$dom$productSear2.hide();\n      (_this$dom$noteRow = this.dom.noteRow) === null || _this$dom$noteRow === void 0 || _this$dom$noteRow.hide();\n      (_this$dom$targetCateg3 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg3 === void 0 || _this$dom$targetCateg3.val(null).trigger('change.select2'); // Reset Select2\n      this._clearProductSelectionFields();\n      (_this$dom$noteTextInp = this.dom.noteTextInput) === null || _this$dom$noteTextInp === void 0 || _this$dom$noteTextInp.val('');\n      if (actionType === 'auto_add_by_category') {\n        var _this$dom$targetCateg4;\n        (_this$dom$targetCateg4 = this.dom.targetCategoryRow) === null || _this$dom$targetCateg4 === void 0 || _this$dom$targetCateg4.show();\n      } else if (actionType === 'auto_add_note_by_category') {\n        var _this$dom$noteRow2;\n        (_this$dom$noteRow2 = this.dom.noteRow) === null || _this$dom$noteRow2 === void 0 || _this$dom$noteRow2.show();\n      } else if (actionType === 'suggest_products_by_category') {\n        // Only show target category row if feature is enabled\n        if (this.settings.feature_flags && this.settings.feature_flags.suggested_products_enabled) {\n          var _this$dom$targetCateg5;\n          (_this$dom$targetCateg5 = this.dom.targetCategoryRow) === null || _this$dom$targetCateg5 === void 0 || _this$dom$targetCateg5.show();\n        } else {\n          this.logger.warn('ProductAdditionsSettingsModule: Suggested products feature is disabled in feature flags');\n        }\n      }\n    }\n\n    /**\n     * Handles changes in the target category select dropdown.\n     * Shows/hides product search field based on the selected category and relation type.\n     * @private\n     */\n  }, {\n    key: \"_handleTargetCategoryChange\",\n    value: function _handleTargetCategoryChange() {\n      var _this$dom$targetCateg6, _this$dom$relationTyp3;\n      var categoryId = (_this$dom$targetCateg6 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg6 === void 0 ? void 0 : _this$dom$targetCateg6.val();\n      var actionType = (_this$dom$relationTyp3 = this.dom.relationTypeSelect) === null || _this$dom$relationTyp3 === void 0 ? void 0 : _this$dom$relationTyp3.val();\n      this._clearProductSelectionFields(); // Clear previous product search/selection\n      if (categoryId && actionType === 'auto_add_by_category') {\n        var _this$dom$productSear3;\n        (_this$dom$productSear3 = this.dom.productSearchRow) === null || _this$dom$productSear3 === void 0 || _this$dom$productSear3.show();\n      } else {\n        var _this$dom$productSear4;\n        (_this$dom$productSear4 = this.dom.productSearchRow) === null || _this$dom$productSear4 === void 0 || _this$dom$productSear4.hide();\n      }\n    }\n\n    /**\n     * Clears all product selection related fields.\n     * @private\n     */\n  }, {\n    key: \"_clearProductSelectionFields\",\n    value: function _clearProductSelectionFields() {\n      var _this$dom$productSear5, _this$dom$productSear6, _this$dom$selectedPro, _this$dom$selectedPro2;\n      (_this$dom$productSear5 = this.dom.productSearchInput) === null || _this$dom$productSear5 === void 0 || _this$dom$productSear5.val('');\n      (_this$dom$productSear6 = this.dom.productSearchResults) === null || _this$dom$productSear6 === void 0 || _this$dom$productSear6.empty().hide();\n      (_this$dom$selectedPro = this.dom.selectedProductIdInput) === null || _this$dom$selectedPro === void 0 || _this$dom$selectedPro.val('');\n      (_this$dom$selectedPro2 = this.dom.selectedProductDisplay) === null || _this$dom$selectedPro2 === void 0 || _this$dom$selectedPro2.hide().find('.selected-product-info').empty();\n    }\n\n    /**\n     * Handles keyup events in the product search input field.\n     * Triggers product search after debounce period.\n     * @param {Event} e - The keyup event\n     * @private\n     */\n  }, {\n    key: \"_handleProductSearchKeyup\",\n    value: function _handleProductSearchKeyup(e) {\n      var _this$$$val,\n        _this$dom$targetCateg7,\n        _this$dom$productSear8,\n        _this2 = this;\n      var searchTerm = ((_this$$$val = this.$(e.target).val()) === null || _this$$$val === void 0 ? void 0 : _this$$$val.trim()) || '';\n      var categoryId = (_this$dom$targetCateg7 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg7 === void 0 ? void 0 : _this$dom$targetCateg7.val();\n      clearTimeout(this.productSearchTimeout);\n      if (searchTerm.length < 3 || !categoryId) {\n        var _this$dom$productSear7;\n        (_this$dom$productSear7 = this.dom.productSearchResults) === null || _this$dom$productSear7 === void 0 || _this$dom$productSear7.empty().hide();\n        return;\n      }\n      // this.settings.i18n from ProductEstimatorSettings base\n      (_this$dom$productSear8 = this.dom.productSearchResults) === null || _this$dom$productSear8 === void 0 || _this$dom$productSear8.html(\"<p>\".concat(this.settings.i18n && this.settings.i18n.searching || 'Searching...', \"</p>\")).show();\n      this.productSearchTimeout = setTimeout(function () {\n        _this2._searchProducts(searchTerm, categoryId);\n      }, 500); // Debounce\n    }\n\n    /**\n     * Searches for products based on search term and category.\n     * Displays results in the product search results container.\n     * @param {string} searchTerm - The search term to filter products by\n     * @param {string|number} categoryId - The category ID to filter products by\n     * @private\n     */\n  }, {\n    key: \"_searchProducts\",\n    value: function _searchProducts(searchTerm, categoryId) {\n      var _this3 = this;\n      // this.settings.actions and other properties from ProductEstimatorSettings base\n      if (!this.settings.actions || !this.settings.actions.search_products) {\n        var _this$dom$productSear9;\n        (_this$dom$productSear9 = this.dom.productSearchResults) === null || _this$dom$productSear9 === void 0 || _this$dom$productSear9.html(\"<p>\".concat(this.settings.i18n && this.settings.i18n.errorSearching || 'Error: Search action not configured.', \"</p>\")).show();\n        return;\n      }\n      _utils__WEBPACK_IMPORTED_MODULE_6__.ajax.ajaxRequest({\n        url: this.settings.ajaxUrl,\n        data: {\n          action: this.settings.actions.search_products,\n          nonce: this.settings.nonce,\n          search: searchTerm,\n          category: categoryId\n        }\n      }).then(function (response) {\n        var productsArray = null;\n        // Standardize response checking\n        if (response && response.success && response.data && Array.isArray(response.data.products)) {\n          productsArray = response.data.products;\n        } else if (response && Array.isArray(response.products)) {\n          // Fallback for older direct array\n          productsArray = response.products;\n        }\n        if (productsArray) {\n          var _this3$dom$productSea;\n          var resultsHtml = '';\n          if (productsArray.length > 0) {\n            resultsHtml = '<ul class=\"product-results-list\">';\n            productsArray.forEach(function (product) {\n              // Basic escaping for display\n              var escapedName = _this3.$('<div>').text(product.name || '').html();\n              resultsHtml += \"<li class=\\\"product-result-item\\\" data-id=\\\"\".concat(product.id, \"\\\" data-name=\\\"\").concat(escapedName, \"\\\">\").concat(escapedName || 'Unnamed Product', \" (ID: \").concat(product.id, \")</li>\");\n            });\n            resultsHtml += '</ul>';\n          } else {\n            resultsHtml = \"<p>\".concat(_this3.settings.i18n && _this3.settings.i18n.noProductsFound || 'No products found', \"</p>\");\n          }\n          (_this3$dom$productSea = _this3.dom.productSearchResults) === null || _this3$dom$productSea === void 0 || _this3$dom$productSea.html(resultsHtml).show();\n        } else {\n          var _this3$dom$productSea2;\n          (_this3$dom$productSea2 = _this3.dom.productSearchResults) === null || _this3$dom$productSea2 === void 0 || _this3$dom$productSea2.html(\"<p>\".concat(_this3.settings.i18n && _this3.settings.i18n.errorSearching || 'Error searching products', \"</p>\")).show();\n        }\n      }).catch(function () {\n        var _this3$dom$productSea3;\n        (_this3$dom$productSea3 = _this3.dom.productSearchResults) === null || _this3$dom$productSea3 === void 0 || _this3$dom$productSea3.html(\"<p>\".concat(_this3.settings.i18n && _this3.settings.i18n.errorSearching || 'Error searching products', \"</p>\")).show();\n      });\n    }\n\n    /**\n     * Handles clicks on product search results.\n     * Sets the selected product ID and displays product information.\n     * @param {Event} e - The click event\n     * @private\n     */\n  }, {\n    key: \"_handleProductResultClick\",\n    value: function _handleProductResultClick(e) {\n      var _this$dom$selectedPro3, _this$dom$selectedPro4, _this$dom$selectedPro5, _this$dom$productSear0, _this$dom$productSear1;\n      var $item = this.$(e.currentTarget);\n      var productId = $item.data('id');\n      var productName = $item.data('name'); // Already escaped if set by _searchProducts\n\n      (_this$dom$selectedPro3 = this.dom.selectedProductIdInput) === null || _this$dom$selectedPro3 === void 0 || _this$dom$selectedPro3.val(productId);\n      (_this$dom$selectedPro4 = this.dom.selectedProductDisplay) === null || _this$dom$selectedPro4 === void 0 || _this$dom$selectedPro4.find('.selected-product-info').html(\"<strong>\".concat(productName, \"</strong> (ID: \").concat(productId, \")\"));\n      (_this$dom$selectedPro5 = this.dom.selectedProductDisplay) === null || _this$dom$selectedPro5 === void 0 || _this$dom$selectedPro5.show();\n      (_this$dom$productSear0 = this.dom.productSearchInput) === null || _this$dom$productSear0 === void 0 || _this$dom$productSear0.val(''); // Clear search input\n      (_this$dom$productSear1 = this.dom.productSearchResults) === null || _this$dom$productSear1 === void 0 || _this$dom$productSear1.empty().hide(); // Hide results\n      this.formModified = true; // Mark form as modified, inherited from AdminTableManager\n    }\n\n    /**\n     * Handles clicks on the clear product button.\n     * Clears product selection fields and sets focus to search input.\n     * @private\n     */\n  }, {\n    key: \"_handleClearProduct\",\n    value: function _handleClearProduct() {\n      var _this$dom$productSear10;\n      this._clearProductSelectionFields();\n      (_this$dom$productSear10 = this.dom.productSearchInput) === null || _this$dom$productSear10 === void 0 || _this$dom$productSear10.focus();\n      this.formModified = true; // Mark form as modified\n    }\n\n    /**\n     * Override AdminTableManager.resetForm to include Product Additions specific fields.\n     * @override\n     */\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      var _this$dom$relationTyp4, _this$dom$sourceCateg, _this$dom$noteTextInp2, _this$dom$targetCateg8, _this$dom$productSear11, _this$dom$noteRow3;\n      _superPropGet(ProductAdditionsSettingsModule, \"resetForm\", this, 3)([]); // Call base class method first\n\n      // Reset Product Additions specific fields\n      (_this$dom$relationTyp4 = this.dom.relationTypeSelect) === null || _this$dom$relationTyp4 === void 0 || _this$dom$relationTyp4.val('').trigger('change.productAdditions'); // Triggers _handleRelationTypeChange\n      (_this$dom$sourceCateg = this.dom.sourceCategorySelect) === null || _this$dom$sourceCateg === void 0 || _this$dom$sourceCateg.val(null).trigger('change.select2'); // Clear Select2\n      // Target category and product search fields are typically handled by _handleRelationTypeChange\n      this._clearProductSelectionFields(); // Explicitly clear product fields\n      (_this$dom$noteTextInp2 = this.dom.noteTextInput) === null || _this$dom$noteTextInp2 === void 0 || _this$dom$noteTextInp2.val('');\n\n      // Ensure dependent rows are hidden according to the reset relationType\n      (_this$dom$targetCateg8 = this.dom.targetCategoryRow) === null || _this$dom$targetCateg8 === void 0 || _this$dom$targetCateg8.hide();\n      (_this$dom$productSear11 = this.dom.productSearchRow) === null || _this$dom$productSear11 === void 0 || _this$dom$productSear11.hide();\n      (_this$dom$noteRow3 = this.dom.noteRow) === null || _this$dom$noteRow3 === void 0 || _this$dom$noteRow3.hide();\n    }\n\n    /**\n     * Override AdminTableManager.populateFormWithData for Product Additions specific fields.\n     * @param {object} itemData - The data for the product addition item to populate the form with\n     * @override\n     */\n  }, {\n    key: \"populateFormWithData\",\n    value: function populateFormWithData(itemData) {\n      var _this$dom$relationTyp5,\n        _this4 = this;\n      _superPropGet(ProductAdditionsSettingsModule, \"populateFormWithData\", this, 3)([itemData]); // Sets item ID, calls base logic\n\n      var relationType = itemData.relation_type || '';\n      var sourceCategories = itemData.source_category || []; // Expecting array for multi-select\n      var targetCategory = itemData.target_category || '';\n      var productId = itemData.product_id || '';\n      var noteText = itemData.note_text || '';\n\n      // Set relation type first, as it might control visibility of other fields\n      (_this$dom$relationTyp5 = this.dom.relationTypeSelect) === null || _this$dom$relationTyp5 === void 0 || _this$dom$relationTyp5.val(relationType).trigger('change.productAdditions');\n\n      // Use setTimeout to allow dependent field visibility changes from 'change.productAdditions' to complete\n      setTimeout(function () {\n        var _this4$dom$sourceCate;\n        (_this4$dom$sourceCate = _this4.dom.sourceCategorySelect) === null || _this4$dom$sourceCate === void 0 || _this4$dom$sourceCate.val(sourceCategories).trigger('change.select2');\n        if (relationType === 'auto_add_by_category') {\n          var _this4$dom$targetCate;\n          (_this4$dom$targetCate = _this4.dom.targetCategorySelect) === null || _this4$dom$targetCate === void 0 || _this4$dom$targetCate.val(targetCategory).trigger('change.select2');\n          if (productId && itemData.product_name) {\n            var _this4$dom$selectedPr, _this4$dom$selectedPr2, _this4$dom$selectedPr3;\n            (_this4$dom$selectedPr = _this4.dom.selectedProductIdInput) === null || _this4$dom$selectedPr === void 0 || _this4$dom$selectedPr.val(productId);\n            // Ensure productName is properly escaped if it comes directly from itemData and hasn't been\n            var escapedProductName = _this4.$('<div>').text(itemData.product_name).html();\n            (_this4$dom$selectedPr2 = _this4.dom.selectedProductDisplay) === null || _this4$dom$selectedPr2 === void 0 || _this4$dom$selectedPr2.find('.selected-product-info').html(\"<strong>\".concat(escapedProductName, \"</strong> (ID: \").concat(productId, \")\"));\n            (_this4$dom$selectedPr3 = _this4.dom.selectedProductDisplay) === null || _this4$dom$selectedPr3 === void 0 || _this4$dom$selectedPr3.show();\n          } else if (productId) {\n            var _this4$dom$selectedPr4, _this4$dom$selectedPr5, _this4$dom$selectedPr6;\n            // Fallback if product_name is missing\n            (_this4$dom$selectedPr4 = _this4.dom.selectedProductIdInput) === null || _this4$dom$selectedPr4 === void 0 || _this4$dom$selectedPr4.val(productId);\n            (_this4$dom$selectedPr5 = _this4.dom.selectedProductDisplay) === null || _this4$dom$selectedPr5 === void 0 || _this4$dom$selectedPr5.find('.selected-product-info').html(\"Product ID: \".concat(productId, \" (Name not available)\"));\n            (_this4$dom$selectedPr6 = _this4.dom.selectedProductDisplay) === null || _this4$dom$selectedPr6 === void 0 || _this4$dom$selectedPr6.show();\n          }\n        } else if (relationType === 'suggest_products_by_category') {\n          if (_this4.settings.feature_flags && _this4.settings.feature_flags.suggested_products_enabled) {\n            var _this4$dom$targetCate2;\n            (_this4$dom$targetCate2 = _this4.dom.targetCategorySelect) === null || _this4$dom$targetCate2 === void 0 || _this4$dom$targetCate2.val(targetCategory).trigger('change.select2');\n          }\n        } else if (relationType === 'auto_add_note_by_category') {\n          var _this4$dom$noteTextIn;\n          (_this4$dom$noteTextIn = _this4.dom.noteTextInput) === null || _this4$dom$noteTextIn === void 0 || _this4$dom$noteTextIn.val(noteText);\n        }\n        _this4.formModified = false; // Reset modified flag after populating\n      }, 150); // Small delay\n    }\n\n    /**\n     * Override AdminTableManager.validateForm for Product Additions specific validation.\n     * @returns {boolean} True if the form passes validation, false otherwise\n     * @override\n     */\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this$dom$relationTyp6, _this$dom$sourceCateg2, _this$dom$targetCateg9, _this$dom$selectedPro6, _this$dom$noteTextInp3, _this$dom$sourceCateg3, _this$dom$targetCateg0;\n      var isValid = _superPropGet(ProductAdditionsSettingsModule, \"validateForm\", this, 3)([]); // Perform base validation first\n\n      // Get values\n      var actionType = (_this$dom$relationTyp6 = this.dom.relationTypeSelect) === null || _this$dom$relationTyp6 === void 0 ? void 0 : _this$dom$relationTyp6.val();\n      var sourceCategories = (_this$dom$sourceCateg2 = this.dom.sourceCategorySelect) === null || _this$dom$sourceCateg2 === void 0 ? void 0 : _this$dom$sourceCateg2.val(); // Returns array for multi-select\n      var targetCategory = (_this$dom$targetCateg9 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg9 === void 0 ? void 0 : _this$dom$targetCateg9.val();\n      var productId = (_this$dom$selectedPro6 = this.dom.selectedProductIdInput) === null || _this$dom$selectedPro6 === void 0 ? void 0 : _this$dom$selectedPro6.val();\n      var noteText = ((_this$dom$noteTextInp3 = this.dom.noteTextInput) === null || _this$dom$noteTextInp3 === void 0 || (_this$dom$noteTextInp3 = _this$dom$noteTextInp3.val()) === null || _this$dom$noteTextInp3 === void 0 ? void 0 : _this$dom$noteTextInp3.trim()) || '';\n\n      // i18n messages from this.settings.i18n\n      var i18n = this.settings.i18n || {};\n\n      // Clear previous specific errors (showFieldError/clearFieldError are inherited)\n      this.clearFieldError(this.dom.relationTypeSelect);\n      this.clearFieldError((_this$dom$sourceCateg3 = this.dom.sourceCategorySelect) === null || _this$dom$sourceCateg3 === void 0 ? void 0 : _this$dom$sourceCateg3.next('.select2-container')); // Target Select2 container for error\n      this.clearFieldError((_this$dom$targetCateg0 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg0 === void 0 ? void 0 : _this$dom$targetCateg0.next('.select2-container'));\n      this.clearFieldError(this.dom.productSearchInput); // Or selectedProductDisplay\n      this.clearFieldError(this.dom.noteTextInput);\n      if (!actionType) {\n        this.showFieldError(this.dom.relationTypeSelect, i18n.selectAction || 'Please select an action type.');\n        isValid = false;\n      }\n      if (!sourceCategories || sourceCategories.length === 0) {\n        var _this$dom$sourceCateg4;\n        this.showFieldError((_this$dom$sourceCateg4 = this.dom.sourceCategorySelect) === null || _this$dom$sourceCateg4 === void 0 ? void 0 : _this$dom$sourceCateg4.next('.select2-container'), i18n.selectSourceCategories || 'Please select source categories.');\n        isValid = false;\n      }\n      if (actionType === 'auto_add_by_category') {\n        if (!targetCategory) {\n          var _this$dom$targetCateg1;\n          this.showFieldError((_this$dom$targetCateg1 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg1 === void 0 ? void 0 : _this$dom$targetCateg1.next('.select2-container'), i18n.selectTargetCategory || 'Please select a target category.');\n          isValid = false;\n        }\n        if (!productId) {\n          var _this$dom$selectedPro7;\n          // Show error near search input or the display area if visible\n          var $productErrorTarget = (_this$dom$selectedPro7 = this.dom.selectedProductDisplay) !== null && _this$dom$selectedPro7 !== void 0 && _this$dom$selectedPro7.is(':visible') ? this.dom.selectedProductDisplay : this.dom.productSearchInput;\n          this.showFieldError($productErrorTarget, i18n.selectProduct || 'Please select a product.');\n          isValid = false;\n        }\n      } else if (actionType === 'suggest_products_by_category') {\n        if (this.settings.feature_flags && this.settings.feature_flags.suggested_products_enabled) {\n          if (!targetCategory) {\n            var _this$dom$targetCateg10;\n            this.showFieldError((_this$dom$targetCateg10 = this.dom.targetCategorySelect) === null || _this$dom$targetCateg10 === void 0 ? void 0 : _this$dom$targetCateg10.next('.select2-container'), i18n.selectTargetCategory || 'Please select a target category.');\n            isValid = false;\n          }\n        }\n      } else if (actionType === 'auto_add_note_by_category') {\n        if (!noteText) {\n          this.showFieldError(this.dom.noteTextInput, i18n.noteTextRequired || 'Note text is required.');\n          isValid = false;\n        }\n      }\n      return isValid;\n    }\n\n    /**\n     * Custom column population method for 'source_categories' column\n     * This method follows the naming convention for column handlers in AdminTableManager\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_source_categories\",\n    value: function populateColumn_source_categories($cell, itemData) {\n      $cell.text(itemData.source_category_display || 'N/A');\n    }\n\n    /**\n     * Custom column population method for 'action_type' column\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_action_type\",\n    value: function populateColumn_action_type($cell, itemData) {\n      var $actionTypeSpan = this.$('<span></span>').addClass(\"relation-type pe-relation-\".concat(itemData.relation_type || 'unknown')).text(itemData.action_type_display || itemData.relation_type || 'N/A');\n      $cell.append($actionTypeSpan);\n    }\n\n    /**\n     * Custom column population method for 'target_details' column\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_target_details\",\n    value: function populateColumn_target_details($cell, itemData) {\n      $cell.text(itemData.target_details_display || 'N/A');\n    }\n\n    /**\n     * Binds event handlers for custom action buttons.\n     * This overrides the base AdminTableManager.bindCustomActionButtons method.\n     * @override\n     */\n  }, {\n    key: \"bindCustomActionButtons\",\n    value: function bindCustomActionButtons() {\n      if (this.dom.listTableBody && this.dom.listTableBody.length) {\n        // Bind the view product button click event\n        this.dom.listTableBody.on('click.productAdditions', '.pe-view-product-button', this.handleViewProduct.bind(this));\n      }\n    }\n\n    /**\n     * Handles clicks on the \"View Product\" button.\n     * @param {Event} e - The click event\n     */\n  }, {\n    key: \"handleViewProduct\",\n    value: function handleViewProduct(e) {\n      e.preventDefault();\n      var $button = this.$(e.currentTarget);\n      var productId = $button.data('product-id');\n      if (!productId) {\n        this.showNotice('Error: Could not determine the product to view.', 'error');\n        return;\n      }\n\n      // Open the product in a new window/tab\n      // This could be a link to the WordPress admin edit page for the product\n      var adminUrl = window.ajaxurl ? window.ajaxurl.replace('admin-ajax.php', '') : '/wp-admin/';\n      var productUrl = \"\".concat(adminUrl, \"post.php?post=\").concat(productId, \"&action=edit\");\n      window.open(productUrl, '_blank');\n    }\n  }]);\n}(_common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"]); // Initialize the module when the DOM is ready and its main tab container exists.\njQuery(document).ready(function ($) {\n  var mainTabId = 'product_additions'; // Specific to this module\n  var localizedDataObjectName = 'productAdditionsSettings'; // Global settings object name\n\n  if ($(\"#\".concat(mainTabId)).length) {\n    // Check if the global localized data for this module is available\n    if (window[localizedDataObjectName]) {\n      // Instantiate the module once\n      if (!window.ProductAdditionsSettingsModuleInstance) {\n        try {\n          window.ProductAdditionsSettingsModuleInstance = new ProductAdditionsSettingsModule();\n          (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductAdditionsInit').log('ProductAdditionsSettingsModule instance initiated.');\n        } catch (error) {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductAdditionsInit').error('Error instantiating ProductAdditionsSettingsModule:', error);\n          // Use the global notice system if ProductEstimatorSettings is available\n          if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n            window.ProductEstimatorSettingsInstance.showNotice('Failed to initialize Product Additions settings. Check console for errors.', 'error');\n          }\n        }\n      }\n    } else {\n      (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductAdditionsInit').error(\"Localized data object \\\"\".concat(localizedDataObjectName, \"\\\" not found for tab: \").concat(mainTabId, \". Module cannot be initialized.\"));\n      if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n        window.ProductEstimatorSettingsInstance.showNotice(\"Configuration data for Product Additions (\\\"\".concat(localizedDataObjectName, \"\\\") is missing. Module disabled.\"), 'error');\n      }\n    }\n    // The module's inherited `handleMainTabChanged` (from VerticalTabbedModule)\n    // will manage activation/deactivation logic, including calling `onMainTabActivated`.\n    // No separate `product_estimator_tab_changed` listener is needed here for re-initialization\n    // or for clearing `sub_tab` from URL, as `VerticalTabbedModule.showVerticalTab` handles URL state.\n  } else {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductAdditionsInit').warn(\"Main container #\".concat(mainTabId, \" not found. ProductAdditionsSettingsModule will not be initialized.\"));\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductAdditionsSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9Qcm9kdWN0QWRkaXRpb25zU2V0dGluZ3NNb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzRDLENBQUM7O0FBRWUsQ0FBQztBQUFBLElBRXZERyw4QkFBOEIsMEJBQUFDLGtCQUFBO0VBQ2xDO0FBQ0Y7QUFDQTtFQUNFLFNBQUFELCtCQUFBLEVBQWM7SUFBQSxJQUFBRSxLQUFBO0lBQUFDLGlGQUFBLE9BQUFILDhCQUFBO0lBQ1osSUFBTUksTUFBTSxHQUFHO01BQ2JDLFNBQVMsRUFBRSxtQkFBbUI7TUFDOUJDLGlCQUFpQixFQUFFO01BQ25CO01BQ0E7SUFDRixDQUFDO0lBQ0RKLEtBQUEsR0FBQUssVUFBQSxPQUFBUCw4QkFBQSxHQUFNSSxNQUFNLEdBQUUsQ0FBQzs7SUFFZjtJQUNBOztJQUVBO0lBQ0E7SUFDQTtJQUNBOztJQUVBRixLQUFBLENBQUtNLG9CQUFvQixHQUFHLElBQUk7O0lBRWhDO0lBQ0E7SUFDQTtJQUNBTixLQUFBLENBQUtPLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENBQUNDLEVBQUUsOEJBQUFDLE1BQUEsQ0FBOEJWLEtBQUEsQ0FBS0UsTUFBTSxDQUFDQyxTQUFTLEdBQUksWUFBTTtNQUM5RUgsS0FBQSxDQUFLVyx5QkFBeUIsQ0FBQyxDQUFDO01BQ2hDWCxLQUFBLENBQUtZLG1CQUFtQixDQUFDLENBQUM7TUFDMUJaLEtBQUEsQ0FBS2Esa0JBQWtCLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUM7SUFBQyxPQUFBYixLQUFBO0VBRUw7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUpFYywyRUFBQSxDQUFBaEIsOEJBQUEsRUFBQUMsa0JBQUE7RUFBQSxPQUFBZ0IsOEVBQUEsQ0FBQWpCLDhCQUFBO0lBQUFrQixHQUFBO0lBQUFDLEtBQUEsRUFLQSxTQUFBTix5QkFBeUJBLENBQUEsRUFBRztNQUMxQjtN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YixVQUFVLENBQUMsNEVBQTRFLEVBQUUsT0FBTyxDQUFDO1VBQzNJO1FBQ0Y7TUFDRjtJQUNGLENBQUMsTUFBTTtNQUNMN04sb0RBQVksQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDeU8sS0FBSyw0QkFBQTNOLE1BQUEsQ0FBMkJ3Tix1QkFBdUIsNEJBQUF4TixNQUFBLENBQXdCUCxTQUFTLG9DQUFpQyxDQUFDO01BQy9KLElBQUl3TixNQUFNLENBQUNXLGdDQUFnQyxJQUFJLE9BQU9YLE1BQU0sQ0FBQ1csZ0NBQWdDLENBQUNiLFVBQVUsS0FBSyxVQUFVLEVBQUU7UUFDdkhFLE1BQU0sQ0FBQ1csZ0NBQWdDLENBQUNiLFVBQVUsZ0RBQUEvTSxNQUFBLENBQStDd04sdUJBQXVCLHVDQUFtQyxPQUFPLENBQUM7TUFDcks7SUFDRjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0VBQ0YsQ0FBQyxNQUFNO0lBQ0x0TyxvREFBWSxDQUFDLHNCQUFzQixDQUFDLENBQUN5QyxJQUFJLG9CQUFBM0IsTUFBQSxDQUFvQlAsU0FBUyx3RUFBcUUsQ0FBQztFQUM5STtBQUNGLENBQUMsQ0FBQztBQUVGLCtEQUFlTCw4QkFBOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kdWN0LWVzdGltYXRvci8uL3NyYy9qcy9hZG1pbi9tb2R1bGVzL1Byb2R1Y3RBZGRpdGlvbnNTZXR0aW5nc01vZHVsZS5qcz8xNjZlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpbGU6IGFkbWluL2pzL21vZHVsZXMvUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlLmpzXG5cbi8qKlxuICogUHJvZHVjdCBBZGRpdGlvbnMgU2V0dGluZ3MgSmF2YVNjcmlwdFxuICpcbiAqIEhhbmRsZXMgZnVuY3Rpb25hbGl0eSBzcGVjaWZpYyB0byB0aGUgcHJvZHVjdCBhZGRpdGlvbnMgc2V0dGluZ3MgdGFiLlxuICogRXh0ZW5kcyBBZG1pblRhYmxlTWFuYWdlciBmb3IgY29tbW9uIHRhYmxlIGFuZCBmb3JtIG1hbmFnZW1lbnQuXG4gKi9cbmltcG9ydCB7IGFqYXgsIGNyZWF0ZUxvZ2dlciB9IGZyb20gJ0B1dGlscyc7IC8vIEltcG9ydCB1dGlsaXRpZXMgbmVlZGVkIGZvciB0aGlzIG1vZHVsZVxuXG5pbXBvcnQgQWRtaW5UYWJsZU1hbmFnZXIgZnJvbSAnLi4vY29tbW9uL0FkbWluVGFibGVNYW5hZ2VyJzsgLy8gQWRqdXN0IHBhdGggYXMgbmVlZGVkXG5cbmNsYXNzIFByb2R1Y3RBZGRpdGlvbnNTZXR0aW5nc01vZHVsZSBleHRlbmRzIEFkbWluVGFibGVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBQcm9kdWN0QWRkaXRpb25zU2V0dGluZ3NNb2R1bGUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBtYWluVGFiSWQ6ICdwcm9kdWN0X2FkZGl0aW9ucycsXG4gICAgICBsb2NhbGl6ZWREYXRhTmFtZTogJ3Byb2R1Y3RBZGRpdGlvbnNTZXR0aW5ncydcbiAgICAgIC8vIEFkbWluVGFibGVNYW5hZ2VyIHBhc3NlcyB0aGlzIHRvIFZlcnRpY2FsVGFiYmVkTW9kdWxlLFxuICAgICAgLy8gd2hpY2ggcGFzc2VzIHJlbGV2YW50IHBhcnRzIHRvIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncy5cbiAgICB9O1xuICAgIHN1cGVyKGNvbmZpZyk7IC8vIENhbGxzIEFkbWluVGFibGVNYW5hZ2VyIGNvbnN0cnVjdG9yXG5cbiAgICAvLyBXZSBjYW4gYWNjZXNzIGZlYXR1cmUgZmxhZ3MgdmlhIHRoaXMuc2V0dGluZ3MuZmVhdHVyZV9mbGFnc1xuICAgIC8vIFRoaXMgaXMgdXNlZCBpbiBfaGFuZGxlUmVsYXRpb25UeXBlQ2hhbmdlIHRvIHNob3cvaGlkZSBmaWVsZHNcblxuICAgIC8vIHRoaXMubG9nZ2VyIGlzIGluaXRpYWxpemVkIGJ5IEFkbWluVGFibGVNYW5hZ2VyLlxuICAgIC8vIHRoaXMuc2V0dGluZ3MgKGZvcm1lcmx5IHRoaXMubG9jYWxpemVkRGF0YSBpbiBWVE0vQVRNIGNvbnRleHQgYmVmb3JlIFBFUyByZWZhY3RvcilcbiAgICAvLyBpcyBwb3B1bGF0ZWQgYnkgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIHZpYSB0aGUgc3VwZXIgY2hhaW4uXG4gICAgLy8gdGhpcy5jb25maWcgZnJvbSBBZG1pblRhYmxlTWFuYWdlciBob2xkcyB0aGUgb3JpZ2luYWwgY29uZmlnIHBhc3NlZCBoZXJlLlxuXG4gICAgdGhpcy5wcm9kdWN0U2VhcmNoVGltZW91dCA9IG51bGw7XG5cbiAgICAvLyBEZWZlciBET00tZGVwZW5kZW50IHNwZWNpZmljIGluaXRpYWxpemF0aW9ucyB1bnRpbCB0aGUgYmFzZSBBZG1pblRhYmxlTWFuYWdlciBzaWduYWxzIGl0J3MgcmVhZHkuXG4gICAgLy8gVGhlIGV2ZW50IG5hbWUgdXNlcyB0aGlzLmNvbmZpZy5tYWluVGFiSWQuXG4gICAgLy8gTm90ZTogdGhpcy5jb25maWcubWFpblRhYklkIGlzIGZyb20gdGhlIGNvbmZpZyBwYXNzZWQgdG8gc3VwZXIoKSwgYXZhaWxhYmxlIGFmdGVyIHN1cGVyKCkgY2FsbC5cbiAgICB0aGlzLiQoZG9jdW1lbnQpLm9uKGBhZG1pbl90YWJsZV9tYW5hZ2VyX3JlYWR5XyR7dGhpcy5jb25maWcubWFpblRhYklkfWAsICgpID0+IHtcbiAgICAgIHRoaXMuX2NhY2hlUHJvZHVjdEFkZGl0aW9uc0RPTSgpO1xuICAgICAgdGhpcy5fYmluZFNwZWNpZmljRXZlbnRzKCk7XG4gICAgICB0aGlzLl9pbml0aWFsaXplU2VsZWN0MigpO1xuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgRE9NIGVsZW1lbnRzIHNwZWNpZmljIHRvIFByb2R1Y3QgQWRkaXRpb25zLCBiZXlvbmQgd2hhdCBBZG1pblRhYmxlTWFuYWdlciBjYWNoZXMuXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIEFkbWluVGFibGVNYW5hZ2VyJ3MgY2FjaGVET00uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2FjaGVQcm9kdWN0QWRkaXRpb25zRE9NKCkge1xuICAgIC8vIHRoaXMuZG9tIGlzIGluaXRpYWxpemVkIGJ5IEFkbWluVGFibGVNYW5hZ2VyLiBBZGQgUHJvZHVjdCBBZGRpdGlvbnMgc3BlY2lmaWMgZWxlbWVudHMuXG4gICAgLy8gRW5zdXJlIHNlbGVjdG9ycyBhcmUgZGVmaW5lZCBpbiB5b3VyIGxvY2FsaXplZERhdGEgKHByb2R1Y3RBZGRpdGlvbnNTZXR0aW5ncylcbiAgICAvLyBlLmcuLCBwcm9kdWN0QWRkaXRpb25zU2V0dGluZ3Muc2VsZWN0b3JzLnJlbGF0aW9uVHlwZVNlbGVjdFxuICAgIGlmICh0aGlzLnNldHRpbmdzICYmIHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzKSB7IC8vIHRoaXMuc2V0dGluZ3MgaXMgZnJvbSBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgYmFzZVxuICAgICAgY29uc3QgcGFTZWxlY3RvcnMgPSB0aGlzLnNldHRpbmdzLnNlbGVjdG9yczsgLy8gQXNzdW1pbmcgc2VsZWN0b3JzIGFyZSBmbGF0IGluIHRoaXMuc2V0dGluZ3NcbiAgICAgIHRoaXMuZG9tLnJlbGF0aW9uVHlwZVNlbGVjdCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHBhU2VsZWN0b3JzLnJlbGF0aW9uVHlwZVNlbGVjdCk7XG4gICAgICB0aGlzLmRvbS5zb3VyY2VDYXRlZ29yeVNlbGVjdCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHBhU2VsZWN0b3JzLnNvdXJjZUNhdGVnb3J5U2VsZWN0KTtcbiAgICAgIHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQocGFTZWxlY3RvcnMudGFyZ2V0Q2F0ZWdvcnlTZWxlY3QpO1xuICAgICAgdGhpcy5kb20udGFyZ2V0Q2F0ZWdvcnlSb3cgPSB0aGlzLiRjb250YWluZXIuZmluZChwYVNlbGVjdG9ycy50YXJnZXRDYXRlZ29yeVJvdyk7XG4gICAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoSW5wdXQgPSB0aGlzLiRjb250YWluZXIuZmluZChwYVNlbGVjdG9ycy5wcm9kdWN0U2VhcmNoSW5wdXQpO1xuICAgICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaFJvdyA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHBhU2VsZWN0b3JzLnByb2R1Y3RTZWFyY2hSb3cpO1xuICAgICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaFJlc3VsdHMgPSB0aGlzLiRjb250YWluZXIuZmluZChwYVNlbGVjdG9ycy5wcm9kdWN0U2VhcmNoUmVzdWx0cyk7XG4gICAgICB0aGlzLmRvbS5zZWxlY3RlZFByb2R1Y3RJZElucHV0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQocGFTZWxlY3RvcnMuc2VsZWN0ZWRQcm9kdWN0SWRJbnB1dCk7XG4gICAgICB0aGlzLmRvbS5zZWxlY3RlZFByb2R1Y3REaXNwbGF5ID0gdGhpcy4kY29udGFpbmVyLmZpbmQocGFTZWxlY3RvcnMuc2VsZWN0ZWRQcm9kdWN0RGlzcGxheSk7XG4gICAgICB0aGlzLmRvbS5jbGVhclByb2R1Y3RCdXR0b24gPSB0aGlzLiRjb250YWluZXIuZmluZChwYVNlbGVjdG9ycy5jbGVhclByb2R1Y3RCdXR0b24pO1xuICAgICAgdGhpcy5kb20ubm90ZVRleHRJbnB1dCA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHBhU2VsZWN0b3JzLm5vdGVUZXh0SW5wdXQpO1xuICAgICAgdGhpcy5kb20ubm90ZVJvdyA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHBhU2VsZWN0b3JzLm5vdGVSb3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKCdQcm9kdWN0QWRkaXRpb25zU2V0dGluZ3NNb2R1bGU6IFNldHRpbmdzIG9yIHNlbGVjdG9ycyBub3QgYXZhaWxhYmxlIGZvciBET00gY2FjaGluZycpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEJpbmQgZXZlbnRzIHNwZWNpZmljIHRvIFByb2R1Y3QgQWRkaXRpb25zLlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB0aGUgYGFkbWluX3RhYmxlX21hbmFnZXJfcmVhZHlgIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2JpbmRTcGVjaWZpY0V2ZW50cygpIHtcbiAgICAvLyBFbnN1cmUgdGhpcy5kb20gZWxlbWVudHMgYXJlIGF2YWlsYWJsZSAoY2FjaGVkIGJ5IF9jYWNoZVByb2R1Y3RBZGRpdGlvbnNET00gb3IgYmFzZSlcbiAgICBpZiAoIXRoaXMuZG9tLmZvcm0gfHwgIXRoaXMuZG9tLmZvcm0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZG9tLmZvcm0ub24oJ2NsaWNrLnByb2R1Y3RBZGRpdGlvbnMnLCAnLnByb2R1Y3QtcmVzdWx0LWl0ZW0nLCB0aGlzLl9oYW5kbGVQcm9kdWN0UmVzdWx0Q2xpY2suYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLmRvbS5yZWxhdGlvblR5cGVTZWxlY3Q/Lm9uKCdjaGFuZ2UucHJvZHVjdEFkZGl0aW9ucycsIHRoaXMuX2hhbmRsZVJlbGF0aW9uVHlwZUNoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbS50YXJnZXRDYXRlZ29yeVNlbGVjdD8ub24oJ2NoYW5nZS5wcm9kdWN0QWRkaXRpb25zJywgdGhpcy5faGFuZGxlVGFyZ2V0Q2F0ZWdvcnlDaGFuZ2UuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaElucHV0Py5vbigna2V5dXAucHJvZHVjdEFkZGl0aW9ucycsIHRoaXMuX2hhbmRsZVByb2R1Y3RTZWFyY2hLZXl1cC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRvbS5jbGVhclByb2R1Y3RCdXR0b24/Lm9uKCdjbGljay5wcm9kdWN0QWRkaXRpb25zJywgdGhpcy5faGFuZGxlQ2xlYXJQcm9kdWN0LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgU2VsZWN0MiBjb21wb25lbnRzLlxuICAgKiBUaGlzIGlzIGNhbGxlZCBhZnRlciB0aGUgYGFkbWluX3RhYmxlX21hbmFnZXJfcmVhZHlgIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2luaXRpYWxpemVTZWxlY3QyKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZVNlbGVjdDJEcm9wZG93bnMoe1xuICAgICAgZWxlbWVudHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZG9tLnNvdXJjZUNhdGVnb3J5U2VsZWN0LFxuICAgICAgICAgIHBsYWNlaG9sZGVyS2V5OiAnc2VsZWN0U291cmNlQ2F0ZWdvcmllcycsXG4gICAgICAgICAgZmFsbGJhY2tUZXh0OiAnU2VsZWN0IHNvdXJjZSBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBuYW1lOiAnc291cmNlIGNhdGVnb3JpZXMnLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgY2xlYXJJbml0aWFsOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZWxlbWVudDogdGhpcy5kb20udGFyZ2V0Q2F0ZWdvcnlTZWxlY3QsXG4gICAgICAgICAgcGxhY2Vob2xkZXJLZXk6ICdzZWxlY3RUYXJnZXRDYXRlZ29yeScsXG4gICAgICAgICAgZmFsbGJhY2tUZXh0OiAnU2VsZWN0IGEgY2F0ZWdvcnknLFxuICAgICAgICAgIG5hbWU6ICd0YXJnZXQgY2F0ZWdvcnknLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgY2xlYXJJbml0aWFsOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgbW9kdWxlTmFtZTogJ1Byb2R1Y3QgQWRkaXRpb25zJ1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRkZW4gZnJvbSBWZXJ0aWNhbFRhYmJlZE1vZHVsZS4gQ2FsbGVkIHdoZW4gdGhlIFwiUHJvZHVjdCBBZGRpdGlvbnNcIiBtYWluIHRhYiBpcyBhY3RpdmF0ZWQuXG4gICAqL1xuICBvbk1haW5UYWJBY3RpdmF0ZWQoKSB7XG4gICAgc3VwZXIub25NYWluVGFiQWN0aXZhdGVkKCk7IC8vIENhbGwgcGFyZW50IG1ldGhvZFxuXG4gICAgLy8gUmVmcmVzaCBTZWxlY3QyIGNvbXBvbmVudHMgaWYgdGhleSdyZSBhbHJlYWR5IGluaXRpYWxpemVkXG4gICAgaWYgKHRoaXMuZG9tLnNvdXJjZUNhdGVnb3J5U2VsZWN0ICYmIHRoaXMuZG9tLnNvdXJjZUNhdGVnb3J5U2VsZWN0Lmhhc0NsYXNzKFwic2VsZWN0Mi1oaWRkZW4tYWNjZXNzaWJsZVwiKSkge1xuICAgICAgdGhpcy5yZWZyZXNoU2VsZWN0Mih0aGlzLmRvbS5zb3VyY2VDYXRlZ29yeVNlbGVjdCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRvbS50YXJnZXRDYXRlZ29yeVNlbGVjdCAmJiB0aGlzLmRvbS50YXJnZXRDYXRlZ29yeVNlbGVjdC5oYXNDbGFzcyhcInNlbGVjdDItaGlkZGVuLWFjY2Vzc2libGVcIikpIHtcbiAgICAgIHRoaXMucmVmcmVzaFNlbGVjdDIodGhpcy5kb20udGFyZ2V0Q2F0ZWdvcnlTZWxlY3QpO1xuICAgIH1cblxuICAgIC8vIFRoZSBpbmhlcml0ZWQgVmVydGljYWxUYWJiZWRNb2R1bGUuaGFuZGxlTWFpblRhYkNoYW5nZWQgY2FsbHMgc2V0dXBWZXJ0aWNhbFRhYnMsXG4gICAgLy8gd2hpY2ggY29ycmVjdGx5IGhhbmRsZXMgdGhlIHN1Yl90YWIgaW4gdGhlIFVSTC4gTm8gbWFudWFsIHN1Yl90YWIgY2xlYXJpbmcgbmVlZGVkIGhlcmUuXG4gIH1cblxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGNoYW5nZXMgaW4gdGhlIHJlbGF0aW9uIHR5cGUgc2VsZWN0IGRyb3Bkb3duLlxuICAgKiBTaG93cy9oaWRlcyBhcHByb3ByaWF0ZSBmaWVsZHMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIHJlbGF0aW9uIHR5cGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlUmVsYXRpb25UeXBlQ2hhbmdlKCkge1xuICAgIGNvbnN0IGFjdGlvblR5cGUgPSB0aGlzLmRvbS5yZWxhdGlvblR5cGVTZWxlY3Q/LnZhbCgpO1xuXG4gICAgLy8gQ2hlY2sgZmVhdHVyZSBmbGFncyB0byBkZXRlcm1pbmUgVUkgYmVoYXZpb3JcblxuICAgIHRoaXMuZG9tLnRhcmdldENhdGVnb3J5Um93Py5oaWRlKCk7XG4gICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaFJvdz8uaGlkZSgpO1xuICAgIHRoaXMuZG9tLm5vdGVSb3c/LmhpZGUoKTtcblxuICAgIHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py52YWwobnVsbCkudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTsgLy8gUmVzZXQgU2VsZWN0MlxuICAgIHRoaXMuX2NsZWFyUHJvZHVjdFNlbGVjdGlvbkZpZWxkcygpO1xuICAgIHRoaXMuZG9tLm5vdGVUZXh0SW5wdXQ/LnZhbCgnJyk7XG5cbiAgICBpZiAoYWN0aW9uVHlwZSA9PT0gJ2F1dG9fYWRkX2J5X2NhdGVnb3J5Jykge1xuICAgICAgdGhpcy5kb20udGFyZ2V0Q2F0ZWdvcnlSb3c/LnNob3coKTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09ICdhdXRvX2FkZF9ub3RlX2J5X2NhdGVnb3J5Jykge1xuICAgICAgdGhpcy5kb20ubm90ZVJvdz8uc2hvdygpO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gJ3N1Z2dlc3RfcHJvZHVjdHNfYnlfY2F0ZWdvcnknKSB7XG4gICAgICAvLyBPbmx5IHNob3cgdGFyZ2V0IGNhdGVnb3J5IHJvdyBpZiBmZWF0dXJlIGlzIGVuYWJsZWRcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmZlYXR1cmVfZmxhZ3MgJiYgdGhpcy5zZXR0aW5ncy5mZWF0dXJlX2ZsYWdzLnN1Z2dlc3RlZF9wcm9kdWN0c19lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuZG9tLnRhcmdldENhdGVnb3J5Um93Py5zaG93KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdQcm9kdWN0QWRkaXRpb25zU2V0dGluZ3NNb2R1bGU6IFN1Z2dlc3RlZCBwcm9kdWN0cyBmZWF0dXJlIGlzIGRpc2FibGVkIGluIGZlYXR1cmUgZmxhZ3MnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjaGFuZ2VzIGluIHRoZSB0YXJnZXQgY2F0ZWdvcnkgc2VsZWN0IGRyb3Bkb3duLlxuICAgKiBTaG93cy9oaWRlcyBwcm9kdWN0IHNlYXJjaCBmaWVsZCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgY2F0ZWdvcnkgYW5kIHJlbGF0aW9uIHR5cGUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlVGFyZ2V0Q2F0ZWdvcnlDaGFuZ2UoKSB7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py52YWwoKTtcbiAgICBjb25zdCBhY3Rpb25UeXBlID0gdGhpcy5kb20ucmVsYXRpb25UeXBlU2VsZWN0Py52YWwoKTtcbiAgICB0aGlzLl9jbGVhclByb2R1Y3RTZWxlY3Rpb25GaWVsZHMoKTsgLy8gQ2xlYXIgcHJldmlvdXMgcHJvZHVjdCBzZWFyY2gvc2VsZWN0aW9uXG4gICAgaWYgKGNhdGVnb3J5SWQgJiYgYWN0aW9uVHlwZSA9PT0gJ2F1dG9fYWRkX2J5X2NhdGVnb3J5Jykge1xuICAgICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaFJvdz8uc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoUm93Py5oaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFycyBhbGwgcHJvZHVjdCBzZWxlY3Rpb24gcmVsYXRlZCBmaWVsZHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2xlYXJQcm9kdWN0U2VsZWN0aW9uRmllbGRzKCkge1xuICAgIHRoaXMuZG9tLnByb2R1Y3RTZWFyY2hJbnB1dD8udmFsKCcnKTtcbiAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoUmVzdWx0cz8uZW1wdHkoKS5oaWRlKCk7XG4gICAgdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0SWRJbnB1dD8udmFsKCcnKTtcbiAgICB0aGlzLmRvbS5zZWxlY3RlZFByb2R1Y3REaXNwbGF5Py5oaWRlKCkuZmluZCgnLnNlbGVjdGVkLXByb2R1Y3QtaW5mbycpLmVtcHR5KCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBrZXl1cCBldmVudHMgaW4gdGhlIHByb2R1Y3Qgc2VhcmNoIGlucHV0IGZpZWxkLlxuICAgKiBUcmlnZ2VycyBwcm9kdWN0IHNlYXJjaCBhZnRlciBkZWJvdW5jZSBwZXJpb2QuXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBUaGUga2V5dXAgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVQcm9kdWN0U2VhcmNoS2V5dXAoZSkge1xuICAgIGNvbnN0IHNlYXJjaFRlcm0gPSB0aGlzLiQoZS50YXJnZXQpLnZhbCgpPy50cmltKCkgfHwgJyc7XG4gICAgY29uc3QgY2F0ZWdvcnlJZCA9IHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py52YWwoKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5wcm9kdWN0U2VhcmNoVGltZW91dCk7XG5cbiAgICBpZiAoc2VhcmNoVGVybS5sZW5ndGggPCAzIHx8ICFjYXRlZ29yeUlkKSB7XG4gICAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoUmVzdWx0cz8uZW1wdHkoKS5oaWRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHRoaXMuc2V0dGluZ3MuaTE4biBmcm9tIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBiYXNlXG4gICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaFJlc3VsdHM/Lmh0bWwoYDxwPiR7KHRoaXMuc2V0dGluZ3MuaTE4biAmJiB0aGlzLnNldHRpbmdzLmkxOG4uc2VhcmNoaW5nKSB8fCAnU2VhcmNoaW5nLi4uJ308L3A+YCkuc2hvdygpO1xuICAgIHRoaXMucHJvZHVjdFNlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX3NlYXJjaFByb2R1Y3RzKHNlYXJjaFRlcm0sIGNhdGVnb3J5SWQpO1xuICAgIH0sIDUwMCk7IC8vIERlYm91bmNlXG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoZXMgZm9yIHByb2R1Y3RzIGJhc2VkIG9uIHNlYXJjaCB0ZXJtIGFuZCBjYXRlZ29yeS5cbiAgICogRGlzcGxheXMgcmVzdWx0cyBpbiB0aGUgcHJvZHVjdCBzZWFyY2ggcmVzdWx0cyBjb250YWluZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWFyY2hUZXJtIC0gVGhlIHNlYXJjaCB0ZXJtIHRvIGZpbHRlciBwcm9kdWN0cyBieVxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGNhdGVnb3J5SWQgLSBUaGUgY2F0ZWdvcnkgSUQgdG8gZmlsdGVyIHByb2R1Y3RzIGJ5XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2VhcmNoUHJvZHVjdHMoc2VhcmNoVGVybSwgY2F0ZWdvcnlJZCkge1xuICAgIC8vIHRoaXMuc2V0dGluZ3MuYWN0aW9ucyBhbmQgb3RoZXIgcHJvcGVydGllcyBmcm9tIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBiYXNlXG4gICAgaWYgKCF0aGlzLnNldHRpbmdzLmFjdGlvbnMgfHwgIXRoaXMuc2V0dGluZ3MuYWN0aW9ucy5zZWFyY2hfcHJvZHVjdHMpIHtcbiAgICAgIHRoaXMuZG9tLnByb2R1Y3RTZWFyY2hSZXN1bHRzPy5odG1sKGA8cD4keyh0aGlzLnNldHRpbmdzLmkxOG4gJiYgdGhpcy5zZXR0aW5ncy5pMThuLmVycm9yU2VhcmNoaW5nKSB8fCAnRXJyb3I6IFNlYXJjaCBhY3Rpb24gbm90IGNvbmZpZ3VyZWQuJ308L3A+YCkuc2hvdygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFqYXguYWpheFJlcXVlc3Qoe1xuICAgICAgdXJsOiB0aGlzLnNldHRpbmdzLmFqYXhVcmwsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGFjdGlvbjogdGhpcy5zZXR0aW5ncy5hY3Rpb25zLnNlYXJjaF9wcm9kdWN0cyxcbiAgICAgICAgbm9uY2U6IHRoaXMuc2V0dGluZ3Mubm9uY2UsXG4gICAgICAgIHNlYXJjaDogc2VhcmNoVGVybSxcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5SWQsXG4gICAgICB9XG4gICAgfSlcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgbGV0IHByb2R1Y3RzQXJyYXkgPSBudWxsO1xuICAgICAgICAvLyBTdGFuZGFyZGl6ZSByZXNwb25zZSBjaGVja2luZ1xuICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YS5wcm9kdWN0cykpIHtcbiAgICAgICAgICBwcm9kdWN0c0FycmF5ID0gcmVzcG9uc2UuZGF0YS5wcm9kdWN0cztcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZSAmJiBBcnJheS5pc0FycmF5KHJlc3BvbnNlLnByb2R1Y3RzKSkgeyAvLyBGYWxsYmFjayBmb3Igb2xkZXIgZGlyZWN0IGFycmF5XG4gICAgICAgICAgcHJvZHVjdHNBcnJheSA9IHJlc3BvbnNlLnByb2R1Y3RzO1xuICAgICAgICB9XG5cblxuICAgICAgICBpZiAocHJvZHVjdHNBcnJheSkge1xuICAgICAgICAgIGxldCByZXN1bHRzSHRtbCA9ICcnO1xuICAgICAgICAgIGlmIChwcm9kdWN0c0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdHNIdG1sID0gJzx1bCBjbGFzcz1cInByb2R1Y3QtcmVzdWx0cy1saXN0XCI+JztcbiAgICAgICAgICAgIHByb2R1Y3RzQXJyYXkuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgICAgICAgICAgLy8gQmFzaWMgZXNjYXBpbmcgZm9yIGRpc3BsYXlcbiAgICAgICAgICAgICAgY29uc3QgZXNjYXBlZE5hbWUgPSB0aGlzLiQoJzxkaXY+JykudGV4dChwcm9kdWN0Lm5hbWUgfHwgJycpLmh0bWwoKTtcbiAgICAgICAgICAgICAgcmVzdWx0c0h0bWwgKz0gYDxsaSBjbGFzcz1cInByb2R1Y3QtcmVzdWx0LWl0ZW1cIiBkYXRhLWlkPVwiJHtwcm9kdWN0LmlkfVwiIGRhdGEtbmFtZT1cIiR7ZXNjYXBlZE5hbWV9XCI+JHtlc2NhcGVkTmFtZSB8fCAnVW5uYW1lZCBQcm9kdWN0J30gKElEOiAke3Byb2R1Y3QuaWR9KTwvbGk+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0c0h0bWwgKz0gJzwvdWw+JztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0c0h0bWwgPSBgPHA+JHsodGhpcy5zZXR0aW5ncy5pMThuICYmIHRoaXMuc2V0dGluZ3MuaTE4bi5ub1Byb2R1Y3RzRm91bmQpIHx8ICdObyBwcm9kdWN0cyBmb3VuZCd9PC9wPmA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZG9tLnByb2R1Y3RTZWFyY2hSZXN1bHRzPy5odG1sKHJlc3VsdHNIdG1sKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaFJlc3VsdHM/Lmh0bWwoYDxwPiR7KHRoaXMuc2V0dGluZ3MuaTE4biAmJiB0aGlzLnNldHRpbmdzLmkxOG4uZXJyb3JTZWFyY2hpbmcpIHx8ICdFcnJvciBzZWFyY2hpbmcgcHJvZHVjdHMnfTwvcD5gKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoUmVzdWx0cz8uaHRtbChgPHA+JHsodGhpcy5zZXR0aW5ncy5pMThuICYmIHRoaXMuc2V0dGluZ3MuaTE4bi5lcnJvclNlYXJjaGluZykgfHwgJ0Vycm9yIHNlYXJjaGluZyBwcm9kdWN0cyd9PC9wPmApLnNob3coKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgY2xpY2tzIG9uIHByb2R1Y3Qgc2VhcmNoIHJlc3VsdHMuXG4gICAqIFNldHMgdGhlIHNlbGVjdGVkIHByb2R1Y3QgSUQgYW5kIGRpc3BsYXlzIHByb2R1Y3QgaW5mb3JtYXRpb24uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVQcm9kdWN0UmVzdWx0Q2xpY2soZSkge1xuICAgIGNvbnN0ICRpdGVtID0gdGhpcy4kKGUuY3VycmVudFRhcmdldCk7XG4gICAgY29uc3QgcHJvZHVjdElkID0gJGl0ZW0uZGF0YSgnaWQnKTtcbiAgICBjb25zdCBwcm9kdWN0TmFtZSA9ICRpdGVtLmRhdGEoJ25hbWUnKTsgLy8gQWxyZWFkeSBlc2NhcGVkIGlmIHNldCBieSBfc2VhcmNoUHJvZHVjdHNcblxuICAgIHRoaXMuZG9tLnNlbGVjdGVkUHJvZHVjdElkSW5wdXQ/LnZhbChwcm9kdWN0SWQpO1xuICAgIHRoaXMuZG9tLnNlbGVjdGVkUHJvZHVjdERpc3BsYXk/LmZpbmQoJy5zZWxlY3RlZC1wcm9kdWN0LWluZm8nKS5odG1sKGA8c3Ryb25nPiR7cHJvZHVjdE5hbWV9PC9zdHJvbmc+IChJRDogJHtwcm9kdWN0SWR9KWApO1xuICAgIHRoaXMuZG9tLnNlbGVjdGVkUHJvZHVjdERpc3BsYXk/LnNob3coKTtcbiAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoSW5wdXQ/LnZhbCgnJyk7IC8vIENsZWFyIHNlYXJjaCBpbnB1dFxuICAgIHRoaXMuZG9tLnByb2R1Y3RTZWFyY2hSZXN1bHRzPy5lbXB0eSgpLmhpZGUoKTsgLy8gSGlkZSByZXN1bHRzXG4gICAgdGhpcy5mb3JtTW9kaWZpZWQgPSB0cnVlOyAvLyBNYXJrIGZvcm0gYXMgbW9kaWZpZWQsIGluaGVyaXRlZCBmcm9tIEFkbWluVGFibGVNYW5hZ2VyXG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjbGlja3Mgb24gdGhlIGNsZWFyIHByb2R1Y3QgYnV0dG9uLlxuICAgKiBDbGVhcnMgcHJvZHVjdCBzZWxlY3Rpb24gZmllbGRzIGFuZCBzZXRzIGZvY3VzIHRvIHNlYXJjaCBpbnB1dC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVDbGVhclByb2R1Y3QoKSB7XG4gICAgdGhpcy5fY2xlYXJQcm9kdWN0U2VsZWN0aW9uRmllbGRzKCk7XG4gICAgdGhpcy5kb20ucHJvZHVjdFNlYXJjaElucHV0Py5mb2N1cygpO1xuICAgIHRoaXMuZm9ybU1vZGlmaWVkID0gdHJ1ZTsgLy8gTWFyayBmb3JtIGFzIG1vZGlmaWVkXG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgQWRtaW5UYWJsZU1hbmFnZXIucmVzZXRGb3JtIHRvIGluY2x1ZGUgUHJvZHVjdCBBZGRpdGlvbnMgc3BlY2lmaWMgZmllbGRzLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlc2V0Rm9ybSgpIHtcbiAgICBzdXBlci5yZXNldEZvcm0oKTsgLy8gQ2FsbCBiYXNlIGNsYXNzIG1ldGhvZCBmaXJzdFxuXG4gICAgLy8gUmVzZXQgUHJvZHVjdCBBZGRpdGlvbnMgc3BlY2lmaWMgZmllbGRzXG4gICAgdGhpcy5kb20ucmVsYXRpb25UeXBlU2VsZWN0Py52YWwoJycpLnRyaWdnZXIoJ2NoYW5nZS5wcm9kdWN0QWRkaXRpb25zJyk7IC8vIFRyaWdnZXJzIF9oYW5kbGVSZWxhdGlvblR5cGVDaGFuZ2VcbiAgICB0aGlzLmRvbS5zb3VyY2VDYXRlZ29yeVNlbGVjdD8udmFsKG51bGwpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7IC8vIENsZWFyIFNlbGVjdDJcbiAgICAvLyBUYXJnZXQgY2F0ZWdvcnkgYW5kIHByb2R1Y3Qgc2VhcmNoIGZpZWxkcyBhcmUgdHlwaWNhbGx5IGhhbmRsZWQgYnkgX2hhbmRsZVJlbGF0aW9uVHlwZUNoYW5nZVxuICAgIHRoaXMuX2NsZWFyUHJvZHVjdFNlbGVjdGlvbkZpZWxkcygpOyAvLyBFeHBsaWNpdGx5IGNsZWFyIHByb2R1Y3QgZmllbGRzXG4gICAgdGhpcy5kb20ubm90ZVRleHRJbnB1dD8udmFsKCcnKTtcblxuICAgIC8vIEVuc3VyZSBkZXBlbmRlbnQgcm93cyBhcmUgaGlkZGVuIGFjY29yZGluZyB0byB0aGUgcmVzZXQgcmVsYXRpb25UeXBlXG4gICAgdGhpcy5kb20udGFyZ2V0Q2F0ZWdvcnlSb3c/LmhpZGUoKTtcbiAgICB0aGlzLmRvbS5wcm9kdWN0U2VhcmNoUm93Py5oaWRlKCk7XG4gICAgdGhpcy5kb20ubm90ZVJvdz8uaGlkZSgpO1xuXG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgQWRtaW5UYWJsZU1hbmFnZXIucG9wdWxhdGVGb3JtV2l0aERhdGEgZm9yIFByb2R1Y3QgQWRkaXRpb25zIHNwZWNpZmljIGZpZWxkcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1EYXRhIC0gVGhlIGRhdGEgZm9yIHRoZSBwcm9kdWN0IGFkZGl0aW9uIGl0ZW0gdG8gcG9wdWxhdGUgdGhlIGZvcm0gd2l0aFxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcHVsYXRlRm9ybVdpdGhEYXRhKGl0ZW1EYXRhKSB7XG4gICAgc3VwZXIucG9wdWxhdGVGb3JtV2l0aERhdGEoaXRlbURhdGEpOyAvLyBTZXRzIGl0ZW0gSUQsIGNhbGxzIGJhc2UgbG9naWNcblxuICAgIGNvbnN0IHJlbGF0aW9uVHlwZSA9IGl0ZW1EYXRhLnJlbGF0aW9uX3R5cGUgfHwgJyc7XG4gICAgY29uc3Qgc291cmNlQ2F0ZWdvcmllcyA9IGl0ZW1EYXRhLnNvdXJjZV9jYXRlZ29yeSB8fCBbXTsgLy8gRXhwZWN0aW5nIGFycmF5IGZvciBtdWx0aS1zZWxlY3RcbiAgICBjb25zdCB0YXJnZXRDYXRlZ29yeSA9IGl0ZW1EYXRhLnRhcmdldF9jYXRlZ29yeSB8fCAnJztcbiAgICBjb25zdCBwcm9kdWN0SWQgPSBpdGVtRGF0YS5wcm9kdWN0X2lkIHx8ICcnO1xuICAgIGNvbnN0IG5vdGVUZXh0ID0gaXRlbURhdGEubm90ZV90ZXh0IHx8ICcnO1xuXG4gICAgLy8gU2V0IHJlbGF0aW9uIHR5cGUgZmlyc3QsIGFzIGl0IG1pZ2h0IGNvbnRyb2wgdmlzaWJpbGl0eSBvZiBvdGhlciBmaWVsZHNcbiAgICB0aGlzLmRvbS5yZWxhdGlvblR5cGVTZWxlY3Q/LnZhbChyZWxhdGlvblR5cGUpLnRyaWdnZXIoJ2NoYW5nZS5wcm9kdWN0QWRkaXRpb25zJyk7XG5cbiAgICAvLyBVc2Ugc2V0VGltZW91dCB0byBhbGxvdyBkZXBlbmRlbnQgZmllbGQgdmlzaWJpbGl0eSBjaGFuZ2VzIGZyb20gJ2NoYW5nZS5wcm9kdWN0QWRkaXRpb25zJyB0byBjb21wbGV0ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kb20uc291cmNlQ2F0ZWdvcnlTZWxlY3Q/LnZhbChzb3VyY2VDYXRlZ29yaWVzKS50cmlnZ2VyKCdjaGFuZ2Uuc2VsZWN0MicpO1xuXG4gICAgICBpZiAocmVsYXRpb25UeXBlID09PSAnYXV0b19hZGRfYnlfY2F0ZWdvcnknKSB7XG4gICAgICAgIHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py52YWwodGFyZ2V0Q2F0ZWdvcnkpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7XG4gICAgICAgIGlmIChwcm9kdWN0SWQgJiYgaXRlbURhdGEucHJvZHVjdF9uYW1lKSB7XG4gICAgICAgICAgdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0SWRJbnB1dD8udmFsKHByb2R1Y3RJZCk7XG4gICAgICAgICAgLy8gRW5zdXJlIHByb2R1Y3ROYW1lIGlzIHByb3Blcmx5IGVzY2FwZWQgaWYgaXQgY29tZXMgZGlyZWN0bHkgZnJvbSBpdGVtRGF0YSBhbmQgaGFzbid0IGJlZW5cbiAgICAgICAgICBjb25zdCBlc2NhcGVkUHJvZHVjdE5hbWUgPSB0aGlzLiQoJzxkaXY+JykudGV4dChpdGVtRGF0YS5wcm9kdWN0X25hbWUpLmh0bWwoKTtcbiAgICAgICAgICB0aGlzLmRvbS5zZWxlY3RlZFByb2R1Y3REaXNwbGF5Py5maW5kKCcuc2VsZWN0ZWQtcHJvZHVjdC1pbmZvJykuaHRtbChgPHN0cm9uZz4ke2VzY2FwZWRQcm9kdWN0TmFtZX08L3N0cm9uZz4gKElEOiAke3Byb2R1Y3RJZH0pYCk7XG4gICAgICAgICAgdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0RGlzcGxheT8uc2hvdygpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2R1Y3RJZCkge1xuICAgICAgICAgIC8vIEZhbGxiYWNrIGlmIHByb2R1Y3RfbmFtZSBpcyBtaXNzaW5nXG4gICAgICAgICAgdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0SWRJbnB1dD8udmFsKHByb2R1Y3RJZCk7XG4gICAgICAgICAgdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0RGlzcGxheT8uZmluZCgnLnNlbGVjdGVkLXByb2R1Y3QtaW5mbycpLmh0bWwoYFByb2R1Y3QgSUQ6ICR7cHJvZHVjdElkfSAoTmFtZSBub3QgYXZhaWxhYmxlKWApO1xuICAgICAgICAgIHRoaXMuZG9tLnNlbGVjdGVkUHJvZHVjdERpc3BsYXk/LnNob3coKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZWxhdGlvblR5cGUgPT09ICdzdWdnZXN0X3Byb2R1Y3RzX2J5X2NhdGVnb3J5Jykge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5mZWF0dXJlX2ZsYWdzICYmIHRoaXMuc2V0dGluZ3MuZmVhdHVyZV9mbGFncy5zdWdnZXN0ZWRfcHJvZHVjdHNfZW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py52YWwodGFyZ2V0Q2F0ZWdvcnkpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVsYXRpb25UeXBlID09PSAnYXV0b19hZGRfbm90ZV9ieV9jYXRlZ29yeScpIHtcbiAgICAgICAgdGhpcy5kb20ubm90ZVRleHRJbnB1dD8udmFsKG5vdGVUZXh0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZm9ybU1vZGlmaWVkID0gZmFsc2U7IC8vIFJlc2V0IG1vZGlmaWVkIGZsYWcgYWZ0ZXIgcG9wdWxhdGluZ1xuICAgIH0sIDE1MCk7IC8vIFNtYWxsIGRlbGF5XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgQWRtaW5UYWJsZU1hbmFnZXIudmFsaWRhdGVGb3JtIGZvciBQcm9kdWN0IEFkZGl0aW9ucyBzcGVjaWZpYyB2YWxpZGF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZm9ybSBwYXNzZXMgdmFsaWRhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGxldCBpc1ZhbGlkID0gc3VwZXIudmFsaWRhdGVGb3JtKCk7IC8vIFBlcmZvcm0gYmFzZSB2YWxpZGF0aW9uIGZpcnN0XG5cbiAgICAvLyBHZXQgdmFsdWVzXG4gICAgY29uc3QgYWN0aW9uVHlwZSA9IHRoaXMuZG9tLnJlbGF0aW9uVHlwZVNlbGVjdD8udmFsKCk7XG4gICAgY29uc3Qgc291cmNlQ2F0ZWdvcmllcyA9IHRoaXMuZG9tLnNvdXJjZUNhdGVnb3J5U2VsZWN0Py52YWwoKTsgLy8gUmV0dXJucyBhcnJheSBmb3IgbXVsdGktc2VsZWN0XG4gICAgY29uc3QgdGFyZ2V0Q2F0ZWdvcnkgPSB0aGlzLmRvbS50YXJnZXRDYXRlZ29yeVNlbGVjdD8udmFsKCk7XG4gICAgY29uc3QgcHJvZHVjdElkID0gdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0SWRJbnB1dD8udmFsKCk7XG4gICAgY29uc3Qgbm90ZVRleHQgPSB0aGlzLmRvbS5ub3RlVGV4dElucHV0Py52YWwoKT8udHJpbSgpIHx8ICcnO1xuXG4gICAgLy8gaTE4biBtZXNzYWdlcyBmcm9tIHRoaXMuc2V0dGluZ3MuaTE4blxuICAgIGNvbnN0IGkxOG4gPSB0aGlzLnNldHRpbmdzLmkxOG4gfHwge307XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBzcGVjaWZpYyBlcnJvcnMgKHNob3dGaWVsZEVycm9yL2NsZWFyRmllbGRFcnJvciBhcmUgaW5oZXJpdGVkKVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKHRoaXMuZG9tLnJlbGF0aW9uVHlwZVNlbGVjdCk7XG4gICAgdGhpcy5jbGVhckZpZWxkRXJyb3IodGhpcy5kb20uc291cmNlQ2F0ZWdvcnlTZWxlY3Q/Lm5leHQoJy5zZWxlY3QyLWNvbnRhaW5lcicpKTsgLy8gVGFyZ2V0IFNlbGVjdDIgY29udGFpbmVyIGZvciBlcnJvclxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py5uZXh0KCcuc2VsZWN0Mi1jb250YWluZXInKSk7XG4gICAgdGhpcy5jbGVhckZpZWxkRXJyb3IodGhpcy5kb20ucHJvZHVjdFNlYXJjaElucHV0KTsgLy8gT3Igc2VsZWN0ZWRQcm9kdWN0RGlzcGxheVxuICAgIHRoaXMuY2xlYXJGaWVsZEVycm9yKHRoaXMuZG9tLm5vdGVUZXh0SW5wdXQpO1xuXG4gICAgaWYgKCFhY3Rpb25UeXBlKSB7XG4gICAgICB0aGlzLnNob3dGaWVsZEVycm9yKHRoaXMuZG9tLnJlbGF0aW9uVHlwZVNlbGVjdCwgaTE4bi5zZWxlY3RBY3Rpb24gfHwgJ1BsZWFzZSBzZWxlY3QgYW4gYWN0aW9uIHR5cGUuJyk7XG4gICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghc291cmNlQ2F0ZWdvcmllcyB8fCBzb3VyY2VDYXRlZ29yaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5zaG93RmllbGRFcnJvcih0aGlzLmRvbS5zb3VyY2VDYXRlZ29yeVNlbGVjdD8ubmV4dCgnLnNlbGVjdDItY29udGFpbmVyJyksIGkxOG4uc2VsZWN0U291cmNlQ2F0ZWdvcmllcyB8fCAnUGxlYXNlIHNlbGVjdCBzb3VyY2UgY2F0ZWdvcmllcy4nKTtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uVHlwZSA9PT0gJ2F1dG9fYWRkX2J5X2NhdGVnb3J5Jykge1xuICAgICAgaWYgKCF0YXJnZXRDYXRlZ29yeSkge1xuICAgICAgICB0aGlzLnNob3dGaWVsZEVycm9yKHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py5uZXh0KCcuc2VsZWN0Mi1jb250YWluZXInKSwgaTE4bi5zZWxlY3RUYXJnZXRDYXRlZ29yeSB8fCAnUGxlYXNlIHNlbGVjdCBhIHRhcmdldCBjYXRlZ29yeS4nKTtcbiAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKCFwcm9kdWN0SWQpIHtcbiAgICAgICAgLy8gU2hvdyBlcnJvciBuZWFyIHNlYXJjaCBpbnB1dCBvciB0aGUgZGlzcGxheSBhcmVhIGlmIHZpc2libGVcbiAgICAgICAgY29uc3QgJHByb2R1Y3RFcnJvclRhcmdldCA9IHRoaXMuZG9tLnNlbGVjdGVkUHJvZHVjdERpc3BsYXk/LmlzKCc6dmlzaWJsZScpID8gdGhpcy5kb20uc2VsZWN0ZWRQcm9kdWN0RGlzcGxheSA6IHRoaXMuZG9tLnByb2R1Y3RTZWFyY2hJbnB1dDtcbiAgICAgICAgdGhpcy5zaG93RmllbGRFcnJvcigkcHJvZHVjdEVycm9yVGFyZ2V0LCBpMThuLnNlbGVjdFByb2R1Y3QgfHwgJ1BsZWFzZSBzZWxlY3QgYSBwcm9kdWN0LicpO1xuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSAnc3VnZ2VzdF9wcm9kdWN0c19ieV9jYXRlZ29yeScpIHtcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLmZlYXR1cmVfZmxhZ3MgJiYgdGhpcy5zZXR0aW5ncy5mZWF0dXJlX2ZsYWdzLnN1Z2dlc3RlZF9wcm9kdWN0c19lbmFibGVkKSB7XG4gICAgICAgIGlmICghdGFyZ2V0Q2F0ZWdvcnkpIHtcbiAgICAgICAgICB0aGlzLnNob3dGaWVsZEVycm9yKHRoaXMuZG9tLnRhcmdldENhdGVnb3J5U2VsZWN0Py5uZXh0KCcuc2VsZWN0Mi1jb250YWluZXInKSwgaTE4bi5zZWxlY3RUYXJnZXRDYXRlZ29yeSB8fCAnUGxlYXNlIHNlbGVjdCBhIHRhcmdldCBjYXRlZ29yeS4nKTtcbiAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09ICdhdXRvX2FkZF9ub3RlX2J5X2NhdGVnb3J5Jykge1xuICAgICAgaWYgKCFub3RlVGV4dCkge1xuICAgICAgICB0aGlzLnNob3dGaWVsZEVycm9yKHRoaXMuZG9tLm5vdGVUZXh0SW5wdXQsIGkxOG4ubm90ZVRleHRSZXF1aXJlZCB8fCAnTm90ZSB0ZXh0IGlzIHJlcXVpcmVkLicpO1xuICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc1ZhbGlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBjb2x1bW4gcG9wdWxhdGlvbiBtZXRob2QgZm9yICdzb3VyY2VfY2F0ZWdvcmllcycgY29sdW1uXG4gICAqIFRoaXMgbWV0aG9kIGZvbGxvd3MgdGhlIG5hbWluZyBjb252ZW50aW9uIGZvciBjb2x1bW4gaGFuZGxlcnMgaW4gQWRtaW5UYWJsZU1hbmFnZXJcbiAgICogQHBhcmFtIHtqUXVlcnl9ICRjZWxsIC0gVGhlIHRhYmxlIGNlbGwgZWxlbWVudCB0byBwb3B1bGF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gaXRlbURhdGEgLSBUaGUgZGF0YSBmb3IgdGhlIGN1cnJlbnQgcm93XG4gICAqL1xuICBwb3B1bGF0ZUNvbHVtbl9zb3VyY2VfY2F0ZWdvcmllcygkY2VsbCwgaXRlbURhdGEpIHtcbiAgICAkY2VsbC50ZXh0KGl0ZW1EYXRhLnNvdXJjZV9jYXRlZ29yeV9kaXNwbGF5IHx8ICdOL0EnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXN0b20gY29sdW1uIHBvcHVsYXRpb24gbWV0aG9kIGZvciAnYWN0aW9uX3R5cGUnIGNvbHVtblxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGNlbGwgLSBUaGUgdGFibGUgY2VsbCBlbGVtZW50IHRvIHBvcHVsYXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtRGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgY3VycmVudCByb3dcbiAgICovXG4gIHBvcHVsYXRlQ29sdW1uX2FjdGlvbl90eXBlKCRjZWxsLCBpdGVtRGF0YSkge1xuICAgIGNvbnN0ICRhY3Rpb25UeXBlU3BhbiA9IHRoaXMuJCgnPHNwYW4+PC9zcGFuPicpXG4gICAgICAuYWRkQ2xhc3MoYHJlbGF0aW9uLXR5cGUgcGUtcmVsYXRpb24tJHtpdGVtRGF0YS5yZWxhdGlvbl90eXBlIHx8ICd1bmtub3duJ31gKVxuICAgICAgLnRleHQoaXRlbURhdGEuYWN0aW9uX3R5cGVfZGlzcGxheSB8fCBpdGVtRGF0YS5yZWxhdGlvbl90eXBlIHx8ICdOL0EnKTtcbiAgICAkY2VsbC5hcHBlbmQoJGFjdGlvblR5cGVTcGFuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXN0b20gY29sdW1uIHBvcHVsYXRpb24gbWV0aG9kIGZvciAndGFyZ2V0X2RldGFpbHMnIGNvbHVtblxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGNlbGwgLSBUaGUgdGFibGUgY2VsbCBlbGVtZW50IHRvIHBvcHVsYXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtRGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgY3VycmVudCByb3dcbiAgICovXG4gIHBvcHVsYXRlQ29sdW1uX3RhcmdldF9kZXRhaWxzKCRjZWxsLCBpdGVtRGF0YSkge1xuICAgICRjZWxsLnRleHQoaXRlbURhdGEudGFyZ2V0X2RldGFpbHNfZGlzcGxheSB8fCAnTi9BJyk7XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgZXZlbnQgaGFuZGxlcnMgZm9yIGN1c3RvbSBhY3Rpb24gYnV0dG9ucy5cbiAgICogVGhpcyBvdmVycmlkZXMgdGhlIGJhc2UgQWRtaW5UYWJsZU1hbmFnZXIuYmluZEN1c3RvbUFjdGlvbkJ1dHRvbnMgbWV0aG9kLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGJpbmRDdXN0b21BY3Rpb25CdXR0b25zKCkge1xuICAgIGlmICh0aGlzLmRvbS5saXN0VGFibGVCb2R5ICYmIHRoaXMuZG9tLmxpc3RUYWJsZUJvZHkubGVuZ3RoKSB7XG4gICAgICAvLyBCaW5kIHRoZSB2aWV3IHByb2R1Y3QgYnV0dG9uIGNsaWNrIGV2ZW50XG4gICAgICB0aGlzLmRvbS5saXN0VGFibGVCb2R5Lm9uKCdjbGljay5wcm9kdWN0QWRkaXRpb25zJywgJy5wZS12aWV3LXByb2R1Y3QtYnV0dG9uJywgdGhpcy5oYW5kbGVWaWV3UHJvZHVjdC5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBjbGlja3Mgb24gdGhlIFwiVmlldyBQcm9kdWN0XCIgYnV0dG9uLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50XG4gICAqL1xuICBoYW5kbGVWaWV3UHJvZHVjdChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0ICRidXR0b24gPSB0aGlzLiQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCBwcm9kdWN0SWQgPSAkYnV0dG9uLmRhdGEoJ3Byb2R1Y3QtaWQnKTtcblxuXG4gICAgaWYgKCFwcm9kdWN0SWQpIHtcbiAgICAgIHRoaXMuc2hvd05vdGljZSgnRXJyb3I6IENvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHByb2R1Y3QgdG8gdmlldy4nLCAnZXJyb3InKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPcGVuIHRoZSBwcm9kdWN0IGluIGEgbmV3IHdpbmRvdy90YWJcbiAgICAvLyBUaGlzIGNvdWxkIGJlIGEgbGluayB0byB0aGUgV29yZFByZXNzIGFkbWluIGVkaXQgcGFnZSBmb3IgdGhlIHByb2R1Y3RcbiAgICBjb25zdCBhZG1pblVybCA9IHdpbmRvdy5hamF4dXJsID8gd2luZG93LmFqYXh1cmwucmVwbGFjZSgnYWRtaW4tYWpheC5waHAnLCAnJykgOiAnL3dwLWFkbWluLyc7XG4gICAgY29uc3QgcHJvZHVjdFVybCA9IGAke2FkbWluVXJsfXBvc3QucGhwP3Bvc3Q9JHtwcm9kdWN0SWR9JmFjdGlvbj1lZGl0YDtcbiAgICB3aW5kb3cub3Blbihwcm9kdWN0VXJsLCAnX2JsYW5rJyk7XG4gIH1cbn1cblxuLy8gSW5pdGlhbGl6ZSB0aGUgbW9kdWxlIHdoZW4gdGhlIERPTSBpcyByZWFkeSBhbmQgaXRzIG1haW4gdGFiIGNvbnRhaW5lciBleGlzdHMuXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XG4gIGNvbnN0IG1haW5UYWJJZCA9ICdwcm9kdWN0X2FkZGl0aW9ucyc7IC8vIFNwZWNpZmljIHRvIHRoaXMgbW9kdWxlXG4gIGNvbnN0IGxvY2FsaXplZERhdGFPYmplY3ROYW1lID0gJ3Byb2R1Y3RBZGRpdGlvbnNTZXR0aW5ncyc7IC8vIEdsb2JhbCBzZXR0aW5ncyBvYmplY3QgbmFtZVxuXG4gIGlmICgkKGAjJHttYWluVGFiSWR9YCkubGVuZ3RoKSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGdsb2JhbCBsb2NhbGl6ZWQgZGF0YSBmb3IgdGhpcyBtb2R1bGUgaXMgYXZhaWxhYmxlXG4gICAgaWYgKHdpbmRvd1tsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZV0pIHtcbiAgICAgIC8vIEluc3RhbnRpYXRlIHRoZSBtb2R1bGUgb25jZVxuICAgICAgaWYgKCF3aW5kb3cuUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3aW5kb3cuUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UgPSBuZXcgUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlKCk7XG4gICAgICAgICAgY3JlYXRlTG9nZ2VyKCdQcm9kdWN0QWRkaXRpb25zSW5pdCcpLmxvZygnUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlIGluc3RhbmNlIGluaXRpYXRlZC4nKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjcmVhdGVMb2dnZXIoJ1Byb2R1Y3RBZGRpdGlvbnNJbml0JykuZXJyb3IoJ0Vycm9yIGluc3RhbnRpYXRpbmcgUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBVc2UgdGhlIGdsb2JhbCBub3RpY2Ugc3lzdGVtIGlmIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBpcyBhdmFpbGFibGVcbiAgICAgICAgICBpZiAod2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlICYmIHR5cGVvZiB3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2Uuc2hvd05vdGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFByb2R1Y3QgQWRkaXRpb25zIHNldHRpbmdzLiBDaGVjayBjb25zb2xlIGZvciBlcnJvcnMuJywgJ2Vycm9yJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZWF0ZUxvZ2dlcignUHJvZHVjdEFkZGl0aW9uc0luaXQnKS5lcnJvcihgTG9jYWxpemVkIGRhdGEgb2JqZWN0IFwiJHtsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZX1cIiBub3QgZm91bmQgZm9yIHRhYjogJHttYWluVGFiSWR9LiBNb2R1bGUgY2Fubm90IGJlIGluaXRpYWxpemVkLmApO1xuICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoYENvbmZpZ3VyYXRpb24gZGF0YSBmb3IgUHJvZHVjdCBBZGRpdGlvbnMgKFwiJHtsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZX1cIikgaXMgbWlzc2luZy4gTW9kdWxlIGRpc2FibGVkLmAsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgbW9kdWxlJ3MgaW5oZXJpdGVkIGBoYW5kbGVNYWluVGFiQ2hhbmdlZGAgKGZyb20gVmVydGljYWxUYWJiZWRNb2R1bGUpXG4gICAgLy8gd2lsbCBtYW5hZ2UgYWN0aXZhdGlvbi9kZWFjdGl2YXRpb24gbG9naWMsIGluY2x1ZGluZyBjYWxsaW5nIGBvbk1haW5UYWJBY3RpdmF0ZWRgLlxuICAgIC8vIE5vIHNlcGFyYXRlIGBwcm9kdWN0X2VzdGltYXRvcl90YWJfY2hhbmdlZGAgbGlzdGVuZXIgaXMgbmVlZGVkIGhlcmUgZm9yIHJlLWluaXRpYWxpemF0aW9uXG4gICAgLy8gb3IgZm9yIGNsZWFyaW5nIGBzdWJfdGFiYCBmcm9tIFVSTCwgYXMgYFZlcnRpY2FsVGFiYmVkTW9kdWxlLnNob3dWZXJ0aWNhbFRhYmAgaGFuZGxlcyBVUkwgc3RhdGUuXG4gIH0gZWxzZSB7XG4gICAgY3JlYXRlTG9nZ2VyKCdQcm9kdWN0QWRkaXRpb25zSW5pdCcpLndhcm4oYE1haW4gY29udGFpbmVyICMke21haW5UYWJJZH0gbm90IGZvdW5kLiBQcm9kdWN0QWRkaXRpb25zU2V0dGluZ3NNb2R1bGUgd2lsbCBub3QgYmUgaW5pdGlhbGl6ZWQuYCk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0QWRkaXRpb25zU2V0dGluZ3NNb2R1bGU7XG4iXSwibmFtZXMiOlsiYWpheCIsImNyZWF0ZUxvZ2dlciIsIkFkbWluVGFibGVNYW5hZ2VyIiwiUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlIiwiX0FkbWluVGFibGVNYW5hZ2VyIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJjb25maWciLCJtYWluVGFiSWQiLCJsb2NhbGl6ZWREYXRhTmFtZSIsIl9jYWxsU3VwZXIiLCJwcm9kdWN0U2VhcmNoVGltZW91dCIsIiQiLCJkb2N1bWVudCIsIm9uIiwiY29uY2F0IiwiX2NhY2hlUHJvZHVjdEFkZGl0aW9uc0RPTSIsIl9iaW5kU3BlY2lmaWNFdmVudHMiLCJfaW5pdGlhbGl6ZVNlbGVjdDIiLCJfaW5oZXJpdHMiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsInNldHRpbmdzIiwic2VsZWN0b3JzIiwicGFTZWxlY3RvcnMiLCJkb20iLCJyZWxhdGlvblR5cGVTZWxlY3QiLCIkY29udGFpbmVyIiwiZmluZCIsInNvdXJjZUNhdGVnb3J5U2VsZWN0IiwidGFyZ2V0Q2F0ZWdvcnlTZWxlY3QiLCJ0YXJnZXRDYXRlZ29yeVJvdyIsInByb2R1Y3RTZWFyY2hJbnB1dCIsInByb2R1Y3RTZWFyY2hSb3ciLCJwcm9kdWN0U2VhcmNoUmVzdWx0cyIsInNlbGVjdGVkUHJvZHVjdElkSW5wdXQiLCJzZWxlY3RlZFByb2R1Y3REaXNwbGF5IiwiY2xlYXJQcm9kdWN0QnV0dG9uIiwibm90ZVRleHRJbnB1dCIsIm5vdGVSb3ciLCJsb2dnZXIiLCJ3YXJuIiwiX3RoaXMkZG9tJHJlbGF0aW9uVHlwIiwiX3RoaXMkZG9tJHRhcmdldENhdGVnIiwiX3RoaXMkZG9tJHByb2R1Y3RTZWFyIiwiX3RoaXMkZG9tJGNsZWFyUHJvZHVjIiwiZm9ybSIsImxlbmd0aCIsIl9oYW5kbGVQcm9kdWN0UmVzdWx0Q2xpY2siLCJiaW5kIiwiX2hhbmRsZVJlbGF0aW9uVHlwZUNoYW5nZSIsIl9oYW5kbGVUYXJnZXRDYXRlZ29yeUNoYW5nZSIsIl9oYW5kbGVQcm9kdWN0U2VhcmNoS2V5dXAiLCJfaGFuZGxlQ2xlYXJQcm9kdWN0IiwiaW5pdGlhbGl6ZVNlbGVjdDJEcm9wZG93bnMiLCJlbGVtZW50cyIsImVsZW1lbnQiLCJwbGFjZWhvbGRlcktleSIsImZhbGxiYWNrVGV4dCIsIm5hbWUiLCJjbGVhckluaXRpYWwiLCJtb2R1bGVOYW1lIiwib25NYWluVGFiQWN0aXZhdGVkIiwiX3N1cGVyUHJvcEdldCIsImhhc0NsYXNzIiwicmVmcmVzaFNlbGVjdDIiLCJfdGhpcyRkb20kcmVsYXRpb25UeXAyIiwiX3RoaXMkZG9tJHRhcmdldENhdGVnMiIsIl90aGlzJGRvbSRwcm9kdWN0U2VhcjIiLCJfdGhpcyRkb20kbm90ZVJvdyIsIl90aGlzJGRvbSR0YXJnZXRDYXRlZzMiLCJfdGhpcyRkb20kbm90ZVRleHRJbnAiLCJhY3Rpb25UeXBlIiwidmFsIiwiaGlkZSIsInRyaWdnZXIiLCJfY2xlYXJQcm9kdWN0U2VsZWN0aW9uRmllbGRzIiwiX3RoaXMkZG9tJHRhcmdldENhdGVnNCIsInNob3ciLCJfdGhpcyRkb20kbm90ZVJvdzIiLCJmZWF0dXJlX2ZsYWdzIiwic3VnZ2VzdGVkX3Byb2R1Y3RzX2VuYWJsZWQiLCJfdGhpcyRkb20kdGFyZ2V0Q2F0ZWc1IiwiX3RoaXMkZG9tJHRhcmdldENhdGVnNiIsIl90aGlzJGRvbSRyZWxhdGlvblR5cDMiLCJjYXRlZ29yeUlkIiwiX3RoaXMkZG9tJHByb2R1Y3RTZWFyMyIsIl90aGlzJGRvbSRwcm9kdWN0U2VhcjQiLCJfdGhpcyRkb20kcHJvZHVjdFNlYXI1IiwiX3RoaXMkZG9tJHByb2R1Y3RTZWFyNiIsIl90aGlzJGRvbSRzZWxlY3RlZFBybyIsIl90aGlzJGRvbSRzZWxlY3RlZFBybzIiLCJlbXB0eSIsImUiLCJfdGhpcyQkJHZhbCIsIl90aGlzJGRvbSR0YXJnZXRDYXRlZzciLCJfdGhpcyRkb20kcHJvZHVjdFNlYXI4IiwiX3RoaXMyIiwic2VhcmNoVGVybSIsInRhcmdldCIsInRyaW0iLCJjbGVhclRpbWVvdXQiLCJfdGhpcyRkb20kcHJvZHVjdFNlYXI3IiwiaHRtbCIsImkxOG4iLCJzZWFyY2hpbmciLCJzZXRUaW1lb3V0IiwiX3NlYXJjaFByb2R1Y3RzIiwiX3RoaXMzIiwiYWN0aW9ucyIsInNlYXJjaF9wcm9kdWN0cyIsIl90aGlzJGRvbSRwcm9kdWN0U2VhcjkiLCJlcnJvclNlYXJjaGluZyIsImFqYXhSZXF1ZXN0IiwidXJsIiwiYWpheFVybCIsImRhdGEiLCJhY3Rpb24iLCJub25jZSIsInNlYXJjaCIsImNhdGVnb3J5IiwidGhlbiIsInJlc3BvbnNlIiwicHJvZHVjdHNBcnJheSIsInN1Y2Nlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJwcm9kdWN0cyIsIl90aGlzMyRkb20kcHJvZHVjdFNlYSIsInJlc3VsdHNIdG1sIiwiZm9yRWFjaCIsInByb2R1Y3QiLCJlc2NhcGVkTmFtZSIsInRleHQiLCJpZCIsIm5vUHJvZHVjdHNGb3VuZCIsIl90aGlzMyRkb20kcHJvZHVjdFNlYTIiLCJjYXRjaCIsIl90aGlzMyRkb20kcHJvZHVjdFNlYTMiLCJfdGhpcyRkb20kc2VsZWN0ZWRQcm8zIiwiX3RoaXMkZG9tJHNlbGVjdGVkUHJvNCIsIl90aGlzJGRvbSRzZWxlY3RlZFBybzUiLCJfdGhpcyRkb20kcHJvZHVjdFNlYXIwIiwiX3RoaXMkZG9tJHByb2R1Y3RTZWFyMSIsIiRpdGVtIiwiY3VycmVudFRhcmdldCIsInByb2R1Y3RJZCIsInByb2R1Y3ROYW1lIiwiZm9ybU1vZGlmaWVkIiwiX3RoaXMkZG9tJHByb2R1Y3RTZWFyMTAiLCJmb2N1cyIsInJlc2V0Rm9ybSIsIl90aGlzJGRvbSRyZWxhdGlvblR5cDQiLCJfdGhpcyRkb20kc291cmNlQ2F0ZWciLCJfdGhpcyRkb20kbm90ZVRleHRJbnAyIiwiX3RoaXMkZG9tJHRhcmdldENhdGVnOCIsIl90aGlzJGRvbSRwcm9kdWN0U2VhcjExIiwiX3RoaXMkZG9tJG5vdGVSb3czIiwicG9wdWxhdGVGb3JtV2l0aERhdGEiLCJpdGVtRGF0YSIsIl90aGlzJGRvbSRyZWxhdGlvblR5cDUiLCJfdGhpczQiLCJyZWxhdGlvblR5cGUiLCJyZWxhdGlvbl90eXBlIiwic291cmNlQ2F0ZWdvcmllcyIsInNvdXJjZV9jYXRlZ29yeSIsInRhcmdldENhdGVnb3J5IiwidGFyZ2V0X2NhdGVnb3J5IiwicHJvZHVjdF9pZCIsIm5vdGVUZXh0Iiwibm90ZV90ZXh0IiwiX3RoaXM0JGRvbSRzb3VyY2VDYXRlIiwiX3RoaXM0JGRvbSR0YXJnZXRDYXRlIiwicHJvZHVjdF9uYW1lIiwiX3RoaXM0JGRvbSRzZWxlY3RlZFByIiwiX3RoaXM0JGRvbSRzZWxlY3RlZFByMiIsIl90aGlzNCRkb20kc2VsZWN0ZWRQcjMiLCJlc2NhcGVkUHJvZHVjdE5hbWUiLCJfdGhpczQkZG9tJHNlbGVjdGVkUHI0IiwiX3RoaXM0JGRvbSRzZWxlY3RlZFByNSIsIl90aGlzNCRkb20kc2VsZWN0ZWRQcjYiLCJfdGhpczQkZG9tJHRhcmdldENhdGUyIiwiX3RoaXM0JGRvbSRub3RlVGV4dEluIiwidmFsaWRhdGVGb3JtIiwiX3RoaXMkZG9tJHJlbGF0aW9uVHlwNiIsIl90aGlzJGRvbSRzb3VyY2VDYXRlZzIiLCJfdGhpcyRkb20kdGFyZ2V0Q2F0ZWc5IiwiX3RoaXMkZG9tJHNlbGVjdGVkUHJvNiIsIl90aGlzJGRvbSRub3RlVGV4dElucDMiLCJfdGhpcyRkb20kc291cmNlQ2F0ZWczIiwiX3RoaXMkZG9tJHRhcmdldENhdGVnMCIsImlzVmFsaWQiLCJjbGVhckZpZWxkRXJyb3IiLCJuZXh0Iiwic2hvd0ZpZWxkRXJyb3IiLCJzZWxlY3RBY3Rpb24iLCJfdGhpcyRkb20kc291cmNlQ2F0ZWc0Iiwic2VsZWN0U291cmNlQ2F0ZWdvcmllcyIsIl90aGlzJGRvbSR0YXJnZXRDYXRlZzEiLCJzZWxlY3RUYXJnZXRDYXRlZ29yeSIsIl90aGlzJGRvbSRzZWxlY3RlZFBybzciLCIkcHJvZHVjdEVycm9yVGFyZ2V0IiwiaXMiLCJzZWxlY3RQcm9kdWN0IiwiX3RoaXMkZG9tJHRhcmdldENhdGVnMTAiLCJub3RlVGV4dFJlcXVpcmVkIiwicG9wdWxhdGVDb2x1bW5fc291cmNlX2NhdGVnb3JpZXMiLCIkY2VsbCIsInNvdXJjZV9jYXRlZ29yeV9kaXNwbGF5IiwicG9wdWxhdGVDb2x1bW5fYWN0aW9uX3R5cGUiLCIkYWN0aW9uVHlwZVNwYW4iLCJhZGRDbGFzcyIsImFjdGlvbl90eXBlX2Rpc3BsYXkiLCJhcHBlbmQiLCJwb3B1bGF0ZUNvbHVtbl90YXJnZXRfZGV0YWlscyIsInRhcmdldF9kZXRhaWxzX2Rpc3BsYXkiLCJiaW5kQ3VzdG9tQWN0aW9uQnV0dG9ucyIsImxpc3RUYWJsZUJvZHkiLCJoYW5kbGVWaWV3UHJvZHVjdCIsInByZXZlbnREZWZhdWx0IiwiJGJ1dHRvbiIsInNob3dOb3RpY2UiLCJhZG1pblVybCIsIndpbmRvdyIsImFqYXh1cmwiLCJyZXBsYWNlIiwicHJvZHVjdFVybCIsIm9wZW4iLCJqUXVlcnkiLCJyZWFkeSIsImxvY2FsaXplZERhdGFPYmplY3ROYW1lIiwiUHJvZHVjdEFkZGl0aW9uc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UiLCJsb2ciLCJlcnJvciIsIlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/modules/ProductAdditionsSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/ProductUpgradesSettingsModule.js":
/*!***************************************************************!*\
  !*** ./src/js/admin/modules/ProductUpgradesSettingsModule.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/AdminTableManager */ \"./src/js/admin/common/AdminTableManager.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n// File: admin/js/modules/ProductUpgradesSettingsModule.js\n\n/**\n * Product Upgrades Settings JavaScript\n *\n * Handles functionality specific to the product upgrades settings tab.\n * Extends AdminTableManager for common table and form management.\n */\n\n\nvar ProductUpgradesSettingsModule = /*#__PURE__*/function (_AdminTableManager) {\n  /**\n   * Constructor for ProductUpgradesSettingsModule.\n   */\n  function ProductUpgradesSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, ProductUpgradesSettingsModule);\n    var config = {\n      mainTabId: 'product_upgrades',\n      localizedDataName: 'productUpgradesSettings'\n      // AdminTableManager passes this to VerticalTabbedModule,\n      // which passes relevant parts to ProductEstimatorSettings.\n    };\n    _this = _callSuper(this, ProductUpgradesSettingsModule, [config]); // Calls AdminTableManager constructor\n\n    // this.logger is initialized by AdminTableManager\n    // this.settings is populated by ProductEstimatorSettings via the super chain\n    // this.config from AdminTableManager holds the original config passed here\n\n    // Defer DOM-dependent specific initializations until the base AdminTableManager signals it's ready\n    _this.$(document).on(\"admin_table_manager_ready_\".concat(_this.config.mainTabId), function () {\n      _this._cacheProductUpgradesDOM();\n      _this._bindSpecificEvents();\n      _this._initializeSelect2();\n    });\n    return _this;\n  }\n\n  /**\n   * Cache DOM elements specific to Product Upgrades, beyond what AdminTableManager caches.\n   * This is called after AdminTableManager's cacheDOM.\n   * @private\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ProductUpgradesSettingsModule, _AdminTableManager);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ProductUpgradesSettingsModule, [{\n    key: \"_cacheProductUpgradesDOM\",\n    value: function _cacheProductUpgradesDOM() {\n      // this.dom is initialized by AdminTableManager. Add Product Upgrades specific elements.\n      if (this.settings && this.settings.selectors) {\n        var puSelectors = this.settings.selectors;\n        this.dom.baseCategories = this.$container.find(puSelectors.baseCategories);\n        this.dom.upgradeCategories = this.$container.find(puSelectors.upgradeCategories);\n        this.dom.upgradeTitle = this.$container.find(puSelectors.upgradeTitle);\n        this.dom.upgradeDescription = this.$container.find(puSelectors.upgradeDescription);\n      } else {\n        this.logger.warn('ProductUpgradesSettingsModule: settings or selectors not available for DOM caching');\n      }\n    }\n\n    /**\n     * Bind events specific to Product Upgrades.\n     * This is called after the `admin_table_manager_ready` event.\n     * @private\n     */\n  }, {\n    key: \"_bindSpecificEvents\",\n    value: function _bindSpecificEvents() {\n      // Ensure this.dom elements are available\n      if (!this.dom.form || !this.dom.form.length) {\n        return;\n      }\n\n      // Any product upgrades specific events can be bound here\n    }\n\n    /**\n     * Initialize Select2 components.\n     * This is called after the `admin_table_manager_ready` event.\n     * @private\n     */\n  }, {\n    key: \"_initializeSelect2\",\n    value: function _initializeSelect2() {\n      this.initializeSelect2Dropdowns({\n        elements: [{\n          element: this.dom.baseCategories,\n          placeholderKey: 'selectBaseCategories',\n          fallbackText: 'Select base categories',\n          name: 'base categories',\n          config: {\n            clearInitial: true,\n            width: '100%'\n          }\n        }, {\n          element: this.dom.upgradeCategories,\n          placeholderKey: 'selectUpgradeCategories',\n          fallbackText: 'Select upgrade categories',\n          name: 'upgrade categories',\n          config: {\n            clearInitial: true,\n            width: '100%'\n          }\n        }],\n        moduleName: 'Product Upgrades'\n      });\n    }\n\n    /**\n     * Overridden from VerticalTabbedModule. Called when the \"Product Upgrades\" main tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(ProductUpgradesSettingsModule, \"onMainTabActivated\", this, 3)([]); // Call parent method\n\n      // Refresh Select2 components if they're already initialized\n      if (this.dom.baseCategories && this.dom.baseCategories.hasClass(\"select2-hidden-accessible\")) {\n        this.refreshSelect2(this.dom.baseCategories);\n      }\n      if (this.dom.upgradeCategories && this.dom.upgradeCategories.hasClass(\"select2-hidden-accessible\")) {\n        this.refreshSelect2(this.dom.upgradeCategories);\n      }\n    }\n\n    /**\n     * Override AdminTableManager.resetForm to include Product Upgrades specific fields.\n     */\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      var _this$dom$baseCategor, _this$dom$upgradeCate, _this$dom$upgradeTitl, _this$dom$upgradeDesc;\n      _superPropGet(ProductUpgradesSettingsModule, \"resetForm\", this, 3)([]); // Call base class method first\n\n      // Reset Product Upgrades specific fields\n      (_this$dom$baseCategor = this.dom.baseCategories) === null || _this$dom$baseCategor === void 0 || _this$dom$baseCategor.val(null).trigger('change.select2');\n      (_this$dom$upgradeCate = this.dom.upgradeCategories) === null || _this$dom$upgradeCate === void 0 || _this$dom$upgradeCate.val(null).trigger('change.select2');\n      (_this$dom$upgradeTitl = this.dom.upgradeTitle) === null || _this$dom$upgradeTitl === void 0 || _this$dom$upgradeTitl.val('');\n      (_this$dom$upgradeDesc = this.dom.upgradeDescription) === null || _this$dom$upgradeDesc === void 0 || _this$dom$upgradeDesc.val('');\n    }\n\n    /**\n     * Override AdminTableManager.populateFormWithData for Product Upgrades specific fields.\n     * @param {object} itemData - The data for the product upgrade item to populate the form with\n     * @override\n     */\n  }, {\n    key: \"populateFormWithData\",\n    value: function populateFormWithData(itemData) {\n      var _this2 = this;\n      _superPropGet(ProductUpgradesSettingsModule, \"populateFormWithData\", this, 3)([itemData]); // Sets item ID, calls base logic\n\n      var baseCategories = itemData.base_categories || [];\n      var upgradeCategories = itemData.upgrade_categories || [];\n\n      // Look for field values in multiple possible locations\n      var title = itemData.upgrade_title || itemData.title || '';\n      var description = itemData.upgrade_description || itemData.description || '';\n\n      // Use setTimeout to allow dependent field visibility changes to complete\n      setTimeout(function () {\n        var _this2$dom$baseCatego, _this2$dom$upgradeCat, _this2$dom$upgradeTit, _this2$dom$upgradeDes;\n        (_this2$dom$baseCatego = _this2.dom.baseCategories) === null || _this2$dom$baseCatego === void 0 || _this2$dom$baseCatego.val(baseCategories).trigger('change.select2');\n        (_this2$dom$upgradeCat = _this2.dom.upgradeCategories) === null || _this2$dom$upgradeCat === void 0 || _this2$dom$upgradeCat.val(upgradeCategories).trigger('change.select2');\n        (_this2$dom$upgradeTit = _this2.dom.upgradeTitle) === null || _this2$dom$upgradeTit === void 0 || _this2$dom$upgradeTit.val(title);\n        (_this2$dom$upgradeDes = _this2.dom.upgradeDescription) === null || _this2$dom$upgradeDes === void 0 || _this2$dom$upgradeDes.val(description);\n        _this2.formModified = false; // Reset modified flag after populating\n      }, 150);\n    }\n\n    /**\n     * Override AdminTableManager.validateForm for Product Upgrades specific validation.\n     * @returns {boolean} True if the form passes validation, false otherwise\n     * @override\n     */\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this$dom$baseCategor2, _this$dom$upgradeCate2, _this$dom$baseCategor3, _this$dom$upgradeCate3;\n      var isValid = _superPropGet(ProductUpgradesSettingsModule, \"validateForm\", this, 3)([]); // Perform base validation first\n\n      // Get values\n      var baseCategories = (_this$dom$baseCategor2 = this.dom.baseCategories) === null || _this$dom$baseCategor2 === void 0 ? void 0 : _this$dom$baseCategor2.val();\n      var upgradeCategories = (_this$dom$upgradeCate2 = this.dom.upgradeCategories) === null || _this$dom$upgradeCate2 === void 0 ? void 0 : _this$dom$upgradeCate2.val();\n\n      // i18n messages from this.settings.i18n\n      var i18n = this.settings.i18n || {};\n\n      // Clear previous specific errors\n      this.clearFieldError((_this$dom$baseCategor3 = this.dom.baseCategories) === null || _this$dom$baseCategor3 === void 0 ? void 0 : _this$dom$baseCategor3.next('.select2-container'));\n      this.clearFieldError((_this$dom$upgradeCate3 = this.dom.upgradeCategories) === null || _this$dom$upgradeCate3 === void 0 ? void 0 : _this$dom$upgradeCate3.next('.select2-container'));\n      if (!baseCategories || baseCategories.length === 0) {\n        var _this$dom$baseCategor4;\n        this.showFieldError((_this$dom$baseCategor4 = this.dom.baseCategories) === null || _this$dom$baseCategor4 === void 0 ? void 0 : _this$dom$baseCategor4.next('.select2-container'), i18n.selectBaseCategories || 'Please select at least one base category.');\n        isValid = false;\n      }\n      if (!upgradeCategories || upgradeCategories.length === 0) {\n        var _this$dom$upgradeCate4;\n        this.showFieldError((_this$dom$upgradeCate4 = this.dom.upgradeCategories) === null || _this$dom$upgradeCate4 === void 0 ? void 0 : _this$dom$upgradeCate4.next('.select2-container'), i18n.selectUpgradeCategories || 'Please select at least one upgrade category.');\n        isValid = false;\n      }\n      return isValid;\n    }\n\n    /**\n     * Custom column population method for 'base_categories' column\n     * This method follows the naming convention for column handlers in AdminTableManager\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_base_categories\",\n    value: function populateColumn_base_categories($cell, itemData) {\n      // Look in all possible data fields to find the display value\n      var displayValue = itemData.base_categories_display || itemData.base_category_names || (Array.isArray(itemData.base_categories) ? itemData.base_categories.join(',') : '') || 'N/A';\n      $cell.text(displayValue);\n    }\n\n    /**\n     * Custom column population method for 'upgrade_categories' column\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_upgrade_categories\",\n    value: function populateColumn_upgrade_categories($cell, itemData) {\n      // Look in all possible data fields to find the display value\n      var displayValue = itemData.upgrade_categories_display || itemData.upgrade_category_names || (Array.isArray(itemData.upgrade_categories) ? itemData.upgrade_categories.join(',') : '') || 'N/A';\n      $cell.text(displayValue);\n    }\n  }]);\n}(_common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"]); // Initialize the module when the DOM is ready and its main tab container exists.\njQuery(document).ready(function ($) {\n  var mainTabId = 'product_upgrades'; // Specific to this module\n  var localizedDataObjectName = 'productUpgradesSettings'; // Global settings object name\n\n  if ($(\"#\".concat(mainTabId)).length) {\n    // Check if the global localized data for this module is available\n    if (window[localizedDataObjectName]) {\n      // Instantiate the module once\n      if (!window.ProductUpgradesSettingsModuleInstance) {\n        try {\n          window.ProductUpgradesSettingsModuleInstance = new ProductUpgradesSettingsModule();\n          (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductUpgradesInit').log('ProductUpgradesSettingsModule instance initiated.');\n        } catch (error) {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductUpgradesInit').error('Error instantiating ProductUpgradesSettingsModule:', error);\n          // Use the global notice system if ProductEstimatorSettings is available\n          if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n            window.ProductEstimatorSettingsInstance.showNotice('Failed to initialize Product Upgrades settings. Check console for errors.', 'error');\n          }\n        }\n      }\n    } else {\n      (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductUpgradesInit').error(\"Localized data object \\\"\".concat(localizedDataObjectName, \"\\\" not found for tab: \").concat(mainTabId, \". Module cannot be initialized.\"));\n      if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n        window.ProductEstimatorSettingsInstance.showNotice(\"Configuration data for Product Upgrades (\\\"\".concat(localizedDataObjectName, \"\\\") is missing. Module disabled.\"), 'error');\n      }\n    }\n  } else {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('ProductUpgradesInit').warn(\"Main container #\".concat(mainTabId, \" not found. ProductUpgradesSettingsModule will not be initialized.\"));\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProductUpgradesSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9Qcm9kdWN0VXBncmFkZXNTZXR0aW5nc01vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDc0M7QUFFc0I7QUFBQSxJQUV0REUsNkJBQTZCLDBCQUFBQyxrQkFBQTtFQUNqQztBQUNGO0FBQ0E7RUFDRSxTQUFBRCw4QkFBQSxFQUFjO0lBQUEsSUFBQUUsS0FBQTtJQUFBQyxpRkFBQSxPQUFBSCw2QkFBQTtJQUNaLElBQU1JLE1BQU0sR0FBRztNQUNiQyxTQUFTLEVBQUUsa0JBQWtCO01BQzdCQyxpQkFBaUIsRUFBRTtNQUNuQjtNQUNBO0lBQ0YsQ0FBQztJQUNESixLQUFBLEdBQUFLLFVBQUEsT0FBQVAsNkJBQUEsR0FBTUksTUFBTSxHQUFFLENBQUM7O0lBRWY7SUFDQTtJQUNBOztJQUVBO0lBQ0FGLEtBQUEsQ0FBS00sQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQ0MsRUFBRSw4QkFBQUMsTUFBQSxDQUE4QlQsS0FBQSxDQUFLRSxNQUFNLENBQUNDLFNBQVMsR0FBSSxZQUFNO01BQzlFSCxLQUFBLENBQUtVLHdCQUF3QixDQUFDLENBQUM7TUFDL0JWLEtBQUEsQ0FBS1csbUJBQW1CLENBQUMsQ0FBQztNQUMxQlgsS0FBQSxDQUFLWSxrQkFBa0IsQ0FBQyxDQUFDO0lBQzNCLENBQUMsQ0FBQztJQUFDLE9BQUFaLEtBQUE7RUFFTDs7RUFFQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0VBSkVhLDJFQUFBLENBQUFmLDZCQUFBLEVBQUFDLGtCQUFBO0VBQUEsT0FBQWUsOEVBQUEsQ0FBQWhCLDZCQUFBO0lBQUFpQixHQUFBO0lBQUFDLEtBQUEsRUFLQSxTQUFBTix3QkFBd0JBLENBQUEsRUFBRztNQUN6QjtNQUNBLElBQUksSUFBSSxDQUFDTyxRQUFRLElBQUksSUFBSSxDQUFDQSxRQUFRLENBQUNDLFNBQVMsRUFBRTtRQUM1QyxJQUFNQyxX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SixJQUFJNEYsTUFBTSxDQUFDSSxnQ0FBZ0MsSUFBSSxPQUFPSixNQUFNLENBQUNJLGdDQUFnQyxDQUFDQyxVQUFVLEtBQUssVUFBVSxFQUFFO1FBQ3ZITCxNQUFNLENBQUNJLGdDQUFnQyxDQUFDQyxVQUFVLCtDQUFBM0YsTUFBQSxDQUE4Q3FGLHVCQUF1Qix1Q0FBbUMsT0FBTyxDQUFDO01BQ3BLO0lBQ0Y7RUFDRixDQUFDLE1BQU07SUFDTGxHLG9EQUFZLENBQUMscUJBQXFCLENBQUMsQ0FBQ2dDLElBQUksb0JBQUFuQixNQUFBLENBQW9CTixTQUFTLHVFQUFvRSxDQUFDO0VBQzVJO0FBQ0YsQ0FBQyxDQUFDO0FBRUYsK0RBQWVMLDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2R1Y3QtZXN0aW1hdG9yLy4vc3JjL2pzL2FkbWluL21vZHVsZXMvUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGUuanM/MjI4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaWxlOiBhZG1pbi9qcy9tb2R1bGVzL1Byb2R1Y3RVcGdyYWRlc1NldHRpbmdzTW9kdWxlLmpzXG5cbi8qKlxuICogUHJvZHVjdCBVcGdyYWRlcyBTZXR0aW5ncyBKYXZhU2NyaXB0XG4gKlxuICogSGFuZGxlcyBmdW5jdGlvbmFsaXR5IHNwZWNpZmljIHRvIHRoZSBwcm9kdWN0IHVwZ3JhZGVzIHNldHRpbmdzIHRhYi5cbiAqIEV4dGVuZHMgQWRtaW5UYWJsZU1hbmFnZXIgZm9yIGNvbW1vbiB0YWJsZSBhbmQgZm9ybSBtYW5hZ2VtZW50LlxuICovXG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIgfSBmcm9tICdAdXRpbHMnO1xuXG5pbXBvcnQgQWRtaW5UYWJsZU1hbmFnZXIgZnJvbSAnLi4vY29tbW9uL0FkbWluVGFibGVNYW5hZ2VyJztcblxuY2xhc3MgUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGUgZXh0ZW5kcyBBZG1pblRhYmxlTWFuYWdlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBtYWluVGFiSWQ6ICdwcm9kdWN0X3VwZ3JhZGVzJyxcbiAgICAgIGxvY2FsaXplZERhdGFOYW1lOiAncHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3MnXG4gICAgICAvLyBBZG1pblRhYmxlTWFuYWdlciBwYXNzZXMgdGhpcyB0byBWZXJ0aWNhbFRhYmJlZE1vZHVsZSxcbiAgICAgIC8vIHdoaWNoIHBhc3NlcyByZWxldmFudCBwYXJ0cyB0byBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MuXG4gICAgfTtcbiAgICBzdXBlcihjb25maWcpOyAvLyBDYWxscyBBZG1pblRhYmxlTWFuYWdlciBjb25zdHJ1Y3RvclxuXG4gICAgLy8gdGhpcy5sb2dnZXIgaXMgaW5pdGlhbGl6ZWQgYnkgQWRtaW5UYWJsZU1hbmFnZXJcbiAgICAvLyB0aGlzLnNldHRpbmdzIGlzIHBvcHVsYXRlZCBieSBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgdmlhIHRoZSBzdXBlciBjaGFpblxuICAgIC8vIHRoaXMuY29uZmlnIGZyb20gQWRtaW5UYWJsZU1hbmFnZXIgaG9sZHMgdGhlIG9yaWdpbmFsIGNvbmZpZyBwYXNzZWQgaGVyZVxuXG4gICAgLy8gRGVmZXIgRE9NLWRlcGVuZGVudCBzcGVjaWZpYyBpbml0aWFsaXphdGlvbnMgdW50aWwgdGhlIGJhc2UgQWRtaW5UYWJsZU1hbmFnZXIgc2lnbmFscyBpdCdzIHJlYWR5XG4gICAgdGhpcy4kKGRvY3VtZW50KS5vbihgYWRtaW5fdGFibGVfbWFuYWdlcl9yZWFkeV8ke3RoaXMuY29uZmlnLm1haW5UYWJJZH1gLCAoKSA9PiB7XG4gICAgICB0aGlzLl9jYWNoZVByb2R1Y3RVcGdyYWRlc0RPTSgpO1xuICAgICAgdGhpcy5fYmluZFNwZWNpZmljRXZlbnRzKCk7XG4gICAgICB0aGlzLl9pbml0aWFsaXplU2VsZWN0MigpO1xuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICogQ2FjaGUgRE9NIGVsZW1lbnRzIHNwZWNpZmljIHRvIFByb2R1Y3QgVXBncmFkZXMsIGJleW9uZCB3aGF0IEFkbWluVGFibGVNYW5hZ2VyIGNhY2hlcy5cbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgQWRtaW5UYWJsZU1hbmFnZXIncyBjYWNoZURPTS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jYWNoZVByb2R1Y3RVcGdyYWRlc0RPTSgpIHtcbiAgICAvLyB0aGlzLmRvbSBpcyBpbml0aWFsaXplZCBieSBBZG1pblRhYmxlTWFuYWdlci4gQWRkIFByb2R1Y3QgVXBncmFkZXMgc3BlY2lmaWMgZWxlbWVudHMuXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MgJiYgdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnMpIHtcbiAgICAgIGNvbnN0IHB1U2VsZWN0b3JzID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnM7XG4gICAgICB0aGlzLmRvbS5iYXNlQ2F0ZWdvcmllcyA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHB1U2VsZWN0b3JzLmJhc2VDYXRlZ29yaWVzKTtcbiAgICAgIHRoaXMuZG9tLnVwZ3JhZGVDYXRlZ29yaWVzID0gdGhpcy4kY29udGFpbmVyLmZpbmQocHVTZWxlY3RvcnMudXBncmFkZUNhdGVnb3JpZXMpO1xuICAgICAgdGhpcy5kb20udXBncmFkZVRpdGxlID0gdGhpcy4kY29udGFpbmVyLmZpbmQocHVTZWxlY3RvcnMudXBncmFkZVRpdGxlKTtcbiAgICAgIHRoaXMuZG9tLnVwZ3JhZGVEZXNjcmlwdGlvbiA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHB1U2VsZWN0b3JzLnVwZ3JhZGVEZXNjcmlwdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ1Byb2R1Y3RVcGdyYWRlc1NldHRpbmdzTW9kdWxlOiBzZXR0aW5ncyBvciBzZWxlY3RvcnMgbm90IGF2YWlsYWJsZSBmb3IgRE9NIGNhY2hpbmcnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQmluZCBldmVudHMgc3BlY2lmaWMgdG8gUHJvZHVjdCBVcGdyYWRlcy5cbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGBhZG1pbl90YWJsZV9tYW5hZ2VyX3JlYWR5YCBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9iaW5kU3BlY2lmaWNFdmVudHMoKSB7XG4gICAgLy8gRW5zdXJlIHRoaXMuZG9tIGVsZW1lbnRzIGFyZSBhdmFpbGFibGVcbiAgICBpZiAoIXRoaXMuZG9tLmZvcm0gfHwgIXRoaXMuZG9tLmZvcm0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQW55IHByb2R1Y3QgdXBncmFkZXMgc3BlY2lmaWMgZXZlbnRzIGNhbiBiZSBib3VuZCBoZXJlXG5cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIFNlbGVjdDIgY29tcG9uZW50cy5cbiAgICogVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGBhZG1pbl90YWJsZV9tYW5hZ2VyX3JlYWR5YCBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0aWFsaXplU2VsZWN0MigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVTZWxlY3QyRHJvcGRvd25zKHtcbiAgICAgIGVsZW1lbnRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBlbGVtZW50OiB0aGlzLmRvbS5iYXNlQ2F0ZWdvcmllcyxcbiAgICAgICAgICBwbGFjZWhvbGRlcktleTogJ3NlbGVjdEJhc2VDYXRlZ29yaWVzJyxcbiAgICAgICAgICBmYWxsYmFja1RleHQ6ICdTZWxlY3QgYmFzZSBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBuYW1lOiAnYmFzZSBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGNsZWFySW5pdGlhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBlbGVtZW50OiB0aGlzLmRvbS51cGdyYWRlQ2F0ZWdvcmllcyxcbiAgICAgICAgICBwbGFjZWhvbGRlcktleTogJ3NlbGVjdFVwZ3JhZGVDYXRlZ29yaWVzJyxcbiAgICAgICAgICBmYWxsYmFja1RleHQ6ICdTZWxlY3QgdXBncmFkZSBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBuYW1lOiAndXBncmFkZSBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGNsZWFySW5pdGlhbDogdHJ1ZSxcbiAgICAgICAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBtb2R1bGVOYW1lOiAnUHJvZHVjdCBVcGdyYWRlcydcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRkZW4gZnJvbSBWZXJ0aWNhbFRhYmJlZE1vZHVsZS4gQ2FsbGVkIHdoZW4gdGhlIFwiUHJvZHVjdCBVcGdyYWRlc1wiIG1haW4gdGFiIGlzIGFjdGl2YXRlZC5cbiAgICovXG4gIG9uTWFpblRhYkFjdGl2YXRlZCgpIHtcbiAgICBzdXBlci5vbk1haW5UYWJBY3RpdmF0ZWQoKTsgLy8gQ2FsbCBwYXJlbnQgbWV0aG9kXG5cbiAgICAvLyBSZWZyZXNoIFNlbGVjdDIgY29tcG9uZW50cyBpZiB0aGV5J3JlIGFscmVhZHkgaW5pdGlhbGl6ZWRcbiAgICBpZiAodGhpcy5kb20uYmFzZUNhdGVnb3JpZXMgJiYgdGhpcy5kb20uYmFzZUNhdGVnb3JpZXMuaGFzQ2xhc3MoXCJzZWxlY3QyLWhpZGRlbi1hY2Nlc3NpYmxlXCIpKSB7XG4gICAgICB0aGlzLnJlZnJlc2hTZWxlY3QyKHRoaXMuZG9tLmJhc2VDYXRlZ29yaWVzKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZG9tLnVwZ3JhZGVDYXRlZ29yaWVzICYmIHRoaXMuZG9tLnVwZ3JhZGVDYXRlZ29yaWVzLmhhc0NsYXNzKFwic2VsZWN0Mi1oaWRkZW4tYWNjZXNzaWJsZVwiKSkge1xuICAgICAgdGhpcy5yZWZyZXNoU2VsZWN0Mih0aGlzLmRvbS51cGdyYWRlQ2F0ZWdvcmllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIEFkbWluVGFibGVNYW5hZ2VyLnJlc2V0Rm9ybSB0byBpbmNsdWRlIFByb2R1Y3QgVXBncmFkZXMgc3BlY2lmaWMgZmllbGRzLlxuICAgKi9cbiAgcmVzZXRGb3JtKCkge1xuICAgIHN1cGVyLnJlc2V0Rm9ybSgpOyAvLyBDYWxsIGJhc2UgY2xhc3MgbWV0aG9kIGZpcnN0XG5cbiAgICAvLyBSZXNldCBQcm9kdWN0IFVwZ3JhZGVzIHNwZWNpZmljIGZpZWxkc1xuICAgIHRoaXMuZG9tLmJhc2VDYXRlZ29yaWVzPy52YWwobnVsbCkudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTtcbiAgICB0aGlzLmRvbS51cGdyYWRlQ2F0ZWdvcmllcz8udmFsKG51bGwpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7XG4gICAgdGhpcy5kb20udXBncmFkZVRpdGxlPy52YWwoJycpO1xuICAgIHRoaXMuZG9tLnVwZ3JhZGVEZXNjcmlwdGlvbj8udmFsKCcnKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIEFkbWluVGFibGVNYW5hZ2VyLnBvcHVsYXRlRm9ybVdpdGhEYXRhIGZvciBQcm9kdWN0IFVwZ3JhZGVzIHNwZWNpZmljIGZpZWxkcy5cbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1EYXRhIC0gVGhlIGRhdGEgZm9yIHRoZSBwcm9kdWN0IHVwZ3JhZGUgaXRlbSB0byBwb3B1bGF0ZSB0aGUgZm9ybSB3aXRoXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wdWxhdGVGb3JtV2l0aERhdGEoaXRlbURhdGEpIHtcbiAgICBzdXBlci5wb3B1bGF0ZUZvcm1XaXRoRGF0YShpdGVtRGF0YSk7IC8vIFNldHMgaXRlbSBJRCwgY2FsbHMgYmFzZSBsb2dpY1xuXG4gICAgY29uc3QgYmFzZUNhdGVnb3JpZXMgPSBpdGVtRGF0YS5iYXNlX2NhdGVnb3JpZXMgfHwgW107XG4gICAgY29uc3QgdXBncmFkZUNhdGVnb3JpZXMgPSBpdGVtRGF0YS51cGdyYWRlX2NhdGVnb3JpZXMgfHwgW107XG5cbiAgICAvLyBMb29rIGZvciBmaWVsZCB2YWx1ZXMgaW4gbXVsdGlwbGUgcG9zc2libGUgbG9jYXRpb25zXG4gICAgY29uc3QgdGl0bGUgPSBpdGVtRGF0YS51cGdyYWRlX3RpdGxlIHx8IGl0ZW1EYXRhLnRpdGxlIHx8ICcnO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gaXRlbURhdGEudXBncmFkZV9kZXNjcmlwdGlvbiB8fCBpdGVtRGF0YS5kZXNjcmlwdGlvbiB8fCAnJztcblxuXG4gICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gYWxsb3cgZGVwZW5kZW50IGZpZWxkIHZpc2liaWxpdHkgY2hhbmdlcyB0byBjb21wbGV0ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kb20uYmFzZUNhdGVnb3JpZXM/LnZhbChiYXNlQ2F0ZWdvcmllcykudHJpZ2dlcignY2hhbmdlLnNlbGVjdDInKTtcbiAgICAgIHRoaXMuZG9tLnVwZ3JhZGVDYXRlZ29yaWVzPy52YWwodXBncmFkZUNhdGVnb3JpZXMpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7XG4gICAgICB0aGlzLmRvbS51cGdyYWRlVGl0bGU/LnZhbCh0aXRsZSk7XG4gICAgICB0aGlzLmRvbS51cGdyYWRlRGVzY3JpcHRpb24/LnZhbChkZXNjcmlwdGlvbik7XG5cbiAgICAgIHRoaXMuZm9ybU1vZGlmaWVkID0gZmFsc2U7IC8vIFJlc2V0IG1vZGlmaWVkIGZsYWcgYWZ0ZXIgcG9wdWxhdGluZ1xuICAgIH0sIDE1MCk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgQWRtaW5UYWJsZU1hbmFnZXIudmFsaWRhdGVGb3JtIGZvciBQcm9kdWN0IFVwZ3JhZGVzIHNwZWNpZmljIHZhbGlkYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBmb3JtIHBhc3NlcyB2YWxpZGF0aW9uLCBmYWxzZSBvdGhlcndpc2VcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUZvcm0oKSB7XG4gICAgbGV0IGlzVmFsaWQgPSBzdXBlci52YWxpZGF0ZUZvcm0oKTsgLy8gUGVyZm9ybSBiYXNlIHZhbGlkYXRpb24gZmlyc3RcblxuICAgIC8vIEdldCB2YWx1ZXNcbiAgICBjb25zdCBiYXNlQ2F0ZWdvcmllcyA9IHRoaXMuZG9tLmJhc2VDYXRlZ29yaWVzPy52YWwoKTtcbiAgICBjb25zdCB1cGdyYWRlQ2F0ZWdvcmllcyA9IHRoaXMuZG9tLnVwZ3JhZGVDYXRlZ29yaWVzPy52YWwoKTtcblxuICAgIC8vIGkxOG4gbWVzc2FnZXMgZnJvbSB0aGlzLnNldHRpbmdzLmkxOG5cbiAgICBjb25zdCBpMThuID0gdGhpcy5zZXR0aW5ncy5pMThuIHx8IHt9O1xuXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgc3BlY2lmaWMgZXJyb3JzXG4gICAgdGhpcy5jbGVhckZpZWxkRXJyb3IodGhpcy5kb20uYmFzZUNhdGVnb3JpZXM/Lm5leHQoJy5zZWxlY3QyLWNvbnRhaW5lcicpKTtcbiAgICB0aGlzLmNsZWFyRmllbGRFcnJvcih0aGlzLmRvbS51cGdyYWRlQ2F0ZWdvcmllcz8ubmV4dCgnLnNlbGVjdDItY29udGFpbmVyJykpO1xuXG4gICAgaWYgKCFiYXNlQ2F0ZWdvcmllcyB8fCBiYXNlQ2F0ZWdvcmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuc2hvd0ZpZWxkRXJyb3IodGhpcy5kb20uYmFzZUNhdGVnb3JpZXM/Lm5leHQoJy5zZWxlY3QyLWNvbnRhaW5lcicpLCBpMThuLnNlbGVjdEJhc2VDYXRlZ29yaWVzIHx8ICdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBiYXNlIGNhdGVnb3J5LicpO1xuICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghdXBncmFkZUNhdGVnb3JpZXMgfHwgdXBncmFkZUNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnNob3dGaWVsZEVycm9yKHRoaXMuZG9tLnVwZ3JhZGVDYXRlZ29yaWVzPy5uZXh0KCcuc2VsZWN0Mi1jb250YWluZXInKSwgaTE4bi5zZWxlY3RVcGdyYWRlQ2F0ZWdvcmllcyB8fCAnUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgdXBncmFkZSBjYXRlZ29yeS4nKTtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXN0b20gY29sdW1uIHBvcHVsYXRpb24gbWV0aG9kIGZvciAnYmFzZV9jYXRlZ29yaWVzJyBjb2x1bW5cbiAgICogVGhpcyBtZXRob2QgZm9sbG93cyB0aGUgbmFtaW5nIGNvbnZlbnRpb24gZm9yIGNvbHVtbiBoYW5kbGVycyBpbiBBZG1pblRhYmxlTWFuYWdlclxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGNlbGwgLSBUaGUgdGFibGUgY2VsbCBlbGVtZW50IHRvIHBvcHVsYXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtRGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgY3VycmVudCByb3dcbiAgICovXG4gIHBvcHVsYXRlQ29sdW1uX2Jhc2VfY2F0ZWdvcmllcygkY2VsbCwgaXRlbURhdGEpIHtcblxuICAgIC8vIExvb2sgaW4gYWxsIHBvc3NpYmxlIGRhdGEgZmllbGRzIHRvIGZpbmQgdGhlIGRpc3BsYXkgdmFsdWVcbiAgICBjb25zdCBkaXNwbGF5VmFsdWUgPSBpdGVtRGF0YS5iYXNlX2NhdGVnb3JpZXNfZGlzcGxheSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbURhdGEuYmFzZV9jYXRlZ29yeV9uYW1lcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkoaXRlbURhdGEuYmFzZV9jYXRlZ29yaWVzKSA/IGl0ZW1EYXRhLmJhc2VfY2F0ZWdvcmllcy5qb2luKCcsJykgOiAnJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICdOL0EnO1xuXG4gICAgJGNlbGwudGV4dChkaXNwbGF5VmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBjb2x1bW4gcG9wdWxhdGlvbiBtZXRob2QgZm9yICd1cGdyYWRlX2NhdGVnb3JpZXMnIGNvbHVtblxuICAgKiBAcGFyYW0ge2pRdWVyeX0gJGNlbGwgLSBUaGUgdGFibGUgY2VsbCBlbGVtZW50IHRvIHBvcHVsYXRlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtRGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgY3VycmVudCByb3dcbiAgICovXG4gIHBvcHVsYXRlQ29sdW1uX3VwZ3JhZGVfY2F0ZWdvcmllcygkY2VsbCwgaXRlbURhdGEpIHtcblxuICAgIC8vIExvb2sgaW4gYWxsIHBvc3NpYmxlIGRhdGEgZmllbGRzIHRvIGZpbmQgdGhlIGRpc3BsYXkgdmFsdWVcbiAgICBjb25zdCBkaXNwbGF5VmFsdWUgPSBpdGVtRGF0YS51cGdyYWRlX2NhdGVnb3JpZXNfZGlzcGxheSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbURhdGEudXBncmFkZV9jYXRlZ29yeV9uYW1lcyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKEFycmF5LmlzQXJyYXkoaXRlbURhdGEudXBncmFkZV9jYXRlZ29yaWVzKSA/IGl0ZW1EYXRhLnVwZ3JhZGVfY2F0ZWdvcmllcy5qb2luKCcsJykgOiAnJykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICdOL0EnO1xuXG4gICAgJGNlbGwudGV4dChkaXNwbGF5VmFsdWUpO1xuICB9XG5cbn1cblxuLy8gSW5pdGlhbGl6ZSB0aGUgbW9kdWxlIHdoZW4gdGhlIERPTSBpcyByZWFkeSBhbmQgaXRzIG1haW4gdGFiIGNvbnRhaW5lciBleGlzdHMuXG5qUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XG4gIGNvbnN0IG1haW5UYWJJZCA9ICdwcm9kdWN0X3VwZ3JhZGVzJzsgLy8gU3BlY2lmaWMgdG8gdGhpcyBtb2R1bGVcbiAgY29uc3QgbG9jYWxpemVkRGF0YU9iamVjdE5hbWUgPSAncHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3MnOyAvLyBHbG9iYWwgc2V0dGluZ3Mgb2JqZWN0IG5hbWVcblxuICBpZiAoJChgIyR7bWFpblRhYklkfWApLmxlbmd0aCkge1xuICAgIC8vIENoZWNrIGlmIHRoZSBnbG9iYWwgbG9jYWxpemVkIGRhdGEgZm9yIHRoaXMgbW9kdWxlIGlzIGF2YWlsYWJsZVxuICAgIGlmICh3aW5kb3dbbG9jYWxpemVkRGF0YU9iamVjdE5hbWVdKSB7XG4gICAgICAvLyBJbnN0YW50aWF0ZSB0aGUgbW9kdWxlIG9uY2VcbiAgICAgIGlmICghd2luZG93LlByb2R1Y3RVcGdyYWRlc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3aW5kb3cuUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGVJbnN0YW5jZSA9IG5ldyBQcm9kdWN0VXBncmFkZXNTZXR0aW5nc01vZHVsZSgpO1xuICAgICAgICAgIGNyZWF0ZUxvZ2dlcignUHJvZHVjdFVwZ3JhZGVzSW5pdCcpLmxvZygnUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGUgaW5zdGFuY2UgaW5pdGlhdGVkLicpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNyZWF0ZUxvZ2dlcignUHJvZHVjdFVwZ3JhZGVzSW5pdCcpLmVycm9yKCdFcnJvciBpbnN0YW50aWF0aW5nIFByb2R1Y3RVcGdyYWRlc1NldHRpbmdzTW9kdWxlOicsIGVycm9yKTtcbiAgICAgICAgICAvLyBVc2UgdGhlIGdsb2JhbCBub3RpY2Ugc3lzdGVtIGlmIFByb2R1Y3RFc3RpbWF0b3JTZXR0aW5ncyBpcyBhdmFpbGFibGVcbiAgICAgICAgICBpZiAod2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlICYmIHR5cGVvZiB3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2Uuc2hvd05vdGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFByb2R1Y3QgVXBncmFkZXMgc2V0dGluZ3MuIENoZWNrIGNvbnNvbGUgZm9yIGVycm9ycy4nLCAnZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlTG9nZ2VyKCdQcm9kdWN0VXBncmFkZXNJbml0JykuZXJyb3IoYExvY2FsaXplZCBkYXRhIG9iamVjdCBcIiR7bG9jYWxpemVkRGF0YU9iamVjdE5hbWV9XCIgbm90IGZvdW5kIGZvciB0YWI6ICR7bWFpblRhYklkfS4gTW9kdWxlIGNhbm5vdCBiZSBpbml0aWFsaXplZC5gKTtcbiAgICAgIGlmICh3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2UgJiYgdHlwZW9mIHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZS5zaG93Tm90aWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZS5zaG93Tm90aWNlKGBDb25maWd1cmF0aW9uIGRhdGEgZm9yIFByb2R1Y3QgVXBncmFkZXMgKFwiJHtsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZX1cIikgaXMgbWlzc2luZy4gTW9kdWxlIGRpc2FibGVkLmAsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjcmVhdGVMb2dnZXIoJ1Byb2R1Y3RVcGdyYWRlc0luaXQnKS53YXJuKGBNYWluIGNvbnRhaW5lciAjJHttYWluVGFiSWR9IG5vdCBmb3VuZC4gUHJvZHVjdFVwZ3JhZGVzU2V0dGluZ3NNb2R1bGUgd2lsbCBub3QgYmUgaW5pdGlhbGl6ZWQuYCk7XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0VXBncmFkZXNTZXR0aW5nc01vZHVsZTtcbiJdLCJuYW1lcyI6WyJjcmVhdGVMb2dnZXIiLCJBZG1pblRhYmxlTWFuYWdlciIsIlByb2R1Y3RVcGdyYWRlc1NldHRpbmdzTW9kdWxlIiwiX0FkbWluVGFibGVNYW5hZ2VyIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2siLCJjb25maWciLCJtYWluVGFiSWQiLCJsb2NhbGl6ZWREYXRhTmFtZSIsIl9jYWxsU3VwZXIiLCIkIiwiZG9jdW1lbnQiLCJvbiIsImNvbmNhdCIsIl9jYWNoZVByb2R1Y3RVcGdyYWRlc0RPTSIsIl9iaW5kU3BlY2lmaWNFdmVudHMiLCJfaW5pdGlhbGl6ZVNlbGVjdDIiLCJfaW5oZXJpdHMiLCJfY3JlYXRlQ2xhc3MiLCJrZXkiLCJ2YWx1ZSIsInNldHRpbmdzIiwic2VsZWN0b3JzIiwicHVTZWxlY3RvcnMiLCJkb20iLCJiYXNlQ2F0ZWdvcmllcyIsIiRjb250YWluZXIiLCJmaW5kIiwidXBncmFkZUNhdGVnb3JpZXMiLCJ1cGdyYWRlVGl0bGUiLCJ1cGdyYWRlRGVzY3JpcHRpb24iLCJsb2dnZXIiLCJ3YXJuIiwiZm9ybSIsImxlbmd0aCIsImluaXRpYWxpemVTZWxlY3QyRHJvcGRvd25zIiwiZWxlbWVudHMiLCJlbGVtZW50IiwicGxhY2Vob2xkZXJLZXkiLCJmYWxsYmFja1RleHQiLCJuYW1lIiwiY2xlYXJJbml0aWFsIiwid2lkdGgiLCJtb2R1bGVOYW1lIiwib25NYWluVGFiQWN0aXZhdGVkIiwiX3N1cGVyUHJvcEdldCIsImhhc0NsYXNzIiwicmVmcmVzaFNlbGVjdDIiLCJyZXNldEZvcm0iLCJfdGhpcyRkb20kYmFzZUNhdGVnb3IiLCJfdGhpcyRkb20kdXBncmFkZUNhdGUiLCJfdGhpcyRkb20kdXBncmFkZVRpdGwiLCJfdGhpcyRkb20kdXBncmFkZURlc2MiLCJ2YWwiLCJ0cmlnZ2VyIiwicG9wdWxhdGVGb3JtV2l0aERhdGEiLCJpdGVtRGF0YSIsIl90aGlzMiIsImJhc2VfY2F0ZWdvcmllcyIsInVwZ3JhZGVfY2F0ZWdvcmllcyIsInRpdGxlIiwidXBncmFkZV90aXRsZSIsImRlc2NyaXB0aW9uIiwidXBncmFkZV9kZXNjcmlwdGlvbiIsInNldFRpbWVvdXQiLCJfdGhpczIkZG9tJGJhc2VDYXRlZ28iLCJfdGhpczIkZG9tJHVwZ3JhZGVDYXQiLCJfdGhpczIkZG9tJHVwZ3JhZGVUaXQiLCJfdGhpczIkZG9tJHVwZ3JhZGVEZXMiLCJmb3JtTW9kaWZpZWQiLCJ2YWxpZGF0ZUZvcm0iLCJfdGhpcyRkb20kYmFzZUNhdGVnb3IyIiwiX3RoaXMkZG9tJHVwZ3JhZGVDYXRlMiIsIl90aGlzJGRvbSRiYXNlQ2F0ZWdvcjMiLCJfdGhpcyRkb20kdXBncmFkZUNhdGUzIiwiaXNWYWxpZCIsImkxOG4iLCJjbGVhckZpZWxkRXJyb3IiLCJuZXh0IiwiX3RoaXMkZG9tJGJhc2VDYXRlZ29yNCIsInNob3dGaWVsZEVycm9yIiwic2VsZWN0QmFzZUNhdGVnb3JpZXMiLCJfdGhpcyRkb20kdXBncmFkZUNhdGU0Iiwic2VsZWN0VXBncmFkZUNhdGVnb3JpZXMiLCJwb3B1bGF0ZUNvbHVtbl9iYXNlX2NhdGVnb3JpZXMiLCIkY2VsbCIsImRpc3BsYXlWYWx1ZSIsImJhc2VfY2F0ZWdvcmllc19kaXNwbGF5IiwiYmFzZV9jYXRlZ29yeV9uYW1lcyIsIkFycmF5IiwiaXNBcnJheSIsImpvaW4iLCJ0ZXh0IiwicG9wdWxhdGVDb2x1bW5fdXBncmFkZV9jYXRlZ29yaWVzIiwidXBncmFkZV9jYXRlZ29yaWVzX2Rpc3BsYXkiLCJ1cGdyYWRlX2NhdGVnb3J5X25hbWVzIiwialF1ZXJ5IiwicmVhZHkiLCJsb2NhbGl6ZWREYXRhT2JqZWN0TmFtZSIsIndpbmRvdyIsIlByb2R1Y3RVcGdyYWRlc1NldHRpbmdzTW9kdWxlSW5zdGFuY2UiLCJsb2ciLCJlcnJvciIsIlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlIiwic2hvd05vdGljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/admin/modules/ProductUpgradesSettingsModule.js\n");

/***/ }),

/***/ "./src/js/admin/modules/SimilarProductsSettingsModule.js":
/*!***************************************************************!*\
  !*** ./src/js/admin/modules/SimilarProductsSettingsModule.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/get */ \"./node_modules/@babel/runtime/helpers/esm/get.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @utils */ \"./src/js/utils/index.js\");\n/* harmony import */ var _common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/AdminTableManager */ \"./src/js/admin/common/AdminTableManager.js\");\n\n\n\n\n\n\nfunction _callSuper(t, o, e) { return o = (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(o), (0,_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _superPropGet(t, o, e, r) { var p = (0,_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4__[\"default\"])((0,_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\n/**\n * Similar Products Settings Module (Class-based)\n *\n * Handles functionality for the similar products settings tab in the admin area.\n */\n // Import utilities needed for this module\n\n // Adjust path as needed\nvar SimilarProductsSettingsModule = /*#__PURE__*/function (_AdminTableManager) {\n  /**\n   * Constructor for SimilarProductsSettingsModule\n   */\n  function SimilarProductsSettingsModule() {\n    var _this;\n    (0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, SimilarProductsSettingsModule);\n    var config = {\n      mainTabId: 'similar_products',\n      localizedDataName: 'similarProductsSettings'\n      // AdminTableManager passes this to VerticalTabbedModule,\n      // which passes relevant parts to ProductEstimatorSettings.\n    };\n    _this = _callSuper(this, SimilarProductsSettingsModule, [config]); // Calls AdminTableManager constructor\n\n    _this.$(document).on(\"admin_table_manager_ready_\".concat(_this.config.mainTabId), function () {\n      // POTENTIAL ERROR HERE\n      _this._cacheSimilarProductsDOM();\n      _this._bindSpecificEvents();\n      _this._initializeSelect2();\n    });\n    return _this;\n  }\n\n  /**\n   * Cache DOM elements specific to Similar Products, beyond what AdminTableManager caches.\n   * This is called after AdminTableManager's cacheDOM.\n   * @private\n   */\n  (0,_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(SimilarProductsSettingsModule, _AdminTableManager);\n  return (0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(SimilarProductsSettingsModule, [{\n    key: \"_cacheSimilarProductsDOM\",\n    value: function _cacheSimilarProductsDOM() {\n      // this.dom is initialized by AdminTableManager. Add Similar Products specific elements.\n      if (this.settings && this.settings.selectors) {\n        // this.settings is from ProductEstimatorSettings base\n        var selectors = this.settings.selectors;\n        this.dom.sourceCategoriesSelect = this.$container.find(selectors.sourceCategoriesSelect);\n        this.dom.attributesContainer = this.$container.find(selectors.attributesContainer);\n        this.dom.attributesList = this.$container.find(selectors.attributesList);\n        this.dom.attributesLoading = this.$container.find(selectors.attributesLoading);\n        this.dom.selectedAttributesInput = this.$container.find(selectors.selectedAttributesInput);\n      } else {\n        (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('SimilarProductsModule').warn('SimilarProductsSettingsModule: settings or selectors not available for DOM caching');\n      }\n    }\n\n    /**\n     * Bind core event handlers\n     */\n  }, {\n    key: \"_bindSpecificEvents\",\n    value: function _bindSpecificEvents() {\n      var _this$dom$sourceCateg;\n      if (!this.dom.form || !this.dom.form.length) {\n        return;\n      }\n      (_this$dom$sourceCateg = this.dom.sourceCategoriesSelect) === null || _this$dom$sourceCateg === void 0 || _this$dom$sourceCateg.on('change.SimilarProducts', this._handleSourceCategoriesChange.bind(this));\n    }\n\n    /**\n     * Initialize Select2 components.\n     * This is called after the `admin_table_manager_ready` event.\n     * Using the base class Select2 initialization methods.\n     * @private\n     */\n  }, {\n    key: \"_initializeSelect2\",\n    value: function _initializeSelect2() {\n      // Use the base class initializeSelect2Dropdowns method with our specific configuration\n      this.initializeSelect2Dropdowns({\n        elements: [{\n          element: this.dom.sourceCategoriesSelect,\n          placeholderKey: 'selectCategoryError',\n          fallbackText: 'Select source categories',\n          name: 'source categories',\n          config: {\n            clearInitial: true\n          }\n        }],\n        // Settings and i18n are automatically provided by the base method\n        moduleName: 'Similar Products'\n      });\n    }\n\n    /**\n     * Overridden from VerticalTabbedModule. Called when the \"Product Additions\" main tab is activated.\n     */\n  }, {\n    key: \"onMainTabActivated\",\n    value: function onMainTabActivated() {\n      _superPropGet(SimilarProductsSettingsModule, \"onMainTabActivated\", this, 3)([]); // Call parent method\n      // Specific actions for Product Additions when its tab is shown.\n      // For example, if Select2 or other components need re-initialization or refresh when tab becomes visible.\n      // The `admin_table_manager_ready` event handles initial setup. This is for subsequent activations.\n      // If Select2 was initialized while hidden, it might need a refresh.\n      if (this.dom.sourceCategoriesSelect && this.dom.sourceCategoriesSelect.hasClass(\"select2-hidden-accessible\")) {\n        // this.dom.sourceCategorySelect.select2('destroy').select2({...}); // Full re-init\n        // Or just trigger a resize/redraw if that helps.\n      }\n      // The inherited VerticalTabbedModule.handleMainTabChanged calls setupVerticalTabs,\n      // which correctly handles the sub_tab in the URL. No manual sub_tab clearing needed here.\n    }\n  }, {\n    key: \"_handleSourceCategoriesChange\",\n    value: function _handleSourceCategoriesChange() {\n      var _this$dom$sourceCateg2;\n      var categoryIds = (_this$dom$sourceCateg2 = this.dom.sourceCategoriesSelect) === null || _this$dom$sourceCateg2 === void 0 ? void 0 : _this$dom$sourceCateg2.val();\n      if (categoryIds && categoryIds.length > 0) {\n        this._fetchAttributesForCategories(categoryIds);\n      } else {\n        this._updateAttributeSelectionField([], []);\n      }\n    }\n  }, {\n    key: \"_updateAttributeSelectionField\",\n    value: function _updateAttributeSelectionField(attributes) {\n      var selectedAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      // Clear previous content\n      this.dom.attributesList.empty();\n      if (!attributes || attributes.length === 0) {\n        // Show loading message if no attributes passed\n        this.dom.attributesLoading.show();\n        this.dom.attributesList.hide();\n        return;\n      }\n\n      // Hide loading, show attributes list\n      this.dom.attributesLoading.hide();\n      this.dom.attributesList.show();\n\n      // Convert selectedAttributes to array if needed\n      if (typeof selectedAttributes === 'string') {\n        selectedAttributes = selectedAttributes.split(',').filter(Boolean);\n      }\n\n      // Create checkbox for each attribute\n      var attributesHtml = attributes.map(function (attr) {\n        var isChecked = selectedAttributes.includes(attr.name) ? 'checked' : '';\n        return \"\\n        <div class=\\\"attribute-item\\\">\\n          <label>\\n            <input type=\\\"checkbox\\\"\\n                   name=\\\"attribute_checkbox[]\\\"\\n                   value=\\\"\".concat(attr.name, \"\\\"\\n                   data-label=\\\"\").concat(attr.label, \"\\\"\\n                   \").concat(isChecked, \">\\n            \").concat(attr.label, \"\\n          </label>\\n        </div>\");\n      }).join('');\n\n      // Add to the DOM and bind events\n      this.dom.attributesList.html(attributesHtml);\n\n      // Bind change event to update the hidden input\n      this.dom.attributesList.find('input[type=\"checkbox\"]').on('change', this._handleAttributeCheckboxChange.bind(this));\n\n      // Update hidden input with currently selected attributes\n      this._updateSelectedAttributesInput();\n    }\n  }, {\n    key: \"_fetchAttributesForCategories\",\n    value: function _fetchAttributesForCategories(categoryIds) {\n      var _this2 = this;\n      var selectedAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      if (!this.settings.actions || !this.settings.actions.get_attributes) {\n        return;\n      }\n\n      // Show loading indicator\n      this.dom.attributesLoading.text(this.settings.i18n.loadingAttributes || 'Loading attributes...');\n      this.dom.attributesLoading.show();\n      this.dom.attributesList.hide();\n\n      // Get currently selected attributes - either from parameter or from the input field\n      var currentlySelectedAttributes = selectedAttributes || this.dom.selectedAttributesInput.val().split(',').filter(Boolean);\n      _utils__WEBPACK_IMPORTED_MODULE_6__.ajax.ajaxRequest({\n        url: this.settings.ajaxUrl,\n        data: {\n          action: this.settings.actions.get_attributes,\n          nonce: this.settings.nonce,\n          category_ids: categoryIds\n        }\n      }).then(function (response) {\n        var attributesArray = null;\n\n        // Standardize response checking\n        if (response && response.success && response.data && Array.isArray(response.data.attributes)) {\n          attributesArray = response.data.attributes;\n        } else if (response && Array.isArray(response.attributes)) {\n          // Fallback for older direct array\n          attributesArray = response.attributes;\n        }\n        if (attributesArray) {\n          if (attributesArray.length > 0) {\n            _this2._updateAttributeSelectionField(attributesArray, currentlySelectedAttributes);\n          } else {\n            _this2.dom.attributesLoading.text(_this2.settings.i18n.noAttributes || 'No product attributes found for these categories.');\n            _this2.dom.attributesList.hide();\n          }\n        } else {\n          _this2.dom.attributesLoading.text(_this2.settings.i18n.errorLoading || 'Error loading attributes. Please try again.');\n          _this2.dom.attributesList.hide();\n        }\n      }).catch(function () {\n        _this2.dom.attributesLoading.text(_this2.settings.i18n.errorLoading || 'Error loading attributes. Please try again.');\n        _this2.dom.attributesList.hide();\n      });\n    }\n\n    /**\n     * Handle attribute checkbox change events\n     * @private\n     */\n  }, {\n    key: \"_handleAttributeCheckboxChange\",\n    value: function _handleAttributeCheckboxChange() {\n      this._updateSelectedAttributesInput();\n    }\n\n    /**\n     * Update the hidden input with selected attribute values\n     * @private\n     */\n  }, {\n    key: \"_updateSelectedAttributesInput\",\n    value: function _updateSelectedAttributesInput() {\n      var _this3 = this;\n      var selectedAttributes = [];\n      this.dom.attributesList.find('input[type=\"checkbox\"]:checked').each(function (i, checkbox) {\n        selectedAttributes.push(_this3.$(checkbox).val());\n      });\n      this.dom.selectedAttributesInput.val(selectedAttributes.join(','));\n    }\n\n    /**\n     * Override AdminTableManager.resetForm to include Similar Products specific fields.\n     */\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      var _this$dom$sourceCateg3;\n      _superPropGet(SimilarProductsSettingsModule, \"resetForm\", this, 3)([]); // Call base class method first\n\n      // Reset Similar Products specific fields\n      (_this$dom$sourceCateg3 = this.dom.sourceCategoriesSelect) === null || _this$dom$sourceCateg3 === void 0 || _this$dom$sourceCateg3.val(null).trigger('change.select2'); // Clear Select2\n      this.dom.attributesList.empty();\n      this.dom.attributesLoading.text(this.settings.i18n.selectCategory || 'Select categories to load available attributes...');\n      this.dom.attributesLoading.show();\n      this.dom.selectedAttributesInput.val('');\n    }\n\n    /**\n     * Override AdminTableManager.populateFormWithData for Similar Products specific fields.\n     * @param {object} itemData - The data for the similar product item to populate the form with\n     * @override\n     */\n  }, {\n    key: \"populateFormWithData\",\n    value: function populateFormWithData(itemData) {\n      var _this4 = this;\n      _superPropGet(SimilarProductsSettingsModule, \"populateFormWithData\", this, 3)([itemData]); // Sets item ID, calls base logic\n\n      var sourceCategories = itemData.source_categories || []; // Expecting array for multi-select\n      var attributes = Array.isArray(itemData.attributes) ? itemData.attributes : itemData.attributes ? itemData.attributes.split(',') : [];\n\n      // Set the hidden input value for selected attributes first\n      this.dom.selectedAttributesInput.val(attributes.join(','));\n\n      // Use setTimeout to allow dependent field visibility changes to complete\n      setTimeout(function () {\n        var _this4$dom$sourceCate;\n        // Set source categories and trigger change to load attributes\n        (_this4$dom$sourceCate = _this4.dom.sourceCategoriesSelect) === null || _this4$dom$sourceCate === void 0 || _this4$dom$sourceCate.val(sourceCategories).trigger('change.select2');\n\n        // If we have both categories and attributes selected, manually fetch the attributes\n        // This ensures attributes are loaded and selected when editing an existing item\n        if (sourceCategories.length > 0 && attributes.length > 0) {\n          _this4._fetchAttributesForCategories(sourceCategories, attributes);\n        }\n        _this4.formModified = false; // Reset modified flag after populating\n      }, 150); // Small delay\n    }\n\n    /**\n     * Override AdminTableManager.validateForm for Similar Products specific validation.\n     * @returns {boolean} True if the form passes validation, false otherwise\n     * @override\n     */\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      var _this$dom$sourceCateg4, _this$dom$sourceCateg5;\n      var isValid = _superPropGet(SimilarProductsSettingsModule, \"validateForm\", this, 3)([]); // Perform base validation first\n\n      // Get values\n      var sourceCategories = (_this$dom$sourceCateg4 = this.dom.sourceCategoriesSelect) === null || _this$dom$sourceCateg4 === void 0 ? void 0 : _this$dom$sourceCateg4.val(); // Returns array for multi-select\n      var selectedAttributes = this.dom.selectedAttributesInput.val();\n\n      // i18n messages from this.settings.i18n\n      var i18n = this.settings.i18n || {};\n\n      // Clear previous specific errors (showFieldError/clearFieldError are inherited)\n      this.clearFieldError((_this$dom$sourceCateg5 = this.dom.sourceCategoriesSelect) === null || _this$dom$sourceCateg5 === void 0 ? void 0 : _this$dom$sourceCateg5.next('.select2-container')); // Target Select2 container for error\n      this.clearFieldError(this.dom.attributesList); // Clear error on attributes list\n\n      if (!sourceCategories || sourceCategories.length === 0) {\n        var _this$dom$sourceCateg6;\n        this.showFieldError((_this$dom$sourceCateg6 = this.dom.sourceCategoriesSelect) === null || _this$dom$sourceCateg6 === void 0 ? void 0 : _this$dom$sourceCateg6.next('.select2-container'), i18n.selectCategoryError || 'Please select at least one source category.');\n        isValid = false;\n      }\n      if (!selectedAttributes) {\n        this.showFieldError(this.dom.attributesList, i18n.selectAttributesError || 'Please select at least one attribute.');\n        isValid = false;\n      }\n      return isValid;\n    }\n\n    /**\n     * Custom column population method for 'source_categories' column\n     * This method follows the naming convention for column handlers in AdminTableManager\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_source_categories\",\n    value: function populateColumn_source_categories($cell, itemData) {\n      $cell.text(itemData.source_categories_display || 'N/A');\n    }\n\n    /**\n     * Custom column population method for 'attributes' column\n     * @param {jQuery} $cell - The table cell element to populate\n     * @param {object} itemData - The data for the current row\n     */\n  }, {\n    key: \"populateColumn_attributes\",\n    value: function populateColumn_attributes($cell, itemData) {\n      $cell.text(itemData.attributes_display || 'None selected');\n    }\n  }]);\n}(_common_AdminTableManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"]); // Initialize the module when the DOM is ready and its main tab container exists.\njQuery(document).ready(function ($) {\n  var mainTabId = 'similar_products'; // Specific to this module\n  var localizedDataObjectName = 'similarProductsSettings'; // Global settings object name\n\n  if ($(\"#\".concat(mainTabId)).length) {\n    // Check if the global localized data for this module is available\n    if (window[localizedDataObjectName]) {\n      // Instantiate the module once\n      if (!window.SimilarProductsSettingsModuleInstance) {\n        try {\n          window.SimilarProductsSettingsModuleInstance = new SimilarProductsSettingsModule();\n          (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('SimilarProductsInit').log('SimilarProductsSettingsModuleInstance instance initiated.');\n        } catch (error) {\n          (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('SimilarProductsInit').error('Error instantiating SimilarProductsSettingsModuleInstance:', error);\n          // Use the global notice system if ProductEstimatorSettings is available\n          if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n            window.ProductEstimatorSettingsInstance.showNotice('Failed to initialize Similar Products settings. Check console for errors.', 'error');\n          }\n        }\n      }\n    } else {\n      (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('SimilarProductsInit').error(\"Localized data object \\\"\".concat(localizedDataObjectName, \"\\\" not found for tab: \").concat(mainTabId, \". Module cannot be initialized.\"));\n      if (window.ProductEstimatorSettingsInstance && typeof window.ProductEstimatorSettingsInstance.showNotice === 'function') {\n        window.ProductEstimatorSettingsInstance.showNotice(\"Configuration data for Similar Products (\\\"\".concat(localizedDataObjectName, \"\\\") is missing. Module disabled.\"), 'error');\n      }\n    }\n    // The module's inherited `handleMainTabChanged` (from VerticalTabbedModule)\n    // will manage activation/deactivation logic, including calling `onMainTabActivated`.\n    // No separate `product_estimator_tab_changed` listener is needed here for re-initialization\n    // or for clearing `sub_tab` from URL, as `VerticalTabbedModule.showVerticalTab` handles URL state.\n  } else {\n    (0,_utils__WEBPACK_IMPORTED_MODULE_6__.createLogger)('SimilarProductsInit').warn(\"Main container #\".concat(mainTabId, \" not found. SimilarProductsSettingsModule will not be initialized.\"));\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (SimilarProductsSettingsModule);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9TaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzRDLENBQUM7O0FBRWUsQ0FBQztBQUFBLElBRXZERyw2QkFBNkIsMEJBQUFDLGtCQUFBO0VBQ2pDO0FBQ0Y7QUFDQTtFQUNFLFNBQUFELDhCQUFBLEVBQWM7SUFBQSxJQUFBRSxLQUFBO0lBQUFDLGlGQUFBLE9BQUFILDZCQUFBO0lBQ1osSUFBTUksTUFBTSxHQUFHO01BQ2JDLFNBQVMsRUFBRSxrQkFBa0I7TUFDN0JDLGlCQUFpQixFQUFFO01BQ25CO01BQ0E7SUFDRixDQUFDO0lBRURKLEtBQUEsR0FBQUssVUFBQSxPQUFBUCw2QkFBQSxHQUFNSSxNQUFNLEdBQUUsQ0FBQzs7SUFFZkYsS0FBQSxDQUFLTSxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDQyxFQUFFLDhCQUFBQyxNQUFBLENBQThCVCxLQUFBLENBQUtFLE1BQU0sQ0FBQ0MsU0FBUyxHQUFJLFlBQU07TUFBRTtNQUNoRkgsS0FBQSxDQUFLVSx3QkFBd0IsQ0FBQyxDQUFDO01BQy9CVixLQUFBLENBQUtXLG1CQUFtQixDQUFDLENBQUM7TUFDMUJYLEtBQUEsQ0FBS1ksa0JBQWtCLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUM7SUFBQyxPQUFBWixLQUFBO0VBQ0w7O0VBRUE7QUFDRjtBQUNBO0FBQ0E7QUFDQTtFQUpFYSwyRUFBQSxDQUFBZiw2QkFBQSxFQUFBQyxrQkFBQTtFQUFBLE9BQUFlLDhFQUFBLENBQUFoQiw2QkFBQTtJQUFBaUIsR0FBQTtJQUFBQyxLQUFBLEVBS0EsU0FBQU4sd0JBQXdCQSxDQUFBLEVBQUc7TUFDekI7TUFDQSxJQUFJLElBQUksQ0FBQ08sUUFBUSxJQUFJLElBQUksQ0FBQ0EsUUFBUSxDQUFDQyxTQUFTLEVBQUU7UUFBRTtRQUM5QyxJQUFNQSxTQUFTLEdBQUcsSUFB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YWNrOi8vcHJvZHVjdC1lc3RpbWF0b3IvLi9zcmMvanMvYWRtaW4vbW9kdWxlcy9TaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZS5qcz9mMDkwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltaWxhciBQcm9kdWN0cyBTZXR0aW5ncyBNb2R1bGUgKENsYXNzLWJhc2VkKVxuICpcbiAqIEhhbmRsZXMgZnVuY3Rpb25hbGl0eSBmb3IgdGhlIHNpbWlsYXIgcHJvZHVjdHMgc2V0dGluZ3MgdGFiIGluIHRoZSBhZG1pbiBhcmVhLlxuICovXG5pbXBvcnQgeyBhamF4LCBjcmVhdGVMb2dnZXIgfSBmcm9tICdAdXRpbHMnOyAvLyBJbXBvcnQgdXRpbGl0aWVzIG5lZWRlZCBmb3IgdGhpcyBtb2R1bGVcblxuaW1wb3J0IEFkbWluVGFibGVNYW5hZ2VyIGZyb20gJy4uL2NvbW1vbi9BZG1pblRhYmxlTWFuYWdlcic7IC8vIEFkanVzdCBwYXRoIGFzIG5lZWRlZFxuXG5jbGFzcyBTaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZSBleHRlbmRzIEFkbWluVGFibGVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBTaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZVxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgbWFpblRhYklkOiAnc2ltaWxhcl9wcm9kdWN0cycsXG4gICAgICBsb2NhbGl6ZWREYXRhTmFtZTogJ3NpbWlsYXJQcm9kdWN0c1NldHRpbmdzJ1xuICAgICAgLy8gQWRtaW5UYWJsZU1hbmFnZXIgcGFzc2VzIHRoaXMgdG8gVmVydGljYWxUYWJiZWRNb2R1bGUsXG4gICAgICAvLyB3aGljaCBwYXNzZXMgcmVsZXZhbnQgcGFydHMgdG8gUHJvZHVjdEVzdGltYXRvclNldHRpbmdzLlxuICAgIH07XG5cbiAgICBzdXBlcihjb25maWcpOyAvLyBDYWxscyBBZG1pblRhYmxlTWFuYWdlciBjb25zdHJ1Y3RvclxuXG4gICAgdGhpcy4kKGRvY3VtZW50KS5vbihgYWRtaW5fdGFibGVfbWFuYWdlcl9yZWFkeV8ke3RoaXMuY29uZmlnLm1haW5UYWJJZH1gLCAoKSA9PiB7IC8vIFBPVEVOVElBTCBFUlJPUiBIRVJFXG4gICAgICB0aGlzLl9jYWNoZVNpbWlsYXJQcm9kdWN0c0RPTSgpO1xuICAgICAgdGhpcy5fYmluZFNwZWNpZmljRXZlbnRzKCk7XG4gICAgICB0aGlzLl9pbml0aWFsaXplU2VsZWN0MigpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENhY2hlIERPTSBlbGVtZW50cyBzcGVjaWZpYyB0byBTaW1pbGFyIFByb2R1Y3RzLCBiZXlvbmQgd2hhdCBBZG1pblRhYmxlTWFuYWdlciBjYWNoZXMuXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIEFkbWluVGFibGVNYW5hZ2VyJ3MgY2FjaGVET00uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY2FjaGVTaW1pbGFyUHJvZHVjdHNET00oKSB7XG4gICAgLy8gdGhpcy5kb20gaXMgaW5pdGlhbGl6ZWQgYnkgQWRtaW5UYWJsZU1hbmFnZXIuIEFkZCBTaW1pbGFyIFByb2R1Y3RzIHNwZWNpZmljIGVsZW1lbnRzLlxuICAgIGlmICh0aGlzLnNldHRpbmdzICYmIHRoaXMuc2V0dGluZ3Muc2VsZWN0b3JzKSB7IC8vIHRoaXMuc2V0dGluZ3MgaXMgZnJvbSBQcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3MgYmFzZVxuICAgICAgY29uc3Qgc2VsZWN0b3JzID0gdGhpcy5zZXR0aW5ncy5zZWxlY3RvcnM7XG4gICAgICB0aGlzLmRvbS5zb3VyY2VDYXRlZ29yaWVzU2VsZWN0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQoc2VsZWN0b3JzLnNvdXJjZUNhdGVnb3JpZXNTZWxlY3QpO1xuICAgICAgdGhpcy5kb20uYXR0cmlidXRlc0NvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lci5maW5kKHNlbGVjdG9ycy5hdHRyaWJ1dGVzQ29udGFpbmVyKTtcbiAgICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMaXN0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQoc2VsZWN0b3JzLmF0dHJpYnV0ZXNMaXN0KTtcbiAgICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMb2FkaW5nID0gdGhpcy4kY29udGFpbmVyLmZpbmQoc2VsZWN0b3JzLmF0dHJpYnV0ZXNMb2FkaW5nKTtcbiAgICAgIHRoaXMuZG9tLnNlbGVjdGVkQXR0cmlidXRlc0lucHV0ID0gdGhpcy4kY29udGFpbmVyLmZpbmQoc2VsZWN0b3JzLnNlbGVjdGVkQXR0cmlidXRlc0lucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlTG9nZ2VyKCdTaW1pbGFyUHJvZHVjdHNNb2R1bGUnKS53YXJuKCdTaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZTogc2V0dGluZ3Mgb3Igc2VsZWN0b3JzIG5vdCBhdmFpbGFibGUgZm9yIERPTSBjYWNoaW5nJyk7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogQmluZCBjb3JlIGV2ZW50IGhhbmRsZXJzXG4gICAqL1xuICBfYmluZFNwZWNpZmljRXZlbnRzKCkge1xuICAgIGlmICghdGhpcy5kb20uZm9ybSB8fCAhdGhpcy5kb20uZm9ybS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRvbS5zb3VyY2VDYXRlZ29yaWVzU2VsZWN0Py5vbignY2hhbmdlLlNpbWlsYXJQcm9kdWN0cycsIHRoaXMuX2hhbmRsZVNvdXJjZUNhdGVnb3JpZXNDaGFuZ2UuYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBTZWxlY3QyIGNvbXBvbmVudHMuXG4gICAqIFRoaXMgaXMgY2FsbGVkIGFmdGVyIHRoZSBgYWRtaW5fdGFibGVfbWFuYWdlcl9yZWFkeWAgZXZlbnQuXG4gICAqIFVzaW5nIHRoZSBiYXNlIGNsYXNzIFNlbGVjdDIgaW5pdGlhbGl6YXRpb24gbWV0aG9kcy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9pbml0aWFsaXplU2VsZWN0MigpIHtcbiAgICAvLyBVc2UgdGhlIGJhc2UgY2xhc3MgaW5pdGlhbGl6ZVNlbGVjdDJEcm9wZG93bnMgbWV0aG9kIHdpdGggb3VyIHNwZWNpZmljIGNvbmZpZ3VyYXRpb25cbiAgICB0aGlzLmluaXRpYWxpemVTZWxlY3QyRHJvcGRvd25zKHtcbiAgICAgIGVsZW1lbnRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBlbGVtZW50OiB0aGlzLmRvbS5zb3VyY2VDYXRlZ29yaWVzU2VsZWN0LFxuICAgICAgICAgIHBsYWNlaG9sZGVyS2V5OiAnc2VsZWN0Q2F0ZWdvcnlFcnJvcicsXG4gICAgICAgICAgZmFsbGJhY2tUZXh0OiAnU2VsZWN0IHNvdXJjZSBjYXRlZ29yaWVzJyxcbiAgICAgICAgICBuYW1lOiAnc291cmNlIGNhdGVnb3JpZXMnLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgY2xlYXJJbml0aWFsOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgLy8gU2V0dGluZ3MgYW5kIGkxOG4gYXJlIGF1dG9tYXRpY2FsbHkgcHJvdmlkZWQgYnkgdGhlIGJhc2UgbWV0aG9kXG4gICAgICBtb2R1bGVOYW1lOiAnU2ltaWxhciBQcm9kdWN0cydcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZGVuIGZyb20gVmVydGljYWxUYWJiZWRNb2R1bGUuIENhbGxlZCB3aGVuIHRoZSBcIlByb2R1Y3QgQWRkaXRpb25zXCIgbWFpbiB0YWIgaXMgYWN0aXZhdGVkLlxuICAgKi9cbiAgb25NYWluVGFiQWN0aXZhdGVkKCkge1xuICAgIHN1cGVyLm9uTWFpblRhYkFjdGl2YXRlZCgpOyAvLyBDYWxsIHBhcmVudCBtZXRob2RcbiAgICAvLyBTcGVjaWZpYyBhY3Rpb25zIGZvciBQcm9kdWN0IEFkZGl0aW9ucyB3aGVuIGl0cyB0YWIgaXMgc2hvd24uXG4gICAgLy8gRm9yIGV4YW1wbGUsIGlmIFNlbGVjdDIgb3Igb3RoZXIgY29tcG9uZW50cyBuZWVkIHJlLWluaXRpYWxpemF0aW9uIG9yIHJlZnJlc2ggd2hlbiB0YWIgYmVjb21lcyB2aXNpYmxlLlxuICAgIC8vIFRoZSBgYWRtaW5fdGFibGVfbWFuYWdlcl9yZWFkeWAgZXZlbnQgaGFuZGxlcyBpbml0aWFsIHNldHVwLiBUaGlzIGlzIGZvciBzdWJzZXF1ZW50IGFjdGl2YXRpb25zLlxuICAgIC8vIElmIFNlbGVjdDIgd2FzIGluaXRpYWxpemVkIHdoaWxlIGhpZGRlbiwgaXQgbWlnaHQgbmVlZCBhIHJlZnJlc2guXG4gICAgaWYgKHRoaXMuZG9tLnNvdXJjZUNhdGVnb3JpZXNTZWxlY3QgJiYgdGhpcy5kb20uc291cmNlQ2F0ZWdvcmllc1NlbGVjdC5oYXNDbGFzcyhcInNlbGVjdDItaGlkZGVuLWFjY2Vzc2libGVcIikpIHtcbiAgICAgIC8vIHRoaXMuZG9tLnNvdXJjZUNhdGVnb3J5U2VsZWN0LnNlbGVjdDIoJ2Rlc3Ryb3knKS5zZWxlY3QyKHsuLi59KTsgLy8gRnVsbCByZS1pbml0XG4gICAgICAvLyBPciBqdXN0IHRyaWdnZXIgYSByZXNpemUvcmVkcmF3IGlmIHRoYXQgaGVscHMuXG4gICAgfVxuICAgIC8vIFRoZSBpbmhlcml0ZWQgVmVydGljYWxUYWJiZWRNb2R1bGUuaGFuZGxlTWFpblRhYkNoYW5nZWQgY2FsbHMgc2V0dXBWZXJ0aWNhbFRhYnMsXG4gICAgLy8gd2hpY2ggY29ycmVjdGx5IGhhbmRsZXMgdGhlIHN1Yl90YWIgaW4gdGhlIFVSTC4gTm8gbWFudWFsIHN1Yl90YWIgY2xlYXJpbmcgbmVlZGVkIGhlcmUuXG4gIH1cblxuXG4gIF9oYW5kbGVTb3VyY2VDYXRlZ29yaWVzQ2hhbmdlKCkge1xuICAgIGNvbnN0IGNhdGVnb3J5SWRzID0gdGhpcy5kb20uc291cmNlQ2F0ZWdvcmllc1NlbGVjdD8udmFsKCk7XG5cbiAgICBpZiAoY2F0ZWdvcnlJZHMgJiYgY2F0ZWdvcnlJZHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5fZmV0Y2hBdHRyaWJ1dGVzRm9yQ2F0ZWdvcmllcyhjYXRlZ29yeUlkcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0ZVNlbGVjdGlvbkZpZWxkKFtdLCBbXSk7XG4gICAgfVxuICB9XG5cbiAgX3VwZGF0ZUF0dHJpYnV0ZVNlbGVjdGlvbkZpZWxkKGF0dHJpYnV0ZXMsIHNlbGVjdGVkQXR0cmlidXRlcyA9IFtdKSB7XG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgY29udGVudFxuICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMaXN0LmVtcHR5KCk7XG5cbiAgICBpZiAoIWF0dHJpYnV0ZXMgfHwgYXR0cmlidXRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIFNob3cgbG9hZGluZyBtZXNzYWdlIGlmIG5vIGF0dHJpYnV0ZXMgcGFzc2VkXG4gICAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTG9hZGluZy5zaG93KCk7XG4gICAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5oaWRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSGlkZSBsb2FkaW5nLCBzaG93IGF0dHJpYnV0ZXMgbGlzdFxuICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMb2FkaW5nLmhpZGUoKTtcbiAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5zaG93KCk7XG5cbiAgICAvLyBDb252ZXJ0IHNlbGVjdGVkQXR0cmlidXRlcyB0byBhcnJheSBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIHNlbGVjdGVkQXR0cmlidXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNlbGVjdGVkQXR0cmlidXRlcyA9IHNlbGVjdGVkQXR0cmlidXRlcy5zcGxpdCgnLCcpLmZpbHRlcihCb29sZWFuKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgY2hlY2tib3ggZm9yIGVhY2ggYXR0cmlidXRlXG4gICAgY29uc3QgYXR0cmlidXRlc0h0bWwgPSBhdHRyaWJ1dGVzLm1hcChhdHRyID0+IHtcbiAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IHNlbGVjdGVkQXR0cmlidXRlcy5pbmNsdWRlcyhhdHRyLm5hbWUpID8gJ2NoZWNrZWQnIDogJyc7XG4gICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYXR0cmlidXRlLWl0ZW1cIj5cbiAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICBuYW1lPVwiYXR0cmlidXRlX2NoZWNrYm94W11cIlxuICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHthdHRyLm5hbWV9XCJcbiAgICAgICAgICAgICAgICAgICBkYXRhLWxhYmVsPVwiJHthdHRyLmxhYmVsfVwiXG4gICAgICAgICAgICAgICAgICAgJHtpc0NoZWNrZWR9PlxuICAgICAgICAgICAgJHthdHRyLmxhYmVsfVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgfSkuam9pbignJyk7XG5cbiAgICAvLyBBZGQgdG8gdGhlIERPTSBhbmQgYmluZCBldmVudHNcbiAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5odG1sKGF0dHJpYnV0ZXNIdG1sKTtcblxuICAgIC8vIEJpbmQgY2hhbmdlIGV2ZW50IHRvIHVwZGF0ZSB0aGUgaGlkZGVuIGlucHV0XG4gICAgdGhpcy5kb20uYXR0cmlidXRlc0xpc3QuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykub24oJ2NoYW5nZScsIHRoaXMuX2hhbmRsZUF0dHJpYnV0ZUNoZWNrYm94Q2hhbmdlLmJpbmQodGhpcykpO1xuXG4gICAgLy8gVXBkYXRlIGhpZGRlbiBpbnB1dCB3aXRoIGN1cnJlbnRseSBzZWxlY3RlZCBhdHRyaWJ1dGVzXG4gICAgdGhpcy5fdXBkYXRlU2VsZWN0ZWRBdHRyaWJ1dGVzSW5wdXQoKTtcbiAgfVxuXG4gIF9mZXRjaEF0dHJpYnV0ZXNGb3JDYXRlZ29yaWVzKGNhdGVnb3J5SWRzLCBzZWxlY3RlZEF0dHJpYnV0ZXMgPSBudWxsKSB7XG5cbiAgICBpZiAoIXRoaXMuc2V0dGluZ3MuYWN0aW9ucyB8fCAhdGhpcy5zZXR0aW5ncy5hY3Rpb25zLmdldF9hdHRyaWJ1dGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2hvdyBsb2FkaW5nIGluZGljYXRvclxuICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMb2FkaW5nLnRleHQodGhpcy5zZXR0aW5ncy5pMThuLmxvYWRpbmdBdHRyaWJ1dGVzIHx8ICdMb2FkaW5nIGF0dHJpYnV0ZXMuLi4nKTtcbiAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTG9hZGluZy5zaG93KCk7XG4gICAgdGhpcy5kb20uYXR0cmlidXRlc0xpc3QuaGlkZSgpO1xuXG4gICAgLy8gR2V0IGN1cnJlbnRseSBzZWxlY3RlZCBhdHRyaWJ1dGVzIC0gZWl0aGVyIGZyb20gcGFyYW1ldGVyIG9yIGZyb20gdGhlIGlucHV0IGZpZWxkXG4gICAgY29uc3QgY3VycmVudGx5U2VsZWN0ZWRBdHRyaWJ1dGVzID0gc2VsZWN0ZWRBdHRyaWJ1dGVzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbS5zZWxlY3RlZEF0dHJpYnV0ZXNJbnB1dC52YWwoKS5zcGxpdCgnLCcpLmZpbHRlcihCb29sZWFuKTtcblxuXG4gICAgYWpheC5hamF4UmVxdWVzdCh7XG4gICAgICB1cmw6IHRoaXMuc2V0dGluZ3MuYWpheFVybCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aW9uOiB0aGlzLnNldHRpbmdzLmFjdGlvbnMuZ2V0X2F0dHJpYnV0ZXMsXG4gICAgICAgIG5vbmNlOiB0aGlzLnNldHRpbmdzLm5vbmNlLFxuICAgICAgICBjYXRlZ29yeV9pZHM6IGNhdGVnb3J5SWRzLFxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgbGV0IGF0dHJpYnV0ZXNBcnJheSA9IG51bGw7XG5cbiAgICAgIC8vIFN0YW5kYXJkaXplIHJlc3BvbnNlIGNoZWNraW5nXG4gICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2UuZGF0YS5hdHRyaWJ1dGVzKSkge1xuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkgPSByZXNwb25zZS5kYXRhLmF0dHJpYnV0ZXM7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlICYmIEFycmF5LmlzQXJyYXkocmVzcG9uc2UuYXR0cmlidXRlcykpIHsgLy8gRmFsbGJhY2sgZm9yIG9sZGVyIGRpcmVjdCBhcnJheVxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkgPSByZXNwb25zZS5hdHRyaWJ1dGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cmlidXRlc0FycmF5KSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUF0dHJpYnV0ZVNlbGVjdGlvbkZpZWxkKGF0dHJpYnV0ZXNBcnJheSwgY3VycmVudGx5U2VsZWN0ZWRBdHRyaWJ1dGVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTG9hZGluZy50ZXh0KHRoaXMuc2V0dGluZ3MuaTE4bi5ub0F0dHJpYnV0ZXMgfHwgJ05vIHByb2R1Y3QgYXR0cmlidXRlcyBmb3VuZCBmb3IgdGhlc2UgY2F0ZWdvcmllcy4nKTtcbiAgICAgICAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMb2FkaW5nLnRleHQodGhpcy5zZXR0aW5ncy5pMThuLmVycm9yTG9hZGluZyB8fCAnRXJyb3IgbG9hZGluZyBhdHRyaWJ1dGVzLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuICAgICAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5oaWRlKCk7XG4gICAgICB9XG4gICAgfSlcbiAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgdGhpcy5kb20uYXR0cmlidXRlc0xvYWRpbmcudGV4dCh0aGlzLnNldHRpbmdzLmkxOG4uZXJyb3JMb2FkaW5nIHx8ICdFcnJvciBsb2FkaW5nIGF0dHJpYnV0ZXMuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5oaWRlKCk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYXR0cmlidXRlIGNoZWNrYm94IGNoYW5nZSBldmVudHNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVBdHRyaWJ1dGVDaGVja2JveENoYW5nZSgpIHtcbiAgICB0aGlzLl91cGRhdGVTZWxlY3RlZEF0dHJpYnV0ZXNJbnB1dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgaGlkZGVuIGlucHV0IHdpdGggc2VsZWN0ZWQgYXR0cmlidXRlIHZhbHVlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZVNlbGVjdGVkQXR0cmlidXRlc0lucHV0KCkge1xuICAgIGNvbnN0IHNlbGVjdGVkQXR0cmlidXRlcyA9IFtdO1xuXG4gICAgdGhpcy5kb20uYXR0cmlidXRlc0xpc3QuZmluZCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdOmNoZWNrZWQnKS5lYWNoKChpLCBjaGVja2JveCkgPT4ge1xuICAgICAgc2VsZWN0ZWRBdHRyaWJ1dGVzLnB1c2godGhpcy4kKGNoZWNrYm94KS52YWwoKSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmRvbS5zZWxlY3RlZEF0dHJpYnV0ZXNJbnB1dC52YWwoc2VsZWN0ZWRBdHRyaWJ1dGVzLmpvaW4oJywnKSk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgQWRtaW5UYWJsZU1hbmFnZXIucmVzZXRGb3JtIHRvIGluY2x1ZGUgU2ltaWxhciBQcm9kdWN0cyBzcGVjaWZpYyBmaWVsZHMuXG4gICAqL1xuICByZXNldEZvcm0oKSB7XG4gICAgc3VwZXIucmVzZXRGb3JtKCk7IC8vIENhbGwgYmFzZSBjbGFzcyBtZXRob2QgZmlyc3RcblxuICAgIC8vIFJlc2V0IFNpbWlsYXIgUHJvZHVjdHMgc3BlY2lmaWMgZmllbGRzXG4gICAgdGhpcy5kb20uc291cmNlQ2F0ZWdvcmllc1NlbGVjdD8udmFsKG51bGwpLnRyaWdnZXIoJ2NoYW5nZS5zZWxlY3QyJyk7IC8vIENsZWFyIFNlbGVjdDJcbiAgICB0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdC5lbXB0eSgpO1xuICAgIHRoaXMuZG9tLmF0dHJpYnV0ZXNMb2FkaW5nLnRleHQodGhpcy5zZXR0aW5ncy5pMThuLnNlbGVjdENhdGVnb3J5IHx8ICdTZWxlY3QgY2F0ZWdvcmllcyB0byBsb2FkIGF2YWlsYWJsZSBhdHRyaWJ1dGVzLi4uJyk7XG4gICAgdGhpcy5kb20uYXR0cmlidXRlc0xvYWRpbmcuc2hvdygpO1xuICAgIHRoaXMuZG9tLnNlbGVjdGVkQXR0cmlidXRlc0lucHV0LnZhbCgnJyk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBBZG1pblRhYmxlTWFuYWdlci5wb3B1bGF0ZUZvcm1XaXRoRGF0YSBmb3IgU2ltaWxhciBQcm9kdWN0cyBzcGVjaWZpYyBmaWVsZHMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtRGF0YSAtIFRoZSBkYXRhIGZvciB0aGUgc2ltaWxhciBwcm9kdWN0IGl0ZW0gdG8gcG9wdWxhdGUgdGhlIGZvcm0gd2l0aFxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcHVsYXRlRm9ybVdpdGhEYXRhKGl0ZW1EYXRhKSB7XG4gICAgc3VwZXIucG9wdWxhdGVGb3JtV2l0aERhdGEoaXRlbURhdGEpOyAvLyBTZXRzIGl0ZW0gSUQsIGNhbGxzIGJhc2UgbG9naWNcblxuICAgIGNvbnN0IHNvdXJjZUNhdGVnb3JpZXMgPSBpdGVtRGF0YS5zb3VyY2VfY2F0ZWdvcmllcyB8fCBbXTsgLy8gRXhwZWN0aW5nIGFycmF5IGZvciBtdWx0aS1zZWxlY3RcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gQXJyYXkuaXNBcnJheShpdGVtRGF0YS5hdHRyaWJ1dGVzKSA/IGl0ZW1EYXRhLmF0dHJpYnV0ZXMgOlxuICAgICAgICAgICAgICAgICAgICAgIChpdGVtRGF0YS5hdHRyaWJ1dGVzID8gaXRlbURhdGEuYXR0cmlidXRlcy5zcGxpdCgnLCcpIDogW10pO1xuXG4gICAgLy8gU2V0IHRoZSBoaWRkZW4gaW5wdXQgdmFsdWUgZm9yIHNlbGVjdGVkIGF0dHJpYnV0ZXMgZmlyc3RcbiAgICB0aGlzLmRvbS5zZWxlY3RlZEF0dHJpYnV0ZXNJbnB1dC52YWwoYXR0cmlidXRlcy5qb2luKCcsJykpO1xuXG4gICAgLy8gVXNlIHNldFRpbWVvdXQgdG8gYWxsb3cgZGVwZW5kZW50IGZpZWxkIHZpc2liaWxpdHkgY2hhbmdlcyB0byBjb21wbGV0ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gU2V0IHNvdXJjZSBjYXRlZ29yaWVzIGFuZCB0cmlnZ2VyIGNoYW5nZSB0byBsb2FkIGF0dHJpYnV0ZXNcbiAgICAgIHRoaXMuZG9tLnNvdXJjZUNhdGVnb3JpZXNTZWxlY3Q/LnZhbChzb3VyY2VDYXRlZ29yaWVzKS50cmlnZ2VyKCdjaGFuZ2Uuc2VsZWN0MicpO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIGJvdGggY2F0ZWdvcmllcyBhbmQgYXR0cmlidXRlcyBzZWxlY3RlZCwgbWFudWFsbHkgZmV0Y2ggdGhlIGF0dHJpYnV0ZXNcbiAgICAgIC8vIFRoaXMgZW5zdXJlcyBhdHRyaWJ1dGVzIGFyZSBsb2FkZWQgYW5kIHNlbGVjdGVkIHdoZW4gZWRpdGluZyBhbiBleGlzdGluZyBpdGVtXG4gICAgICBpZiAoc291cmNlQ2F0ZWdvcmllcy5sZW5ndGggPiAwICYmIGF0dHJpYnV0ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl9mZXRjaEF0dHJpYnV0ZXNGb3JDYXRlZ29yaWVzKHNvdXJjZUNhdGVnb3JpZXMsIGF0dHJpYnV0ZXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmZvcm1Nb2RpZmllZCA9IGZhbHNlOyAvLyBSZXNldCBtb2RpZmllZCBmbGFnIGFmdGVyIHBvcHVsYXRpbmdcbiAgICB9LCAxNTApOyAvLyBTbWFsbCBkZWxheVxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIEFkbWluVGFibGVNYW5hZ2VyLnZhbGlkYXRlRm9ybSBmb3IgU2ltaWxhciBQcm9kdWN0cyBzcGVjaWZpYyB2YWxpZGF0aW9uLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZm9ybSBwYXNzZXMgdmFsaWRhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVGb3JtKCkge1xuICAgIGxldCBpc1ZhbGlkID0gc3VwZXIudmFsaWRhdGVGb3JtKCk7IC8vIFBlcmZvcm0gYmFzZSB2YWxpZGF0aW9uIGZpcnN0XG5cbiAgICAvLyBHZXQgdmFsdWVzXG4gICAgY29uc3Qgc291cmNlQ2F0ZWdvcmllcyA9IHRoaXMuZG9tLnNvdXJjZUNhdGVnb3JpZXNTZWxlY3Q/LnZhbCgpOyAvLyBSZXR1cm5zIGFycmF5IGZvciBtdWx0aS1zZWxlY3RcbiAgICBjb25zdCBzZWxlY3RlZEF0dHJpYnV0ZXMgPSB0aGlzLmRvbS5zZWxlY3RlZEF0dHJpYnV0ZXNJbnB1dC52YWwoKTtcblxuICAgIC8vIGkxOG4gbWVzc2FnZXMgZnJvbSB0aGlzLnNldHRpbmdzLmkxOG5cbiAgICBjb25zdCBpMThuID0gdGhpcy5zZXR0aW5ncy5pMThuIHx8IHt9O1xuXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgc3BlY2lmaWMgZXJyb3JzIChzaG93RmllbGRFcnJvci9jbGVhckZpZWxkRXJyb3IgYXJlIGluaGVyaXRlZClcbiAgICB0aGlzLmNsZWFyRmllbGRFcnJvcih0aGlzLmRvbS5zb3VyY2VDYXRlZ29yaWVzU2VsZWN0Py5uZXh0KCcuc2VsZWN0Mi1jb250YWluZXInKSk7IC8vIFRhcmdldCBTZWxlY3QyIGNvbnRhaW5lciBmb3IgZXJyb3JcbiAgICB0aGlzLmNsZWFyRmllbGRFcnJvcih0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdCk7IC8vIENsZWFyIGVycm9yIG9uIGF0dHJpYnV0ZXMgbGlzdFxuXG4gICAgaWYgKCFzb3VyY2VDYXRlZ29yaWVzIHx8IHNvdXJjZUNhdGVnb3JpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLnNob3dGaWVsZEVycm9yKHRoaXMuZG9tLnNvdXJjZUNhdGVnb3JpZXNTZWxlY3Q/Lm5leHQoJy5zZWxlY3QyLWNvbnRhaW5lcicpLCBpMThuLnNlbGVjdENhdGVnb3J5RXJyb3IgfHwgJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHNvdXJjZSBjYXRlZ29yeS4nKTtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXNlbGVjdGVkQXR0cmlidXRlcykge1xuICAgICAgdGhpcy5zaG93RmllbGRFcnJvcih0aGlzLmRvbS5hdHRyaWJ1dGVzTGlzdCwgaTE4bi5zZWxlY3RBdHRyaWJ1dGVzRXJyb3IgfHwgJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIGF0dHJpYnV0ZS4nKTtcbiAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNWYWxpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXN0b20gY29sdW1uIHBvcHVsYXRpb24gbWV0aG9kIGZvciAnc291cmNlX2NhdGVnb3JpZXMnIGNvbHVtblxuICAgKiBUaGlzIG1ldGhvZCBmb2xsb3dzIHRoZSBuYW1pbmcgY29udmVudGlvbiBmb3IgY29sdW1uIGhhbmRsZXJzIGluIEFkbWluVGFibGVNYW5hZ2VyXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkY2VsbCAtIFRoZSB0YWJsZSBjZWxsIGVsZW1lbnQgdG8gcG9wdWxhdGVcbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1EYXRhIC0gVGhlIGRhdGEgZm9yIHRoZSBjdXJyZW50IHJvd1xuICAgKi9cbiAgcG9wdWxhdGVDb2x1bW5fc291cmNlX2NhdGVnb3JpZXMoJGNlbGwsIGl0ZW1EYXRhKSB7XG4gICAgJGNlbGwudGV4dChpdGVtRGF0YS5zb3VyY2VfY2F0ZWdvcmllc19kaXNwbGF5IHx8ICdOL0EnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXN0b20gY29sdW1uIHBvcHVsYXRpb24gbWV0aG9kIGZvciAnYXR0cmlidXRlcycgY29sdW1uXG4gICAqIEBwYXJhbSB7alF1ZXJ5fSAkY2VsbCAtIFRoZSB0YWJsZSBjZWxsIGVsZW1lbnQgdG8gcG9wdWxhdGVcbiAgICogQHBhcmFtIHtvYmplY3R9IGl0ZW1EYXRhIC0gVGhlIGRhdGEgZm9yIHRoZSBjdXJyZW50IHJvd1xuICAgKi9cbiAgcG9wdWxhdGVDb2x1bW5fYXR0cmlidXRlcygkY2VsbCwgaXRlbURhdGEpIHtcbiAgICAkY2VsbC50ZXh0KGl0ZW1EYXRhLmF0dHJpYnV0ZXNfZGlzcGxheSB8fCAnTm9uZSBzZWxlY3RlZCcpO1xuICB9XG59XG5cbi8vIEluaXRpYWxpemUgdGhlIG1vZHVsZSB3aGVuIHRoZSBET00gaXMgcmVhZHkgYW5kIGl0cyBtYWluIHRhYiBjb250YWluZXIgZXhpc3RzLlxuICBqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgkKSB7XG4gICAgY29uc3QgbWFpblRhYklkID0gJ3NpbWlsYXJfcHJvZHVjdHMnOyAvLyBTcGVjaWZpYyB0byB0aGlzIG1vZHVsZVxuICAgIGNvbnN0IGxvY2FsaXplZERhdGFPYmplY3ROYW1lID0gJ3NpbWlsYXJQcm9kdWN0c1NldHRpbmdzJzsgLy8gR2xvYmFsIHNldHRpbmdzIG9iamVjdCBuYW1lXG5cbiAgICBpZiAoJChgIyR7bWFpblRhYklkfWApLmxlbmd0aCkge1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGUgZ2xvYmFsIGxvY2FsaXplZCBkYXRhIGZvciB0aGlzIG1vZHVsZSBpcyBhdmFpbGFibGVcbiAgICAgIGlmICh3aW5kb3dbbG9jYWxpemVkRGF0YU9iamVjdE5hbWVdKSB7XG4gICAgICAgIC8vIEluc3RhbnRpYXRlIHRoZSBtb2R1bGUgb25jZVxuICAgICAgICBpZiAoIXdpbmRvdy5TaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZUluc3RhbmNlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdpbmRvdy5TaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZUluc3RhbmNlID0gbmV3IFNpbWlsYXJQcm9kdWN0c1NldHRpbmdzTW9kdWxlKCk7XG4gICAgICAgICAgICBjcmVhdGVMb2dnZXIoJ1NpbWlsYXJQcm9kdWN0c0luaXQnKS5sb2coJ1NpbWlsYXJQcm9kdWN0c1NldHRpbmdzTW9kdWxlSW5zdGFuY2UgaW5zdGFuY2UgaW5pdGlhdGVkLicpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjcmVhdGVMb2dnZXIoJ1NpbWlsYXJQcm9kdWN0c0luaXQnKS5lcnJvcignRXJyb3IgaW5zdGFudGlhdGluZyBTaW1pbGFyUHJvZHVjdHNTZXR0aW5nc01vZHVsZUluc3RhbmNlOicsIGVycm9yKTtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgZ2xvYmFsIG5vdGljZSBzeXN0ZW0gaWYgUHJvZHVjdEVzdGltYXRvclNldHRpbmdzIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZSAmJiB0eXBlb2Ygd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFNpbWlsYXIgUHJvZHVjdHMgc2V0dGluZ3MuIENoZWNrIGNvbnNvbGUgZm9yIGVycm9ycy4nLCAnZXJyb3InKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyZWF0ZUxvZ2dlcignU2ltaWxhclByb2R1Y3RzSW5pdCcpLmVycm9yKGBMb2NhbGl6ZWQgZGF0YSBvYmplY3QgXCIke2xvY2FsaXplZERhdGFPYmplY3ROYW1lfVwiIG5vdCBmb3VuZCBmb3IgdGFiOiAke21haW5UYWJJZH0uIE1vZHVsZSBjYW5ub3QgYmUgaW5pdGlhbGl6ZWQuYCk7XG4gICAgICAgIGlmICh3aW5kb3cuUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2UgJiYgdHlwZW9mIHdpbmRvdy5Qcm9kdWN0RXN0aW1hdG9yU2V0dGluZ3NJbnN0YW5jZS5zaG93Tm90aWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgd2luZG93LlByb2R1Y3RFc3RpbWF0b3JTZXR0aW5nc0luc3RhbmNlLnNob3dOb3RpY2UoYENvbmZpZ3VyYXRpb24gZGF0YSBmb3IgU2ltaWxhciBQcm9kdWN0cyAoXCIke2xvY2FsaXplZERhdGFPYmplY3ROYW1lfVwiKSBpcyBtaXNzaW5nLiBNb2R1bGUgZGlzYWJsZWQuYCwgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFRoZSBtb2R1bGUncyBpbmhlcml0ZWQgYGhhbmRsZU1haW5UYWJDaGFuZ2VkYCAoZnJvbSBWZXJ0aWNhbFRhYmJlZE1vZHVsZSlcbiAgICAgIC8vIHdpbGwgbWFuYWdlIGFjdGl2YXRpb24vZGVhY3RpdmF0aW9uIGxvZ2ljLCBpbmNsdWRpbmcgY2FsbGluZyBgb25NYWluVGFiQWN0aXZhdGVkYC5cbiAgICAgIC8vIE5vIHNlcGFyYXRlIGBwcm9kdWN0X2VzdGltYXRvcl90YWJfY2hhbmdlZGAgbGlzdGVuZXIgaXMgbmVlZGVkIGhlcmUgZm9yIHJlLWluaXRpYWxpemF0aW9uXG4gICAgICAvLyBvciBmb3IgY2xlYXJpbmcgYHN1Yl90YWJgIGZyb20gVVJMLCBhcyBgVmVydGljYWxUYWJiZWRNb2R1bGUuc2hvd1ZlcnRpY2FsVGFiYCBoYW5kbGVzIFVSTCBzdGF0ZS5cbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlTG9nZ2VyKCdTaW1pbGFyUHJvZHVjdHNJbml0Jykud2FybihgTWFpbiBjb250YWluZXIgIyR7bWFpblRhYklkfSBub3QgZm91bmQuIFNpbWlsYXJQcm9kdWN0c1NldHRpbmdzTW9kdWxlIHdpbGwgbm90IGJlIGluaXRpYWxpemVkLmApO1xuICAgIH1cbiAgfSk7XG5cbiAgZXhwb3J0IGRlZmF1bHQgU2ltaWxhclByb2R1Y3RzU2V0dGluZ3NNb2R1bGU7XG4iXSwibmFtZXMiOlsiYWpheCIsImNyZWF0ZUxvZ2dlciIsIkFkbWluVGFibGVNYW5hZ2VyIiwiU2ltaWxhclByb2R1Y3RzU2V0dGluZ3NNb2R1bGUiLCJfQWRtaW5UYWJsZU1hbmFnZXIiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsImNvbmZpZyIsIm1haW5UYWJJZCIsImxvY2FsaXplZERhdGFOYW1lIiwiX2NhbGxTdXBlciIsIiQiLCJkb2N1bWVudCIsIm9uIiwiY29uY2F0IiwiX2NhY2hlU2ltaWxhclByb2R1Y3RzRE9NIiwiX2JpbmRTcGVjaWZpY0V2ZW50cyIsIl9pbml0aWFsaXplU2VsZWN0MiIsIl9pbmhlcml0cyIsIl9jcmVhdGVDbGFzcyIsImtleSIsInZhbHVlIiwic2V0dGluZ3MiLCJzZWxlY3RvcnMiLCJkb20iLCJzb3VyY2VDYXRlZ29yaWVzU2VsZWN0IiwiJGNvbnRhaW5lciIsImZpbmQiLCJhdHRyaWJ1dGVzQ29udGFpbmVyIiwiYXR0cmlidXRlc0xpc3QiLCJhdHRyaWJ1dGVzTG9hZGluZyIsInNlbGVjdGVkQXR0cmlidXRlc0lucHV0Iiwid2FybiIsIl90aGlzJGRvbSRzb3VyY2VDYXRlZyIsImZvcm0iLCJsZW5ndGgiLCJfaGFuZGxlU291cmNlQ2F0ZWdvcmllc0NoYW5nZSIsImJpbmQiLCJpbml0aWFsaXplU2VsZWN0MkRyb3Bkb3ducyIsImVsZW1lbnRzIiwiZWxlbWVudCIsInBsYWNlaG9sZGVyS2V5IiwiZmFsbGJhY2tUZXh0IiwibmFtZSIsImNsZWFySW5pdGlhbCIsIm1vZHVsZU5hbWUiLCJvbk1haW5UYWJBY3RpdmF0ZWQiLCJfc3VwZXJQcm9wR2V0IiwiaGFzQ2xhc3MiLCJfdGhpcyRkb20kc291cmNlQ2F0ZWcyIiwiY2F0ZWdvcnlJZHMiLCJ2YWwiLCJfZmV0Y2hBdHRyaWJ1dGVzRm9yQ2F0ZWdvcmllcyIsIl91cGRhdGVBdHRyaWJ1dGVTZWxlY3Rpb25GaWVsZCIsImF0dHJpYnV0ZXMiLCJzZWxlY3RlZEF0dHJpYnV0ZXMiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJlbXB0eSIsInNob3ciLCJoaWRlIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiYXR0cmlidXRlc0h0bWwiLCJtYXAiLCJhdHRyIiwiaXNDaGVja2VkIiwiaW5jbHVkZXMiLCJsYWJlbCIsImpvaW4iLCJodG1sIiwiX2hhbmRsZUF0dHJpYnV0ZUNoZWNrYm94Q2hhbmdlIiwiX3VwZGF0ZVNlbGVjdGVkQXR0cmlidXRlc0lucHV0IiwiX3RoaXMyIiwiYWN0aW9ucyIsImdldF9hdHRyaWJ1dGVzIiwidGV4dCIsImkxOG4iLCJsb2FkaW5nQXR0cmlidXRlcyIsImN1cnJlbnRseVNlbGVjdGVkQXR0cmlidXRlcyIsImFqYXhSZXF1ZXN0IiwidXJsIiwiYWpheFVybCIsImRhdGEiLCJhY3Rpb24iLCJub25jZSIsImNhdGVnb3J5X2lkcyIsInRoZW4iLCJyZXNwb25zZSIsImF0dHJpYnV0ZXNBcnJheSIsInN1Y2Nlc3MiLCJBcnJheSIsImlzQXJyYXkiLCJub0F0dHJpYnV0ZXMiLCJlcnJvckxvYWRpbmciLCJjYXRjaCIsIl90aGlzMyIsImVhY2giLCJpIiwiY2hlY2tib3giLCJwdXNoIiwicmVzZXRGb3JtIiwiX3RoaXMkZG9tJHNvdXJjZUNhdGVnMyIsInRyaWdnZXIiLCJzZWxlY3RDYXRlZ29yeSIsInBvcHVsYXRlRm9ybVdpdGhEYXRhIiwiaXRlbURhdGEiLCJfdGhpczQiLCJzb3VyY2VDYXRlZ29yaWVzIiwic291cmNlX2NhdGVnb3JpZXMiLCJzZXRUaW1lb3V0IiwiX3RoaXM0JGRvbSRzb3VyY2VDYXRlIiwiZm9ybU1vZGlmaWVkIiwidmFsaWRhdGVGb3JtIiwiX3RoaXMkZG9tJHNvdXJjZUNhdGVnNCIsIl90aGlzJGRvbSRzb3VyY2VDYXRlZzUiLCJpc1ZhbGlkIiwiY2xlYXJGaWVsZEVycm9yIiwibmV4dCIsIl90aGlzJGRvbSRzb3VyY2VDYXRlZzYiLCJzaG93RmllbGRFcnJvciIsInNlbGVjdENhdGVnb3J5RXJyb3IiLCJzZWxlY3RBdHRyaWJ1dGVzRXJyb3IiLCJwb3B1bGF0ZUNvbHVtbl9zb3VyY2VfY2F0ZWdvcmllcyIsIiRjZWxsIiwic291cmNlX2NhdGVnb3JpZXNfZGlzcGxheSIsInBvcHVsYXRlQ29sdW1uX2F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzX2Rpc3BsYXkiLCJqUXVlcnkiLCJyZWFkeSIsImxvY2FsaXplZERhdGFPYmplY3ROYW1lIiwid2luZG93IiwiU2ltaWxhclByb2R1Y3RzU2V0dGluZ3NNb2R1bGVJbnN0YW5jZSIsImxvZyIsImVycm9yIiwiUHJvZHVjdEVzdGltYXRvclNldHRpbmdzSW5zdGFuY2UiLCJzaG93Tm90aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/admin/modules/SimilarProductsSettingsModule.js\n");

/***/ }),

/***/ "./src/js/utils/tinymce-preserver.js":
/*!*******************************************!*\
  !*** ./src/js/utils/tinymce-preserver.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupTinyMCEHTMLPreservation: function() { return /* binding */ setupTinyMCEHTMLPreservation; }\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"./src/js/utils/logger.js\");\n/**\n * Direct copy of the working setupWpEditors function as a utility\n */\n\n\nvar logger = (0,_logger__WEBPACK_IMPORTED_MODULE_0__.createLogger)('UtilsTinyMCEPreserver');\n/**\n * Set up TinyMCE HTML preservation to properly handle special tags like <br>\n * @param {string[]} editorIds - Array of TinyMCE editor IDs to configure\n * @param {string} containerSelector - CSS selector for the container with editors\n * @returns {void}\n */\nfunction setupTinyMCEHTMLPreservation(editorIds) {\n  var containerSelector = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'body';\n  var $ = jQuery;\n\n  // Check if we're in the right container\n  if ($(containerSelector).length === 0) {\n    return;\n  }\n  logger.log('Setting up rich text editors with <br> tag preservation');\n\n  // Store original HTML content to restore after mode switches\n  window._originalEditorContent = window._originalEditorContent || {};\n\n  // Function to prepare content for the Visual editor\n  // This specifically handles the <br> tag issue\n  var prepareForVisualEditor = function prepareForVisualEditor(content) {\n    // Ensure <br> tags are properly preserved by adding a marker\n    // TinyMCE often strips solo <br> tags, so we add a zero-width space after them\n    return content.replace(/<br\\s*\\/?>/gi, \"<br>\\u200B\");\n  };\n\n  // Function to clean up content when retrieving from the Visual editor\n  var cleanupFromVisualEditor = function cleanupFromVisualEditor(content) {\n    // Remove any zero-width spaces we added\n    return content.replace(/\\u200B/g, '');\n  };\n\n  // Function to properly initialize TinyMCE with br tag preservation\n  var initEditor = function initEditor(editorId) {\n    if (!tinyMCE || !tinyMCE.get(editorId)) {\n      return false;\n    }\n    var editor = tinyMCE.get(editorId);\n\n    // Configure editor for HTML preservation\n    editor.settings.wpautop = false;\n    editor.settings.forced_root_block = '';\n    editor.settings.valid_elements = '*[*]';\n    editor.settings.entity_encoding = 'raw';\n    editor.settings.verify_html = false;\n    editor.settings.br_in_pre = false;\n\n    // Additional BR specific settings\n    editor.settings.keep_styles = true;\n    editor.settings.remove_linebreaks = false;\n    editor.settings.convert_newlines_to_brs = true;\n    editor.settings.remove_redundant_brs = false;\n\n    // Get raw content from textarea\n    var $textarea = $(\"#\".concat(editorId));\n    if ($textarea.length) {\n      var rawContent = $textarea.val();\n      window._originalEditorContent[editorId] = rawContent;\n\n      // Set the content in editor with our <br> preservation function\n      setTimeout(function () {\n        var preparedContent = prepareForVisualEditor(rawContent);\n        editor.setContent(preparedContent, {\n          format: 'raw'\n        });\n      }, 100);\n    }\n\n    // Add event listeners for content filtering\n\n    // Process content before it's set in the editor\n    editor.on('BeforeSetContent', function (e) {\n      if (e.content) {\n        // Process the content to preserve <br> tags\n        e.content = prepareForVisualEditor(e.content);\n      }\n\n      // Store original content if this is initial load or switching from text mode\n      if (e.initial || e.source_view) {\n        window._originalEditorContent[editorId] = e.content;\n      }\n    });\n\n    // Process content when it's retrieved from the editor\n    editor.on('GetContent', function (e) {\n      if (e.content) {\n        // Clean up our marker characters\n        e.content = cleanupFromVisualEditor(e.content);\n      }\n    });\n\n    // Capture raw content when editor is initialized\n    editor.on('init', function () {\n      var content = editor.getContent({\n        format: 'raw'\n      });\n      window._originalEditorContent[editorId] = cleanupFromVisualEditor(content);\n      logger.log(\"Editor \".concat(editorId, \" initialized with content length: \").concat(content.length));\n    });\n\n    // Prevent content loss when switching modes\n    var $tabButtons = $(\".wp-editor-tabs button[data-wp-editor-id=\\\"\".concat(editorId, \"\\\"]\"));\n    $tabButtons.on('click', function () {\n      var isTextMode = $(this).hasClass('switch-html');\n      var isVisualMode = $(this).hasClass('switch-tmce');\n      if (isTextMode) {\n        // Switching to text mode - get content from visual editor first\n        if (tinyMCE.get(editorId)) {\n          var content = tinyMCE.get(editorId).getContent({\n            format: 'raw'\n          });\n          var cleanContent = cleanupFromVisualEditor(content);\n          window._originalEditorContent[editorId] = cleanContent;\n          // Update the textarea directly with clean content\n          $(\"#\".concat(editorId)).val(cleanContent);\n        }\n      }\n      if (isVisualMode) {\n        // Switching to visual mode - restore original content after a delay\n        setTimeout(function () {\n          if (tinyMCE.get(editorId) && window._originalEditorContent[editorId]) {\n            var preparedContent = prepareForVisualEditor(window._originalEditorContent[editorId]);\n            tinyMCE.get(editorId).setContent(preparedContent, {\n              format: 'raw'\n            });\n          }\n        }, 100);\n      }\n    });\n    logger.log(\"Editor \".concat(editorId, \" configured with <br> tag protection\"));\n    return true;\n  };\n\n  // Initialize editors\n  var initEditors = function initEditors() {\n    if (typeof tinyMCE !== 'undefined' && tinyMCE.editors) {\n      var allInitialized = true;\n      editorIds.forEach(function (id) {\n        if (!initEditor(id)) {\n          allInitialized = false;\n        }\n      });\n      return allInitialized;\n    }\n    return false;\n  };\n\n  // Try to initialize immediately\n  if (!initEditors()) {\n    // If not successful, poll until ready\n    var attempts = 0;\n    var interval = setInterval(function () {\n      attempts++;\n      if (initEditors() || attempts > 20) {\n        clearInterval(interval);\n      }\n    }, 300);\n  }\n\n  // Ensure text mode changes are stored\n  editorIds.forEach(function (id) {\n    $(\"#\".concat(id)).on('input change', function () {\n      window._originalEditorContent[id] = $(this).val();\n    });\n  });\n\n  // Handle form submission to ensure HTML content is preserved\n  $(\"\".concat(containerSelector, \" form\")).off('submit.htmlPreservation').on('submit.htmlPreservation', function () {\n    // Update all editor content before form submission\n    editorIds.forEach(function (id) {\n      var finalContent = '';\n\n      // First try to get content from active editor (Visual or Text)\n      if (tinyMCE.get(id) && tinyMCE.get(id).isHidden()) {\n        // Text mode is active - get directly from textarea\n        var $textarea = $(\"#\".concat(id));\n        if ($textarea.length) {\n          finalContent = $textarea.val();\n        }\n      } else if (tinyMCE.get(id)) {\n        // Visual mode is active - get from editor and clean up\n        var content = tinyMCE.get(id).getContent({\n          format: 'raw'\n        });\n        finalContent = cleanupFromVisualEditor(content);\n      }\n\n      // If no content found but we have stored content, use that\n      if (!finalContent && window._originalEditorContent[id]) {\n        finalContent = window._originalEditorContent[id];\n      }\n\n      // Update the textarea with final content\n      if (finalContent) {\n        $(\"#\".concat(id)).val(finalContent);\n        logger.log(\"Form submission: Updated \".concat(id, \" with content length: \").concat(finalContent.length));\n      }\n    });\n\n    // Let the form submit normally\n    return true;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MEIsTUFBQSxDQUFLcUIsRUFBRSxDQUFFLENBQUMsQ0FBQ25CLEdBQUcsQ0FBQ3lCLFlBQVksQ0FBQztRQUM3QjVELE1BQU0sQ0FBQ1MsR0FBRyw2QkFBQXdCLE1BQUEsQ0FBNkJxQixFQUFFLDRCQUFBckIsTUFBQSxDQUF5QjJCLFlBQVksQ0FBQ3ZELE1BQU0sQ0FBRSxDQUFDO01BQzFGO0lBQ0YsQ0FBQyxDQUFDOztJQUVGO0lBQ0EsT0FBTyxJQUFJO0VBQ2IsQ0FBQyxDQUFDO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9kdWN0LWVzdGltYXRvci8uL3NyYy9qcy91dGlscy90aW55bWNlLXByZXNlcnZlci5qcz81Y2Q0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGlyZWN0IGNvcHkgb2YgdGhlIHdvcmtpbmcgc2V0dXBXcEVkaXRvcnMgZnVuY3Rpb24gYXMgYSB1dGlsaXR5XG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuY29uc3QgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKCdVdGlsc1RpbnlNQ0VQcmVzZXJ2ZXInKTtcbi8qKlxuICogU2V0IHVwIFRpbnlNQ0UgSFRNTCBwcmVzZXJ2YXRpb24gdG8gcHJvcGVybHkgaGFuZGxlIHNwZWNpYWwgdGFncyBsaWtlIDxicj5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGVkaXRvcklkcyAtIEFycmF5IG9mIFRpbnlNQ0UgZWRpdG9yIElEcyB0byBjb25maWd1cmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250YWluZXJTZWxlY3RvciAtIENTUyBzZWxlY3RvciBmb3IgdGhlIGNvbnRhaW5lciB3aXRoIGVkaXRvcnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0dXBUaW55TUNFSFRNTFByZXNlcnZhdGlvbihlZGl0b3JJZHMsIGNvbnRhaW5lclNlbGVjdG9yID0gJ2JvZHknKSB7XG4gIGNvbnN0ICQgPSBqUXVlcnk7XG5cbiAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gdGhlIHJpZ2h0IGNvbnRhaW5lclxuICBpZiAoJChjb250YWluZXJTZWxlY3RvcikubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbG9nZ2VyLmxvZygnU2V0dGluZyB1cCByaWNoIHRleHQgZWRpdG9ycyB3aXRoIDxicj4gdGFnIHByZXNlcnZhdGlvbicpO1xuXG4gIC8vIFN0b3JlIG9yaWdpbmFsIEhUTUwgY29udGVudCB0byByZXN0b3JlIGFmdGVyIG1vZGUgc3dpdGNoZXNcbiAgd2luZG93Ll9vcmlnaW5hbEVkaXRvckNvbnRlbnQgPSB3aW5kb3cuX29yaWdpbmFsRWRpdG9yQ29udGVudCB8fCB7fTtcblxuICAvLyBGdW5jdGlvbiB0byBwcmVwYXJlIGNvbnRlbnQgZm9yIHRoZSBWaXN1YWwgZWRpdG9yXG4gIC8vIFRoaXMgc3BlY2lmaWNhbGx5IGhhbmRsZXMgdGhlIDxicj4gdGFnIGlzc3VlXG4gIGNvbnN0IHByZXBhcmVGb3JWaXN1YWxFZGl0b3IgPSAoY29udGVudCkgPT4ge1xuICAgIC8vIEVuc3VyZSA8YnI+IHRhZ3MgYXJlIHByb3Blcmx5IHByZXNlcnZlZCBieSBhZGRpbmcgYSBtYXJrZXJcbiAgICAvLyBUaW55TUNFIG9mdGVuIHN0cmlwcyBzb2xvIDxicj4gdGFncywgc28gd2UgYWRkIGEgemVyby13aWR0aCBzcGFjZSBhZnRlciB0aGVtXG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvPGJyXFxzKlxcLz8+L2dpLCAnPGJyPlxcdTIwMEInKTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBjbGVhbiB1cCBjb250ZW50IHdoZW4gcmV0cmlldmluZyBmcm9tIHRoZSBWaXN1YWwgZWRpdG9yXG4gIGNvbnN0IGNsZWFudXBGcm9tVmlzdWFsRWRpdG9yID0gKGNvbnRlbnQpID0+IHtcbiAgICAvLyBSZW1vdmUgYW55IHplcm8td2lkdGggc3BhY2VzIHdlIGFkZGVkXG4gICAgcmV0dXJuIGNvbnRlbnQucmVwbGFjZSgvXFx1MjAwQi9nLCAnJyk7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gcHJvcGVybHkgaW5pdGlhbGl6ZSBUaW55TUNFIHdpdGggYnIgdGFnIHByZXNlcnZhdGlvblxuICBjb25zdCBpbml0RWRpdG9yID0gKGVkaXRvcklkKSA9PiB7XG4gICAgaWYgKCF0aW55TUNFIHx8ICF0aW55TUNFLmdldChlZGl0b3JJZCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCBlZGl0b3IgPSB0aW55TUNFLmdldChlZGl0b3JJZCk7XG5cbiAgICAvLyBDb25maWd1cmUgZWRpdG9yIGZvciBIVE1MIHByZXNlcnZhdGlvblxuICAgIGVkaXRvci5zZXR0aW5ncy53cGF1dG9wID0gZmFsc2U7XG4gICAgZWRpdG9yLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrID0gJyc7XG4gICAgZWRpdG9yLnNldHRpbmdzLnZhbGlkX2VsZW1lbnRzID0gJypbKl0nO1xuICAgIGVkaXRvci5zZXR0aW5ncy5lbnRpdHlfZW5jb2RpbmcgPSAncmF3JztcbiAgICBlZGl0b3Iuc2V0dGluZ3MudmVyaWZ5X2h0bWwgPSBmYWxzZTtcbiAgICBlZGl0b3Iuc2V0dGluZ3MuYnJfaW5fcHJlID0gZmFsc2U7XG5cbiAgICAvLyBBZGRpdGlvbmFsIEJSIHNwZWNpZmljIHNldHRpbmdzXG4gICAgZWRpdG9yLnNldHRpbmdzLmtlZXBfc3R5bGVzID0gdHJ1ZTtcbiAgICBlZGl0b3Iuc2V0dGluZ3MucmVtb3ZlX2xpbmVicmVha3MgPSBmYWxzZTtcbiAgICBlZGl0b3Iuc2V0dGluZ3MuY29udmVydF9uZXdsaW5lc190b19icnMgPSB0cnVlO1xuICAgIGVkaXRvci5zZXR0aW5ncy5yZW1vdmVfcmVkdW5kYW50X2JycyA9IGZhbHNlO1xuXG4gICAgLy8gR2V0IHJhdyBjb250ZW50IGZyb20gdGV4dGFyZWFcbiAgICBjb25zdCAkdGV4dGFyZWEgPSAkKGAjJHtlZGl0b3JJZH1gKTtcbiAgICBpZiAoJHRleHRhcmVhLmxlbmd0aCkge1xuICAgICAgY29uc3QgcmF3Q29udGVudCA9ICR0ZXh0YXJlYS52YWwoKTtcbiAgICAgIHdpbmRvdy5fb3JpZ2luYWxFZGl0b3JDb250ZW50W2VkaXRvcklkXSA9IHJhd0NvbnRlbnQ7XG5cbiAgICAgIC8vIFNldCB0aGUgY29udGVudCBpbiBlZGl0b3Igd2l0aCBvdXIgPGJyPiBwcmVzZXJ2YXRpb24gZnVuY3Rpb25cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmVwYXJlZENvbnRlbnQgPSBwcmVwYXJlRm9yVmlzdWFsRWRpdG9yKHJhd0NvbnRlbnQpO1xuICAgICAgICBlZGl0b3Iuc2V0Q29udGVudChwcmVwYXJlZENvbnRlbnQsIHtmb3JtYXQ6ICdyYXcnfSk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgZm9yIGNvbnRlbnQgZmlsdGVyaW5nXG5cbiAgICAvLyBQcm9jZXNzIGNvbnRlbnQgYmVmb3JlIGl0J3Mgc2V0IGluIHRoZSBlZGl0b3JcbiAgICBlZGl0b3Iub24oJ0JlZm9yZVNldENvbnRlbnQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5jb250ZW50KSB7XG4gICAgICAgIC8vIFByb2Nlc3MgdGhlIGNvbnRlbnQgdG8gcHJlc2VydmUgPGJyPiB0YWdzXG4gICAgICAgIGUuY29udGVudCA9IHByZXBhcmVGb3JWaXN1YWxFZGl0b3IoZS5jb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RvcmUgb3JpZ2luYWwgY29udGVudCBpZiB0aGlzIGlzIGluaXRpYWwgbG9hZCBvciBzd2l0Y2hpbmcgZnJvbSB0ZXh0IG1vZGVcbiAgICAgIGlmIChlLmluaXRpYWwgfHwgZS5zb3VyY2Vfdmlldykge1xuICAgICAgICB3aW5kb3cuX29yaWdpbmFsRWRpdG9yQ29udGVudFtlZGl0b3JJZF0gPSBlLmNvbnRlbnQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBQcm9jZXNzIGNvbnRlbnQgd2hlbiBpdCdzIHJldHJpZXZlZCBmcm9tIHRoZSBlZGl0b3JcbiAgICBlZGl0b3Iub24oJ0dldENvbnRlbnQnLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5jb250ZW50KSB7XG4gICAgICAgIC8vIENsZWFuIHVwIG91ciBtYXJrZXIgY2hhcmFjdGVyc1xuICAgICAgICBlLmNvbnRlbnQgPSBjbGVhbnVwRnJvbVZpc3VhbEVkaXRvcihlLmNvbnRlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2FwdHVyZSByYXcgY29udGVudCB3aGVuIGVkaXRvciBpcyBpbml0aWFsaXplZFxuICAgIGVkaXRvci5vbignaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KHtmb3JtYXQ6ICdyYXcnfSk7XG4gICAgICB3aW5kb3cuX29yaWdpbmFsRWRpdG9yQ29udGVudFtlZGl0b3JJZF0gPSBjbGVhbnVwRnJvbVZpc3VhbEVkaXRvcihjb250ZW50KTtcbiAgICAgIGxvZ2dlci5sb2coYEVkaXRvciAke2VkaXRvcklkfSBpbml0aWFsaXplZCB3aXRoIGNvbnRlbnQgbGVuZ3RoOiAke2NvbnRlbnQubGVuZ3RofWApO1xuICAgIH0pO1xuXG4gICAgLy8gUHJldmVudCBjb250ZW50IGxvc3Mgd2hlbiBzd2l0Y2hpbmcgbW9kZXNcbiAgICBjb25zdCAkdGFiQnV0dG9ucyA9ICQoYC53cC1lZGl0b3ItdGFicyBidXR0b25bZGF0YS13cC1lZGl0b3ItaWQ9XCIke2VkaXRvcklkfVwiXWApO1xuICAgICR0YWJCdXR0b25zLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgaXNUZXh0TW9kZSA9ICQodGhpcykuaGFzQ2xhc3MoJ3N3aXRjaC1odG1sJyk7XG4gICAgICBjb25zdCBpc1Zpc3VhbE1vZGUgPSAkKHRoaXMpLmhhc0NsYXNzKCdzd2l0Y2gtdG1jZScpO1xuXG4gICAgICBpZiAoaXNUZXh0TW9kZSkge1xuICAgICAgICAvLyBTd2l0Y2hpbmcgdG8gdGV4dCBtb2RlIC0gZ2V0IGNvbnRlbnQgZnJvbSB2aXN1YWwgZWRpdG9yIGZpcnN0XG4gICAgICAgIGlmICh0aW55TUNFLmdldChlZGl0b3JJZCkpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGlueU1DRS5nZXQoZWRpdG9ySWQpLmdldENvbnRlbnQoe2Zvcm1hdDogJ3Jhdyd9KTtcbiAgICAgICAgICBjb25zdCBjbGVhbkNvbnRlbnQgPSBjbGVhbnVwRnJvbVZpc3VhbEVkaXRvcihjb250ZW50KTtcbiAgICAgICAgICB3aW5kb3cuX29yaWdpbmFsRWRpdG9yQ29udGVudFtlZGl0b3JJZF0gPSBjbGVhbkNvbnRlbnQ7XG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSB0ZXh0YXJlYSBkaXJlY3RseSB3aXRoIGNsZWFuIGNvbnRlbnRcbiAgICAgICAgICAkKGAjJHtlZGl0b3JJZH1gKS52YWwoY2xlYW5Db250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNWaXN1YWxNb2RlKSB7XG4gICAgICAgIC8vIFN3aXRjaGluZyB0byB2aXN1YWwgbW9kZSAtIHJlc3RvcmUgb3JpZ2luYWwgY29udGVudCBhZnRlciBhIGRlbGF5XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aW55TUNFLmdldChlZGl0b3JJZCkgJiYgd2luZG93Ll9vcmlnaW5hbEVkaXRvckNvbnRlbnRbZWRpdG9ySWRdKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVwYXJlZENvbnRlbnQgPSBwcmVwYXJlRm9yVmlzdWFsRWRpdG9yKHdpbmRvdy5fb3JpZ2luYWxFZGl0b3JDb250ZW50W2VkaXRvcklkXSk7XG4gICAgICAgICAgICB0aW55TUNFLmdldChlZGl0b3JJZCkuc2V0Q29udGVudChwcmVwYXJlZENvbnRlbnQsIHtmb3JtYXQ6ICdyYXcnfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCAxMDApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbG9nZ2VyLmxvZyhgRWRpdG9yICR7ZWRpdG9ySWR9IGNvbmZpZ3VyZWQgd2l0aCA8YnI+IHRhZyBwcm90ZWN0aW9uYCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gSW5pdGlhbGl6ZSBlZGl0b3JzXG4gIGNvbnN0IGluaXRFZGl0b3JzID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgdGlueU1DRSAhPT0gJ3VuZGVmaW5lZCcgJiYgdGlueU1DRS5lZGl0b3JzKSB7XG4gICAgICBsZXQgYWxsSW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICBlZGl0b3JJZHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgIGlmICghaW5pdEVkaXRvcihpZCkpIHtcbiAgICAgICAgICBhbGxJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGFsbEluaXRpYWxpemVkO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gVHJ5IHRvIGluaXRpYWxpemUgaW1tZWRpYXRlbHlcbiAgaWYgKCFpbml0RWRpdG9ycygpKSB7XG4gICAgLy8gSWYgbm90IHN1Y2Nlc3NmdWwsIHBvbGwgdW50aWwgcmVhZHlcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgYXR0ZW1wdHMrKztcbiAgICAgIGlmIChpbml0RWRpdG9ycygpIHx8IGF0dGVtcHRzID4gMjApIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSwgMzAwKTtcbiAgfVxuXG4gIC8vIEVuc3VyZSB0ZXh0IG1vZGUgY2hhbmdlcyBhcmUgc3RvcmVkXG4gIGVkaXRvcklkcy5mb3JFYWNoKGlkID0+IHtcbiAgICAkKGAjJHtpZH1gKS5vbignaW5wdXQgY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICB3aW5kb3cuX29yaWdpbmFsRWRpdG9yQ29udGVudFtpZF0gPSAkKHRoaXMpLnZhbCgpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBIYW5kbGUgZm9ybSBzdWJtaXNzaW9uIHRvIGVuc3VyZSBIVE1MIGNvbnRlbnQgaXMgcHJlc2VydmVkXG4gICQoYCR7Y29udGFpbmVyU2VsZWN0b3J9IGZvcm1gKS5vZmYoJ3N1Ym1pdC5odG1sUHJlc2VydmF0aW9uJykub24oJ3N1Ym1pdC5odG1sUHJlc2VydmF0aW9uJywgZnVuY3Rpb24oKSB7XG4gICAgLy8gVXBkYXRlIGFsbCBlZGl0b3IgY29udGVudCBiZWZvcmUgZm9ybSBzdWJtaXNzaW9uXG4gICAgZWRpdG9ySWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICAgIGxldCBmaW5hbENvbnRlbnQgPSAnJztcblxuICAgICAgLy8gRmlyc3QgdHJ5IHRvIGdldCBjb250ZW50IGZyb20gYWN0aXZlIGVkaXRvciAoVmlzdWFsIG9yIFRleHQpXG4gICAgICBpZiAodGlueU1DRS5nZXQoaWQpICYmIHRpbnlNQ0UuZ2V0KGlkKS5pc0hpZGRlbigpKSB7XG4gICAgICAgIC8vIFRleHQgbW9kZSBpcyBhY3RpdmUgLSBnZXQgZGlyZWN0bHkgZnJvbSB0ZXh0YXJlYVxuICAgICAgICBjb25zdCAkdGV4dGFyZWEgPSAkKGAjJHtpZH1gKTtcbiAgICAgICAgaWYgKCR0ZXh0YXJlYS5sZW5ndGgpIHtcbiAgICAgICAgICBmaW5hbENvbnRlbnQgPSAkdGV4dGFyZWEudmFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGlueU1DRS5nZXQoaWQpKSB7XG4gICAgICAgIC8vIFZpc3VhbCBtb2RlIGlzIGFjdGl2ZSAtIGdldCBmcm9tIGVkaXRvciBhbmQgY2xlYW4gdXBcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRpbnlNQ0UuZ2V0KGlkKS5nZXRDb250ZW50KHtmb3JtYXQ6ICdyYXcnfSk7XG4gICAgICAgIGZpbmFsQ29udGVudCA9IGNsZWFudXBGcm9tVmlzdWFsRWRpdG9yKGNvbnRlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBjb250ZW50IGZvdW5kIGJ1dCB3ZSBoYXZlIHN0b3JlZCBjb250ZW50LCB1c2UgdGhhdFxuICAgICAgaWYgKCFmaW5hbENvbnRlbnQgJiYgd2luZG93Ll9vcmlnaW5hbEVkaXRvckNvbnRlbnRbaWRdKSB7XG4gICAgICAgIGZpbmFsQ29udGVudCA9IHdpbmRvdy5fb3JpZ2luYWxFZGl0b3JDb250ZW50W2lkXTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSB0ZXh0YXJlYSB3aXRoIGZpbmFsIGNvbnRlbnRcbiAgICAgIGlmIChmaW5hbENvbnRlbnQpIHtcbiAgICAgICAgJChgIyR7aWR9YCkudmFsKGZpbmFsQ29udGVudCk7XG4gICAgICAgIGxvZ2dlci5sb2coYEZvcm0gc3VibWlzc2lvbjogVXBkYXRlZCAke2lkfSB3aXRoIGNvbnRlbnQgbGVuZ3RoOiAke2ZpbmFsQ29udGVudC5sZW5ndGh9YCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMZXQgdGhlIGZvcm0gc3VibWl0IG5vcm1hbGx5XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUxvZ2dlciIsImxvZ2dlciIsInNldHVwVGlueU1DRUhUTUxQcmVzZXJ2YXRpb24iLCJlZGl0b3JJZHMiLCJjb250YWluZXJTZWxlY3RvciIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIiQiLCJqUXVlcnkiLCJsb2ciLCJ3aW5kb3ciLCJfb3JpZ2luYWxFZGl0b3JDb250ZW50IiwicHJlcGFyZUZvclZpc3VhbEVkaXRvciIsImNvbnRlbnQiLCJyZXBsYWNlIiwiY2xlYW51cEZyb21WaXN1YWxFZGl0b3IiLCJpbml0RWRpdG9yIiwiZWRpdG9ySWQiLCJ0aW55TUNFIiwiZ2V0IiwiZWRpdG9yIiwic2V0dGluZ3MiLCJ3cGF1dG9wIiwiZm9yY2VkX3Jvb3RfYmxvY2siLCJ2YWxpZF9lbGVtZW50cyIsImVudGl0eV9lbmNvZGluZyIsInZlcmlmeV9odG1sIiwiYnJfaW5fcHJlIiwia2VlcF9zdHlsZXMiLCJyZW1vdmVfbGluZWJyZWFrcyIsImNvbnZlcnRfbmV3bGluZXNfdG9fYnJzIiwicmVtb3ZlX3JlZHVuZGFudF9icnMiLCIkdGV4dGFyZWEiLCJjb25jYXQiLCJyYXdDb250ZW50IiwidmFsIiwic2V0VGltZW91dCIsInByZXBhcmVkQ29udGVudCIsInNldENvbnRlbnQiLCJmb3JtYXQiLCJvbiIsImUiLCJpbml0aWFsIiwic291cmNlX3ZpZXciLCJnZXRDb250ZW50IiwiJHRhYkJ1dHRvbnMiLCJpc1RleHRNb2RlIiwiaGFzQ2xhc3MiLCJpc1Zpc3VhbE1vZGUiLCJjbGVhbkNvbnRlbnQiLCJpbml0RWRpdG9ycyIsImVkaXRvcnMiLCJhbGxJbml0aWFsaXplZCIsImZvckVhY2giLCJpZCIsImF0dGVtcHRzIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJvZmYiLCJmaW5hbENvbnRlbnQiLCJpc0hpZGRlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/tinymce-preserver.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	!function() {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = function(result, chunkIds, fn, priority) {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	!function() {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"admin/product-estimator-admin": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = function(parentChunkLoadingFunction, data) {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkproduct_estimator"] = self["webpackChunkproduct_estimator"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["common"], function() { return __webpack_require__("./src/js/admin.js"); })
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;